"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[80256],{80256:(e,t,n)=>{n.r(t),n.d(t,{OperatorGeodeticArea:()=>v});var i=n(89379),s=n(97799),a=n(63331),_=n(20265),r=n(56175),o=n(26871),h=n(21557),m=n(91523),c=n(88689),l=n(90465),u=n(6326),p=n(16364),g=n(63033);class d{constructor(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;this.m_startPt=e.clone(),this.m_endPt=t.clone(),this.m_cE2=i,this.m_cE=Math.sqrt(this.m_cE2),this.m_c1By2e=1/(2*this.m_cE),this.m_cRpu=n.getGCS().getUnit().getUnitToBaseFactor(),this.isPcs=2===n.getCoordinateSystemType(),this.PEProjcs=n.getPECoordSys(),this.m_points=(0,o.d)(2*s,Number.NaN)}setSegmentEndPoints(e,t){this.m_startPt.assign(e),this.m_endPt.assign(t)}makeFunctor(){return e=>{const t=[0,0];t[0]=this.m_startPt.x*(1-e)+this.m_endPt.x*e,t[1]=this.m_startPt.y*(1-e)+this.m_endPt.y*e,this.isPcs&&r.a8.projToGeogCenter(this.PEProjcs,1,t,0);const n=Math.sin(t[1]*this.m_cRpu);return 0===this.m_cE2?n:-Math.log((1-this.m_cE*n)/(1+this.m_cE*n))*this.m_c1By2e+n/(1-this.m_cE2*n*n)}}}function E(e,t,n,i,s){const a=function(e,t,n){const i=e.calculateLength2D(),s=(new l.O).execute(e,t,n)/25e3,a=i/e.getSegmentCount()*2;let _=Math.min(a,i/s);return 0===_&&(_=1),(0,o.l)(_,i/_)}(e,t,s);let _=P(e,a.first,n,i,s),r=1,h=0,m=0;do{if(r++,a.first*=.5,a.first<50*t.getTolerance(0))return _;a.second*=2,m=P(e,a.first,n,i,s),h=Math.abs(m-_),_=m}while(Math.abs(_)>1&&h>1e-8*Math.abs(_)&&(a.second<65e3&&r<8||r<4));return m}function P(e,t,n,i,s){const a=(new _.O).execute(e,t,0,0,s);let o;o=i?(new r.O).execute(a,i,s):a;const m=1===n.getUnit().getUnitToBaseFactor()?Math.PI/180:1,c=new h.Envelope2D;o.queryEnvelope(c);const l=new h.Envelope2D,u=new h.Envelope2D,p=new h.Envelope2D;l.setCoords({xmin:c.xmin,ymin:75*m,xmax:c.xmax,ymax:90*m}),u.setCoords({xmin:c.xmin,ymin:-60*m,xmax:c.xmax,ymax:75*m}),p.setCoords({xmin:c.xmin,ymin:-90*m,xmax:c.xmax,ymax:-60*m}),l.inflateCoords(.01*l.width(),0),u.inflateCoords(.01*u.width(),0),p.inflateCoords(.01*p.width(),0);let g=0;return g+=f(o,l,n,s),g+=f(o,u,n,s),g+=f(o,p,n,s),g}function f(e,t,n,i){const a=(new c.O).execute(e,t,n,i);if(null!==a&&!a.isEmpty()){const e=new h.Envelope2D;a.queryEnvelope(e);const{first:t,second:_}=function(e,t,n){const i=function(e,t,n){const i=e.getUnit().getUnitToBaseFactor(),a=t.getCenter();a.scale(180*i/Math.PI);const _=new o.P;_.x=0,_.y=0;let h=0;if(0===h){a.y>45?(_.y=o.o,h=0):a.y<-45?(_.y=-o.o,h=1):a.x>=45&&a.x<135?(_.x=o.o,h=2):a.x>=135||a.x<-135?(_.x=o.o,h=3):a.x<-45&&a.x>=-135?(_.x=-o.o,h=4):(_.x=0,h=5);const e=i*Math.sqrt((0,o.a)(t.xmin-t.xmax)+(0,o.a)(t.ymin-t.ymax)),n=_.clone(),s=t.getCenter();if(s.scale(i),h<2&&(n.x=s.x),o.P.distance(n,s)+.5*e>o.o)return null}const m=S[h];if(null!==m&&m.getGCS().equalHorizontal(e))return m;const c=e.getText(),l=_.x,u=_.y,p=0,g=0;let d=0,E=-1;6!==h?E=r.aC.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA:((0,s.g)(n),d=0,E=r.aC.PE_PRJ_CYLINDRICAL_EQAREA);const P=(0,r.i)("EqualAreaPCS");let f;E===r.aC.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA?f='PROJCS["'.concat(P,'",').concat(c,',PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["False_Easting",').concat(p,'],PARAMETER["False_Northing",').concat(g,'],PARAMETER["Central_Meridian",').concat(l,'],PARAMETER["Latitude_of_Origin",').concat(u,'],UNIT["Meter",1.0]]'):E===r.aC.PE_PRJ_CYLINDRICAL_EQAREA?f='PROJCS["'.concat(P,'",').concat(c,',PROJECTION["Cylindrical_Equal_Area"],PARAMETER["False_Easting",').concat(p,'],PARAMETER["False_Northing",').concat(g,'],PARAMETER["Central_Meridian",').concat(l,'],PARAMETER["Standard_Parallel_1",').concat(d,'],PARAMETER["Latitude_of_Origin",').concat(u,'],UNIT["Meter",1.0]]'):(0,s.d)("getEqualAreaPcsFixed");const y=(0,r.b)(f);return S[h]&&S[h].destroy(),S[h]=y,y}(e,t,n);if(null!==i)return(0,o.l)(i,!1);const a=e.getText(),_=e.getUnit().getUnitToBaseFactor(),h=(t.xmin+t.width()/2)*_,m=(t.ymin+t.height()/2)*_,c=0,l=0;let u=0,p=0,g=-1;t.ymin*_>=75*Math.PI/180||t.ymax*_<=-60*Math.PI/180?g=r.aC.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA:t.ymin>0||t.ymax<0?(u=(t.ymin+1/3*t.height())*_,p=(t.ymin+2/3*t.height())*_,g=r.aC.PE_PRJ_ALBERS):(u=(t.ymin+2/3*t.height())*_,g=r.aC.PE_PRJ_CYLINDRICAL_EQAREA);const d=(0,r.i)("EqualAreaPCS");let E;return g===r.aC.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA?E='PROJCS["'.concat(d,'",').concat(a,',PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["False_Easting",').concat(c,'],PARAMETER["False_Northing",').concat(l,'],PARAMETER["Central_Meridian",').concat(h,'],PARAMETER["Latitude_of_Origin",').concat(m,'],UNIT["Meter",1.0]]'):g===r.aC.PE_PRJ_ALBERS?E='PROJCS["'.concat(d,'",').concat(a,',PROJECTION["Albers"],PARAMETER["False_Easting",').concat(c,'],PARAMETER["False_Northing",').concat(l,'],PARAMETER["Central_Meridian",').concat(h,'],PARAMETER["Standard_Parallel_1",').concat(u,'],PARAMETER["Standard_Parallel_2",').concat(p,'],PARAMETER["Latitude_of_Origin",').concat(m,'],UNIT["Meter",1.0]]'):g===r.aC.PE_PRJ_CYLINDRICAL_EQAREA?E='PROJCS["'.concat(d,'",').concat(a,',PROJECTION["Cylindrical_Equal_Area"],PARAMETER["False_Easting",').concat(c,'],PARAMETER["False_Northing",').concat(l,'],PARAMETER["Central_Meridian",').concat(h,'],PARAMETER["Standard_Parallel_1",').concat(u,'],PARAMETER["Latitude_of_Origin",').concat(m,'],UNIT["Meter",1.0]]'):(0,s.d)("getEqualAreaPCSInstance"),(0,o.l)((0,r.b)(E),!0)}(n,e,!1),m=(0,r.x)(n,t,null),c=(new r.O).execute(a,m,i).calculateArea2D();return _&&t.destroy(),c}return 0}const S=[null,null,null,null,null,null,null];class y{getOperatorType(){return 10314}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,n){if(0===t.getCoordinateSystemType()&&(0,s.a)(""),e.isEmpty()||e.getDimension()<2)return 0;if((0,s.c)(e),e.getGeometryType()===s.G.enumEnvelope){const i=new a.a;return i.addEnvelope(e,!1),this.execute(i,t,n)}let i=e;e.getDescription().getAttributeCount()>1&&(i=e.clone(),i.dropAllAttributes());const l=(new _.O).execute(i,0,t.getTolerance(0),0,n);let u=null;const p=t.getGCS();p!==t&&(u=(0,r.x)(t,p));let g=(new r.D).execute(l,t,!1,n);return g.isEmpty()?0:(g===e&&(g=e.clone()),t.isPannable()?function(e,t,n){const i=new h.Envelope2D;e.queryEnvelope(i);const s=(0,m.c)(t,i,!0).total(),_=t.getPannableExtent();_.xmin=i.xmin-10*s,_.xmax=i.xmax+10*s;const l=(new c.O).execute(e,_,t,n).getImpl().querySegmentIterator();l.stripAttributes();const u=(0,r.r)();t.querySpheroidData(u);const p=u.e2,g=0===p?2:1,E=new o.P(0,0),P=new o.P(0,0),f=new o.K(0),S=new d(E,P,t,p,100);for(;l.nextPath();)for(;l.hasNextSegment();){const e=l.nextSegment();E.assign(e.getStartXY()),P.assign(e.getEndXY()),S.setSegmentEndPoints(E,P);const t=(0,a.x)(6,0,1,1e-12,1e-15,S.makeFunctor());f.pe((P.x-E.x)*t)}const y=u.majorSemiAxis;return g*y*y*(1-p)*Math.PI*f.getResult()/t.getPannableExtent().width()}(g,t,n):E(g,t,p,u,n))}}function x(){return{m_p_PCS:new o.P,m_factor:Number.NaN,setValues:A,assign:C}}function A(e,t){this.m_factor=e,this.m_p_PCS.assign(t)}function C(e){this.m_factor=e.m_factor,this.m_p_PCS.assign(e.m_p_PCS)}class R{constructor(e,t,n,i){this.m_ptStart=new m.d,this.m_ptEnd=new m.d,this.m_ptStart.assign(t),this.m_ptEnd.assign(n),this.m_deltaX=this.m_ptEnd.x-this.m_ptStart.x,this.m_deltaY=this.m_ptEnd.y-this.m_ptStart.y,this.m_e=Math.sqrt(e),this.m_e2=e,this.m_c1MinusE2=1-e;const s=Math.sin(i);let a;a=0===this.m_e2?2*s:s*((0,o.y)(this.m_e*s)+1/(1-this.m_e2*s*s)),this.m_baseA=a}setSegmentEndPoints(e,t){this.m_ptStart.assign(e),this.m_ptEnd.assign(t),this.m_deltaX=this.m_ptEnd.x-this.m_ptStart.x,this.m_deltaY=this.m_ptEnd.y-this.m_ptStart.y}makeFunctor(){return e=>{const t=1-e,n=t*this.m_ptStart.x+e*this.m_ptEnd.x,i=t*this.m_ptStart.y+e*this.m_ptEnd.y,s=t*this.m_ptStart.z+e*this.m_ptEnd.z,a=n*n+i*i,_=s/Math.sqrt(s*s+this.m_c1MinusE2*this.m_c1MinusE2*a);let r;return r=0===this.m_e2?2*_:_*((0,o.y)(this.m_e*_)+1/(1-this.m_e2*_*_)),(this.m_deltaY*n-this.m_deltaX*i)/a*(r-this.m_baseA)}}}function M(){return{sin_phi:Number.NaN,one_p_sin_phi:Number.NaN,one_m_sin_phi:Number.NaN,one_m_e_2_sin_2_phi:Number.NaN,sin_half_phi_pf:Number.NaN,sin_half_phi_pz:Number.NaN,sin_half_asin_e_sin_phi_pf:Number.NaN,sin_half_asin_e_sin_phi_pz:Number.NaN,atanh_sin_phi:Number.NaN,atanh_esin_phi:Number.NaN,make_negative:!1,initialize:T,changeSign:w,assign:N,clone:q}}function T(e,t,n,i){const s=.5*e;this.sin_phi=Math.sin(e);const a=t*this.sin_phi,_=.5*Math.asin(a);this.one_p_sin_phi=1+this.sin_phi,this.one_m_sin_phi=1-this.sin_phi,this.one_m_e_2_sin_2_phi=(1+a)*(1-a),this.sin_half_phi_pf=Math.sin(s+n),this.sin_half_phi_pz=Math.sin(s+i),this.sin_half_asin_e_sin_phi_pf=Math.sin(_+n),this.sin_half_asin_e_sin_phi_pz=Math.sin(_+i),this.atanh_sin_phi=Math.log(this.sin_half_phi_pf/this.sin_half_phi_pz),this.atanh_esin_phi=Math.log(this.sin_half_asin_e_sin_phi_pf/this.sin_half_asin_e_sin_phi_pz)}function w(){this.sin_phi=-this.sin_phi;let e=this.one_p_sin_phi;this.one_p_sin_phi=this.one_m_sin_phi,this.one_m_sin_phi=e,e=this.sin_half_phi_pf,this.sin_half_phi_pf=this.sin_half_phi_pz,this.sin_half_phi_pz=e,e=this.sin_half_asin_e_sin_phi_pf,this.sin_half_asin_e_sin_phi_pf=this.sin_half_asin_e_sin_phi_pz,this.sin_half_asin_e_sin_phi_pz=e,this.atanh_sin_phi=-this.atanh_sin_phi,this.atanh_esin_phi=-this.atanh_esin_phi}function N(e){this.sin_phi=e.sin_phi,this.one_p_sin_phi=e.one_p_sin_phi,this.one_m_sin_phi=e.one_m_sin_phi,this.one_m_e_2_sin_2_phi=e.one_m_e_2_sin_2_phi,this.sin_half_phi_pf=e.sin_half_phi_pf,this.sin_half_phi_pz=e.sin_half_phi_pz,this.sin_half_asin_e_sin_phi_pf=e.sin_half_asin_e_sin_phi_pf,this.sin_half_asin_e_sin_phi_pz=e.sin_half_asin_e_sin_phi_pz,this.atanh_sin_phi=e.atanh_sin_phi,this.atanh_esin_phi=e.atanh_esin_phi,this.make_negative=e.make_negative}function q(){return(0,i.A)({},this)}class b{constructor(e,t,n){this.m_transformPCS2GCS=null,this.m_scaleToRadians=new p.T,this.m_scaleToDegrees=new p.T,this.m_progressTracker=n,(0,s.g)(4!==t),this.m_curveType=t,this.m_inputSR=e,e&&0!==e.getCoordinateSystemType()||(0,s.a)(""),this.m_inputGCS=e.getGCS(),this.m_a=0,this.m_eSquared=0,this.m_b=0,this.m_rpu=0}executePolygonGeodeticArea(e){let t,n=e.clone();if(n.dropAllAttributes(),e.hasNonLinearSegments()&&(n=(new _.O).execute(n,0,this.m_inputSR.getTolerance(0),0,this.m_progressTracker)),this.m_inputSR.isPannable()){const e=new h.Envelope2D;n.queryEnvelope(e);const t=this.m_inputSR.getPannableExtent();if(!t.containsEnvelope(e)){const i=t.getCenterX()-e.getCenterX(),s=new p.T;s.setShiftCoords(i,0),n.applyTransformation(s),e.move(i,0);const a=new o.E;t.queryIntervalX(a);const _=new o.E;e.queryIntervalX(_),n=a.contains(_)?(0,r.a3)(n,this.m_inputSR):(new r.O).foldInto360RangeGeodetic(n,this.m_inputSR,this.m_curveType)}}if(this.m_transformPCS2GCS?(n=(new r.D).execute(n,this.m_inputSR,!1,this.m_progressTracker),t=n.createInstance(),(0,r.a5)(this.m_transformPCS2GCS,n,t,this.m_progressTracker)||(t=(new r.O).execute(n,this.m_transformPCS2GCS,this.m_progressTracker))):t=(new r.D).execute(n,this.m_inputGCS,!1,this.m_progressTracker),t.isEmpty())return 0;if(1===this.m_curveType){const e=(0,r.r)();return this.m_inputGCS.querySpheroidData(e),this.m_a=e.majorSemiAxis,this.m_eSquared=e.e2,this.loxodromeArea(t)}const i=t.getImpl();this.m_rpu=this.m_inputGCS.getUnit().getUnitToBaseFactor(),this.m_scaleToRadians.setScale(this.m_rpu),i.applyTransformation(this.m_scaleToRadians),this.m_scaleToDegrees=this.m_scaleToRadians,this.m_scaleToDegrees.invertThis();const s=(0,r.r)();if(this.m_inputGCS.querySpheroidData(s),this.m_a=s.majorSemiAxis,this.m_b=s.minorSemiAxis,this.m_eSquared=s.e2,2===this.m_curveType)return this.executeClippedPolygonGreatEllipticArea(t);{const e={stack:[],error:void 0,hasError:!1};try{const n=r.aU.unit(9101),i=this.m_inputGCS.getPECoordSys(),s=(0,u.mS)(e,i.cloneAlterUnits(n),!1);let a,_,o=this.executeClippedPolygonGeodeticArea(t,s,0),h=0;do{h++,a=this.executeClippedPolygonGeodeticArea(t,s,h),_=Math.abs(a-o),o=a}while(Math.abs(a)>1&&_>1e-8*Math.abs(a)&&h<7);return a}catch(a){e.error=a,e.hasError=!0}finally{(0,u.hk)(e)}}}executeClippedPolygonGeodeticArea(e,t,n){const i={stack:[],error:void 0,hasError:!1};try{const s=new h.Envelope2D;e.queryEnvelope(s);const a=(0,u.mS)(i,this.getEqualAreaPCSInstance(t,s),!1),_=e.clone();(0,r.aV)(a,_);const m=50,c=_.getImpl().getAttributeStreamRef(0),l=e.getImpl().getAttributeStreamRef(0),p=(0,u.mS)(i,new r.a6,!1),g=(0,u.mS)(i,new r.a6,!1),d=40,E=[0,0],P=(0,o.k)(x,d),f=(0,o.d)(d,-1),S=x(),y=x();let A,C;const R=a;let M=_.calculateArea2D();const T=new o.K(0),w=.5*Math.PI,N=1e-10*Math.abs(M)+1e-6,q=e.getPathCount();let b,v,I,L;const z=new o.P,D=new o.P,G=new o.P,O=new o.P,k=new o.P,F=new o.P;let U,J;for(v=e.getPathStart(0),b=0;b<q;b++,v=I)for(I=e.getPathEnd(b),c.queryPoint2D(I-1<<1,G),l.queryPoint2D(I-1<<1,z),Math.abs(z.y)>w&&(z.y=(0,o.f)(w,z.y)),L=v;L<I;L++,G.assign(O),z.assign(D)){if(c.queryPoint2D(L<<1,O),l.queryPoint2D(L<<1,D),Math.abs(D.y)>w&&(D.y=(0,o.f)(w,D.y)),U=o.P.distance(G,O),U<m||0===z.y&&0===D.y)continue;r.a7.geodeticDistance(this.m_a,this.m_eSquared,z.x,z.y,D.x,D.y,p,g,null,this.m_curveType);const e=p.val,t=g.val;for(S.setValues(0,G),y.setValues(1,O),C=n,P[0].assign(y),f[0]=n,A=0;A>=0;){J=.5*(S.m_factor+y.m_factor),r.a7.geodeticCoordinate(this.m_a,this.m_eSquared,z.x,z.y,e*J,t,p,g,this.m_curveType),k.x=p.val,k.y=g.val,E[0]=k.x,E[1]=k.y,r.a8.geogToProj(R,1,E),F.x=E[0],F.y=E[1];const n=.5*-F.offset(S.m_p_PCS,y.m_p_PCS)*o.P.distance(S.m_p_PCS,y.m_p_PCS);if(T.pe(n),Math.abs(n)>N||Math.abs(n)>0&&C>0)y.setValues(J,F),A++,P[A].assign(y),Math.abs(n)<=N?(C--,f[A-1]=C,f[A]=C):(C=f[A-1],f[A]=C);else{if(A<=0)break;S.assign(y),A--,y.assign(P[A]),C=f[A]}}}return M+=T.getResult(),Math.abs(M)}catch(s){i.error=s,i.hasError=!0}finally{(0,u.hk)(i)}}executeClippedPolygonGreatEllipticArea(e){const t=[],n=[],i=new o.P,s=new o.P,a=(0,r.a9)(1,this.m_eSquared,new o.P(0,.5*Math.PI)),_=new o.K(0),c=new o.K(0),l=new o.K(0),u=new m.d,p=new m.d,g=new h.Envelope2D;e.queryLooseEnvelope(g);let d=0;g.containsCoords(g.xmin,0)||(d=Math.abs(g.ymin)<Math.abs(g.ymax)?g.ymin:g.ymax);const E=new R(this.m_eSquared,u,p,d),P=this.m_a*this.m_a,f=e.getImpl().querySegmentIterator();for(f.stripAttributes();f.nextPath();)for(;f.hasNextSegment();){const e=f.nextSegment();i.assign(e.getStartXY()),s.assign(e.getEndXY()),s.x-i.x>Math.PI?i.x+=2*Math.PI:s.x-i.x<-Math.PI&&(s.x+=2*Math.PI),this.splitSegmentCrossingItegralThreshold(e,t,n);for(let n of t)u.assign((0,r.a9)(this.m_a,this.m_eSquared,n.getStartXY())),p.assign((0,r.a9)(this.m_a,this.m_eSquared,n.getEndXY())),E.setSegmentEndPoints(u,p),this.adaptiveIntegrationWithRomberg(E,_);for(let t of n){let e=t.getStartXY(),n=t.getEndXY(),i=d;e.y<0&&(n=(0,o.c)(e,e=n),e.y=-e.y,n.y=-n.y,i=-i);const s=(0,r.a9)(1,this.m_eSquared,e),_=(0,r.a9)(1,this.m_eSquared,n),h=Math.min(e.y,n.y),u=(0,r.aW)(this.m_eSquared,e.x,n.x,i,h);c.pe(u);const p=Math.abs((0,r.aW)(this.m_eSquared,e.x,n.x,h,o.o)),g=new m.d;g.setSub(s,a);const E=new m.d;E.setSub(_,a);const f=new m.d;f.setCrossProductVector(g,E);let S=P*(p-.5*f.length());S=(0,o.f)(S,n.x-e.x),l.pe(S)}t.length=0,n.length=0}return l.getResult()+P*(.5*(1-this.m_eSquared)*_.getResult()+c.getResult())}getEqualAreaPCSInstance(e,t){const n=t.getCenterX();let i,s;const a=t.height();let _,h;(_=t.ymin>45*Math.PI/180||t.ymax<45*-Math.PI/180)?i=(0,o.f)(.5*Math.PI,t.getCenterY()):(i=t.getCenterY(),s=t.ymin+a*(2/3));const m=(0,r.i)("EqualAreaPCS"),c=e.toString();return h=_?r.aU.fromString(r.aC.PE_TYPE_PROJCS,'PROJCS["'.concat(m,'", ').concat(c,', PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["False_Easting",').concat(0,'],PARAMETER["False_Northing", ').concat(0,'],PARAMETER["Central_Meridian", ').concat(n,'], PARAMETER["Latitude_of_Origin", ').concat(i,'], UNIT["Meter",1.0]]')):r.aU.fromString(r.aC.PE_TYPE_PROJCS,'PROJCS["'.concat(m,'", ').concat(c,', PROJECTION["Cylindrical_Equal_Area"],PARAMETER["False_Easting", ').concat(0,'],PARAMETER["False_Northing", ').concat(0,'],PARAMETER["Central_Meridian", ').concat(n,'],PARAMETER["Standard_Parallel_1", ').concat(s,'],PARAMETER["Latitude_of_Origin", ').concat(i,'],UNIT["Meter",1.0]]')),h}splitSegmentCrossingItegralThreshold(e,t,n){const i=100,s=20,_=400,h=(0,r.a9)(this.m_a,this.m_eSquared,new o.P(0,o.o)),c=(0,r.a9)(this.m_a,this.m_eSquared,new o.P(0,-o.o)),l=this.splitSegmentPassingThroughPole(e);for(let u of l){const e=u.getStartXY(),l=u.getEndXY(),p=(0,r.a9)(this.m_a,this.m_eSquared,e),g=(0,r.a9)(this.m_a,this.m_eSquared,l),d=new o.P,E=new m.d;let P=m.d.sqrDistance(h,p),f=m.d.sqrDistance(p,g);if(P<=i){if(!(f>_)){n.push(new a.L({start:e,end:l}));continue}E.assign(g.sub(p)),E.normalizeThis(),E.assign(p.add(E.mul(s))),d.assign((0,r.ag)(this.m_a,this.m_eSquared,E)),n.push(new a.L({start:e,end:d})),e.assign(d)}if(p.assign((0,r.a9)(this.m_a,this.m_eSquared,e)),P=m.d.sqrDistance(h,g),f=m.d.sqrDistance(p,g),P<=i){if(!(f>_)){n.push(new a.L({start:e,end:l}));continue}E.assign(g.sub(p)),E.normalizeThis(),E.assign(g.sub(E.mul(s))),d.assign((0,r.ag)(this.m_a,this.m_eSquared,E)),n.push(new a.L({start:d,end:l})),l.assign(d)}if(p.assign((0,r.a9)(this.m_a,this.m_eSquared,e)),g.assign((0,r.a9)(this.m_a,this.m_eSquared,l)),P=m.d.sqrDistance(c,p),f=m.d.sqrDistance(p,g),P<=i){if(!(f>_)){n.push(new a.L({start:e,end:l}));continue}E.assign(g.sub(p)),E.normalizeThis(),E.assign(p.add(E.mul(s))),d.assign((0,r.ag)(this.m_a,this.m_eSquared,E)),n.push(new a.L({start:e,end:d})),e.assign(d)}if(p.assign((0,r.a9)(this.m_a,this.m_eSquared,e)),g.assign((0,r.a9)(this.m_a,this.m_eSquared,l)),P=m.d.sqrDistance(c,g),f=m.d.sqrDistance(p,g),P<=i){if(!(f>_)){n.push(new a.L({start:e,end:l}));continue}E.assign(g.sub(p)),E.normalizeThis(),E.assign(g.sub(E.mul(s))),d.assign((0,r.ag)(this.m_a,this.m_eSquared,E)),n.push(new a.L({start:d,end:l})),l.assign(d)}t.push(new a.L({start:e,end:l}))}}splitSegmentPassingThroughPole(e){const t={stack:[],error:void 0,hasError:!1};try{const n=[],i=new m.d,s=new m.d,_=new m.d,h=new o.P,c=20,l=3.124139361,p=10,d=e.getStartXY(),E=e.getEndXY(),P=(0,u.mS)(t,new r.a6,!1);if(r.a7.geodeticDistance(this.m_a,this.m_eSquared,d.x,d.y,E.x,E.y,P,null,null,2),Math.abs(E.x-d.x)>l&&P.val>c){const e=new g.a(new o.P(0,90),d.divide(this.m_rpu),E.divide(this.m_rpu),this.m_inputGCS,2,2);let t=(0,r.ac)(e.makeFunctor(),0,1,1e-10);if(t.second<=p&&t.first>0&&t.first<1)return i.assign((0,r.a9)(this.m_a,this.m_eSquared,d)),s.assign((0,r.a9)(this.m_a,this.m_eSquared,E)),(0,o.x)(i,s,t.first,_),h.assign((0,r.ag)(this.m_a,this.m_eSquared,_)),n.push(new a.L({start:d,end:h})),n.push(new a.L({start:h,end:E})),n;if(e.setPointDistFrom(new o.P(0,-90)),t=(0,r.ac)(e.makeFunctor(),0,1,1e-10),t.second<=p&&t.first>0&&t.first<1)return i.assign((0,r.a9)(this.m_a,this.m_eSquared,d)),s.assign((0,r.a9)(this.m_a,this.m_eSquared,E)),(0,o.x)(i,s,t.first,_),h.assign((0,r.ag)(this.m_a,this.m_eSquared,_)),n.push(new a.L({start:d,end:h})),n.push(new a.L({start:h,end:E})),n}return n.push(new a.L({start:d,end:E})),n}catch(n){t.error=n,t.hasError=!0}finally{(0,u.hk)(t)}}adaptiveIntegrationWithRomberg(e,t){const n=e.makeFunctor();let i=0,s=1,_=n(i),r=n(s);const o=1e-17,h=1e-14;let m=(i+s)/2,c=n(m),l=Math.abs(c-_),u=Math.abs(r-c),p=0;for(;p++<32&&(l/u<.1||u/l<.1);)l<u?(t.pe((0,a.x)(5,i,m,h,o,n)),i=m,_=c):(t.pe((0,a.x)(5,m,s,h,o,n)),s=m,r=c),m=(i+s)/2,c=Math.abs(n(m)),l=Math.abs(c-_),u=Math.abs(r-c);t.pe((0,a.x)(5,i,s,h,o,n))}loxodromeAreaHemi(e,t,n,i,s){const a=n.clone(),_=s.clone();let r,h,m,c,l,u,p,g,d,E,P,f,S,y,x,A;return a.make_negative&&a.changeSign(),_.make_negative&&_.changeSign(),P=i-t,1===Math.abs(a.sin_phi)||1===Math.abs(_.sin_phi)?e.half_qp*P:a.sin_phi===_.sin_phi?(E=.5*e.one_m_e_2*a.sin_phi*(1/a.one_m_e_2_sin_2_phi+(0,o.y)(e.e*a.sin_phi))*P,E):(x=Math.log(_.sin_half_phi_pf*a.sin_half_phi_pz/(_.sin_half_phi_pz*a.sin_half_phi_pf)),A=Math.log(_.sin_half_asin_e_sin_phi_pf*a.sin_half_asin_e_sin_phi_pz/(_.sin_half_asin_e_sin_phi_pz*a.sin_half_asin_e_sin_phi_pf)),1===this.m_eSquared?(l=0,r=.5*(x+_.sin_phi/_.one_m_e_2_sin_2_phi-a.sin_phi/a.one_m_e_2_sin_2_phi),h=0):(l=-2*e.atanh_e_over_e*(Math.log(_.one_p_sin_phi/a.one_p_sin_phi)-e.e*A),r=(x-e.e*A)/e.one_m_e_2,h=(Math.log(_.one_m_e_2_sin_2_phi/a.one_m_e_2_sin_2_phi)+l/e.atanh_e_over_e)/e.one_m_e_2),m=-A*(a.atanh_esin_phi+_.atanh_esin_phi),c=1/a.one_m_e_2_sin_2_phi-1/_.one_m_e_2_sin_2_phi,u=(0,o.z)(_.one_m_sin_phi/e.one_p_e,e.e)-(0,o.z)(a.one_m_sin_phi/e.one_p_e,e.e),p=(0,o.z)(_.one_p_sin_phi/e.one_p_e,e.e)-(0,o.z)(a.one_p_sin_phi/e.one_p_e,e.e),g=(0,o.z)(a.one_m_sin_phi/-e.one_m_e,e.e)-(0,o.z)(_.one_m_sin_phi/-e.one_m_e,e.e),d=(0,o.z)(a.one_p_sin_phi/-e.one_m_e,e.e)-(0,o.z)(_.one_p_sin_phi/-e.one_m_e,e.e),E=.25/r*(h+m+c+l+.5*(u+p+g+d)),E+=e.half_qp,f=.5*e.one_m_e_2*a.sin_phi*(1/a.one_m_e_2_sin_2_phi+(0,o.y)(e.e*a.sin_phi)),S=.5*e.one_m_e_2*_.sin_phi*(1/_.one_m_e_2_sin_2_phi+(0,o.y)(e.e*_.sin_phi)),S<f&&(y=f,f=S,S=y),E<f&&(E=f),E>S&&(E=S),E*=P,E)}loxodromeArea(e){const t=Math.PI/180;let n=0;const i={e:Number.NaN,one_p_e:Number.NaN,one_m_e:Number.NaN,one_m_e_2:Number.NaN,atanh_e_over_e:Number.NaN,half_qp:Number.NaN,f:Number.NaN,z:Number.NaN},s=M(),a=M();i.e=Math.sqrt(this.m_eSquared),i.one_p_e=1+i.e,i.one_m_e=1-i.e,i.one_m_e_2=1-this.m_eSquared,i.atanh_e_over_e=(0,o.y)(i.e),this.m_eSquared>=1?i.half_qp=1:i.half_qp=.5*(1+i.atanh_e_over_e*i.one_m_e_2),i.f=.25*Math.PI,i.z=.75*Math.PI,a.initialize(0,i.e,i.f,i.z);const _=e.getPathCount(),r=new o.P,h=new o.P,m=e.getImpl().getAttributeStreamRef(0);for(let o=0;o<_;o++){const _=e.getPathStart(o),c=e.getPathEnd(o);if(!(c-_<=1)){m.queryPoint2D(2*(c-1),r);for(let e=_;e<c;e++){m.queryPoint2D(2*e,h);const o=r.y*t,c=h.y*t;if(e===_?(s.initialize(o,i.e,i.f,i.z),s.make_negative=!1):s.assign(a),a.initialize(c,i.e,i.f,i.z),a.make_negative=!1,r.y*h.y<0){if(r.y>=90&&h.y<=-90||h.y>=90&&r.y<=-90)return Number.NaN;const e=M();e.initialize(0,i.e,i.f,i.z),e.make_negative=!1;const _=s.atanh_sin_phi-i.e*s.atanh_esin_phi,m=a.atanh_sin_phi-i.e*a.atanh_esin_phi,c=(m*r.x-_*h.x)/(m-_);o<0?(s.make_negative=!0,n-=this.loxodromeAreaHemi(i,r.x*t,s,c*t,e),s.make_negative=!1,n+=this.loxodromeAreaHemi(i,c*t,e,h.x*t,a)):(n+=this.loxodromeAreaHemi(i,r.x*t,s,c*t,e),a.make_negative=!0,n-=this.loxodromeAreaHemi(i,c*t,e,h.x*t,a),a.make_negative=!1)}else r.y>=0?n+=this.loxodromeAreaHemi(i,r.x*t,s,h.x*t,a):(s.make_negative=!0,a.make_negative=!0,n-=this.loxodromeAreaHemi(i,r.x*t,s,h.x*t,a),s.make_negative=!1,a.make_negative=!1);r.assign(h)}}}return this.m_a*n*this.m_a}calculate(e){if(e.isEmpty()||e.getDimension()<2)return 0;if(e.getGeometryType()===s.G.enumEnvelope){const t=new a.a;return t.addEnvelope(e,!1),this.calculate(t)}return this.m_inputSR!==this.m_inputGCS&&null===this.m_transformPCS2GCS&&(this.m_transformPCS2GCS=(0,r.x)(this.m_inputSR,this.m_inputGCS,null)),this.executePolygonGeodeticArea(e)}}class v{getOperatorType(){return 10311}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,n,i){return(0,s.c)(e),4===n?(new y).execute(e,t,i):new b(t,n,i).calculate(e)}}},90465:(e,t,n)=>{n.d(t,{O:()=>g});var i=n(97799),s=n(56175),a=n(63331),_=n(26871),r=n(91523),o=n(21557),h=n(20265),m=n(88689);function c(){return{m_pGcs:new _.P,m_xyz:new r.d,m_factor:Number.NaN,m_geoLength:Number.NaN,setValues:l,setLength:u,assign:p}}function l(e,t,n,i){this.m_factor=e,this.m_pGcs.assign(t),this.m_xyz.assign(i),this.m_geoLength=n}function u(e){this.m_geoLength=e}function p(e){this.m_pGcs.assign(e.m_pGcs),this.m_xyz.assign(e.m_xyz),this.m_factor=e.m_factor,this.m_geoLength=e.m_geoLength}class g{getOperatorType(){return 10315}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}_ExecuteShapePreservingLength(e,t,n,i,a){if(e.hasNonLinearSegments()&&(e=(new h.O).execute(e,0,t.getTolerance(0),0,a)),t.isPannable()){let i=90,_=-90;if(1===n.getUnit().getUnitToBaseFactor()&&(i*=Math.PI/180,_*=Math.PI/180),2===t.getCoordinateSystemType()){let e=null;const n=[0,0,0,0];e=t.getPECoordSys(),n[0]=0,n[1]=i,n[2]=0,n[3]=_,s.a8.geogToProj(e,2,n),i=n[1],_=n[3]}const r=new o.Envelope2D;e.queryEnvelope(r),r.ymin=_,r.ymax=i,e=(new m.O).execute(e,r,t,a)}else{const n=t.getPCSHorizon();if((e=(new s.G).execute(e,n,t,a))===n){const t=e.clone();e=t}}return e.isEmpty()?0:this._ExecuteIterativeApproach(e,t,n,i,1,a)}_ExecuteIterativeApproach(e,t,n,a,o,h){const m=(0,s.r)();n.querySpheroidData(m);const l=m.majorSemiAxis,u=m.e2,p=n.getUnit().getUnitToBaseFactor(),g=(0,_.k)(c,40),P=(0,_.d)(40,Number.NaN),f=c(),S=c();let y;const x=[0,0,0,0],A=t.getPECoordSys(),C=new _.P,R=new _.P,M=new _.P,T=new _.P,w=new _.P;let N=0;const q=e.querySegmentIterator();for(;q.nextPath();)for(;q.hasNextSegment();){const e=q.nextSegment();C.assign(e.getStartXY()),R.assign(e.getEndXY()),2===t.getCoordinateSystemType()?(x[0]=C.x,x[1]=C.y,x[2]=R.x,x[3]=R.y,s.a8.projToGeog(A,2,x),M.x=x[0]*p,M.y=x[1]*p,T.x=x[2]*p,T.y=x[3]*p):(M.setCoordsPoint2D(C),T.setCoordsPoint2D(R),M.scale(p),T.scale(p));const n=new r.d,a=new r.d;d(l,u,M,n),d(l,u,T,a);let _=E(l,n,a);f.setValues(0,M,Number.NaN,n),S.setValues(1,T,_,a),y=o,g[0].assign(S),P[0]=o;let h=0;for(;;){h>128&&(0,i.d)("iterations exceeded");const n=.5*(f.m_factor+S.m_factor),a=e.getCoord2D(n);2===t.getCoordinateSystemType()?(x[0]=a.x,x[1]=a.y,s.a8.projToGeog(A,1,x),w.x=x[0]*p,w.y=x[1]*p):(w.setCoordsPoint2D(a),w.scale(p)),M.setCoordsPoint2D(f.m_pGcs),T.setCoordsPoint2D(S.m_pGcs);const m=new r.d;d(l,u,w,m);const c=E(l,f.m_xyz,m),C=E(l,S.m_xyz,m);_=S.m_geoLength,Number.isNaN(_)&&(_=E(l,f.m_xyz,S.m_xyz));const R=c+C,q=y===o&&R>=20&&Math.abs(R-_)>1e-8*(_+R);if(h+2<40&&(q||Math.abs(R-_)>0&&y>0))S.setLength(C),g[h].assign(S),S.setValues(n,w,c,m),g[++h].assign(S),q?(y=o,P[h]=o):(y--,P[h-1]=y,P[h]=y);else{if(N+=R,0===h)break;f.assign(S),S.assign(g[--h]),y=P[h]}}}return N}execute(e,t,n){if(t&&0!==t.getCoordinateSystemType()||(0,i.a)(""),e.isEmpty()||e.getDimension()<1)return 0;let _=null;const r=t.getGCS();r!==t&&(_=(0,s.x)(t,r,null));const o=e.getGeometryType();if(o===i.G.enumEnvelope){const i=new a.a;return i.addEnvelope(e,!1),this._ExecuteShapePreservingLength(i,t,r,_,n)}if((0,i.f)(o)){const i=new a.P;return i.addSegment(e,!0),this._ExecuteShapePreservingLength(i,t,r,_,n)}return this._ExecuteShapePreservingLength(e,t,r,_,n)}}function d(e,t,n,i){i.assign((0,s.a9)(e,t,n))}function E(e,t,n){const i=e,s=new r.d;s.setSub(t,n);const a=s.length();return 2*i*Math.asin(a/(2*i))}}}]);
//# sourceMappingURL=80256.3cbd7745.chunk.js.map