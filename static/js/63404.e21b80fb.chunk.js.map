{"version":3,"file":"static/js/63404.e21b80fb.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/DragManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/ControlPointsTransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/utils.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/RotateManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/ScaleManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/TransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/MediaTransformToolsWrapper.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/views/draw/support/drawUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i}from\"../../../core/handleUtils.js\";import{IntersectionSnappingHint as n}from\"./hints/IntersectionSnappingHint.js\";import{LineSnappingHint as t}from\"./hints/LineSnappingHint.js\";import{ParallelSnappingHint as s}from\"./hints/ParallelSnappingHint.js\";import{PointSnappingHint as o}from\"./hints/PointSnappingHint.js\";import{RightAngleSnappingHint as e}from\"./hints/RightAngleSnappingHint.js\";class r{draw(r,p){const h=a(r),f=this.sortUniqueHints(h),u=[];for(const i of f)i instanceof n&&u.push(this.visualizeIntersectionPoint(i,p)),i instanceof t&&u.push(this.visualizeLine(i,p)),i instanceof s&&u.push(this.visualizeParallelSign(i,p)),i instanceof e&&u.push(this.visualizeRightAngleQuad(i,p)),i instanceof o&&u.push(this.visualizePoint(i,p));return i(u)}sortUniqueHints(i){return i}}function a(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}export{r as SnappingVisualizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{project as a}from\"../../geometry/projectionUtils.js\";import{isMeshWithRelativeVertexSpace as o}from\"../../geometry/support/meshVertexSpaceUtils.js\";import{clonePoint as l,hydratedSpatialReference as c}from\"../../layers/graphics/hydratedFeatures.js\";import{getZForElevationMode as s}from\"../../support/elevationInfoUtils.js\";import{EditGeometryOperations as u}from\"./editGeometry/EditGeometryOperations.js\";function i(t,n){let e=null,r=null;return a=>{if(\"cancel\"===a.action)return void(null!=r&&(r.execute({action:\"cancel\"}),e=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};\"start\"===a.action&&null==e&&(e=new w,r=new w,n(t,e,r,a.pointerType,o)),null!=e&&e.execute(o),\"end\"===a.action&&null!=e&&(e=null,r=null)}}function p(t,n){return t.events.on(\"drag\",i(t,n))}function m(t,n){const e=[t.x,t.y,t.z??0],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(l(t.mapStart),l(t.mapEnd),{...t,axis:a})}function f(t){let n=null;return e=>{if(\"start\"===e.action&&(n=y(t,e.mapStart.spatialReference)),null==n)return null;const r=e.mapEnd.x-e.mapStart.x,a=e.mapEnd.y-e.mapStart.y,o=(e.mapEnd.z??0)-(e.mapStart.z??0);return n.move(r,a,o,e.action),{...e,translationX:r,translationY:a,translationZ:o}}}function d(t,n){return null==t?null:t.spatialReference.equals(n)?t.clone():a(t,n)}function y(t,n){const e=t.operations;if(!e)return null;const r=e.data.geometry,l=c(n);if(r.spatialReference.equals(l))return x(t,e,(()=>{}));if(\"mesh\"!==r.type){const n=d(r,l);if(null==n)return null;const o=r.spatialReference;return x(t,u.fromGeometry(n,e.viewingMode),(()=>{const t=a(r,o);e.trySetGeometry(t)}))}if(o(r)){const n=d(r.origin,l);if(!n)return null;const o=r.spatialReference,c=u.fromGeometry(n,e.viewingMode);return x(t,e,(()=>{const t=a(c.data.geometry,o),n=t.x-r.origin.x,l=t.y-r.origin.y,s=(t.z??0)-(r.origin.z??0);e.move(n,l,s)}))}return null}function x(t,n,e){let r=0,a=0,o=0;return{move:(l,c,s,u)=>{\"start\"===u&&(r=0,a=0,o=0);const i=l-r,p=c-a,m=s-o;n.move(i,p,m),r+=i,a+=p,o+=m,e(),\"end\"===u&&t.endInteraction?.()}}}function E(t,n=null,e){let r=null;const o=null==n||t.spatialReference?.equals(n)?t=>t:t=>null!=t?a(t,n):t,l={exclude:[],...e};return n=>{if(\"start\"===n.action&&(r=o(t.toMap(n.screenStart,l))),null==r)return null;const e=o(t.toMap(n.screenEnd,l));return null!=e?{...n,mapStart:r,mapEnd:e}:null}}function S(n){const e=n.map((t=>f(t))).filter(t);return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function h(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function g(t){const n=t.operations?.createResetState();return t=>(n?.remove(),t)}function z(t){const n=t.map((t=>g(t))).filter((t=>null!=t));return t=>(n.forEach((n=>n(t))),t)}function v(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,l=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function j(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let a=null,o=0,l=0;return c=>{if(\"start\"===c.action&&(a=t.toScreen?.(n),null!=a&&(a.x<0||a.x>t.width||a.y<0||a.y>t.height?a=null:(o=c.screenStart.x-a.x,l=c.screenStart.y-a.y))),null==a)return null;const s=e(c.screenEnd.x-o,0,t.width),u=e(c.screenEnd.y-l,0,t.height),i=r(s,u);return c.screenStart=a,c.screenEnd=i,c}}const R=()=>{};class w{constructor(){this.execute=R}next(t,n=new w){return null!=t&&(this.execute=e=>{const r=t(e);null!=r&&n.execute(r)}),n}}function D(t,n,e=[]){if(\"2d\"===t.type)return t=>t;let r=null;return a=>{\"start\"===a.action&&(r=t.toMap(a.screenStart,{exclude:e}),null!=r&&(r.z=s(r,t,n)));const o=t.toMap(a.screenEnd,{exclude:e});null!=o&&(o.z=s(o,t,n));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function U(t,n,e){const r=n.elevationProvider.getElevation(t.x,t.y,t.z??0,t.spatialReference,\"scene\")??0,a=l(t);return a.z=r,a.hasZ=!0,a.z=s(a,n,e),a}function G(t,n){if(\"2d\"===t.type)return t=>t;let e=null;return r=>{\"start\"===r.action&&(e=U(r.mapStart,t,n));const a=U(r.mapEnd,t,n),o=null!=e&&null!=a?{sceneStart:e,sceneEnd:a}:null;return{...r,scenePoints:o}}}export{w as EventPipeline,v as addMapDelta,j as addScreenDelta,m as constrainToMapAxis,i as createDragEventPipelineCallback,p as createManipulatorDragEventPipeline,M as dragAtLocation,f as dragManipulatedObject,S as dragManipulatedObjectMany,g as resetManipulatedObject,z as resetManipulatedObjectMany,h as resetProperties,D as sceneSnappingAtLocation,G as sceneSnappingAtProjectedLocation,E as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{q as t}from\"../../../../chunks/vec32.js\";import{SnappingHint as s}from\"./SnappingHint.js\";class n extends s{constructor(t,s,n){super(s,n),this.point=t}equals(s){return s instanceof n&&t(this.point,s.point)}}export{n as PointSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";var a;!function(t){t[t.WhenToolEditable=0]=\"WhenToolEditable\",t[t.WhenToolNotEditable=1]=\"WhenToolNotEditable\",t[t.Always=2]=\"Always\"}(a||(a={}));class i{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=a.WhenToolEditable){this.addMany([t],i)}addMany(t,i=a.WhenToolEditable){for(const a of t){const t={manipulator:a,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:o,attached:s})=>{if(!s||!o.interactive)return;const r=o.intersectionDistance(t,a);null!=r&&r<e&&(e=r,i=o)})),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===a.Always||(this._isToolEditable?t.visibilityPredicate===a.WhenToolEditable:t.visibilityPredicate===a.WhenToolNotEditable)}}export{i as ManipulatorCollection,a as ManipulatorVisibilityPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../Graphic.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as s,initial as a}from\"../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../../geometry/Multipoint.js\";import c from\"../../../../../geometry/Point.js\";import{SnappingVisualizer2D as h}from\"../../SnappingVisualizer2D.js\";import{activeVertex as m,regularVertices as p,outline as u}from\"./symbols.js\";import{DrawGraphicTool as v,geometryTypeToDrawOperationGeometryType as y}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as d}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as g}from\"../../../../draw/drawSurfaces.js\";let E=class extends v{constructor(e){super(e),this._visualElementGraphics={regularVertices:null,activeVertex:null,activeEdge:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:e.activeLineSymbol??u,regularVertices:e.regularVerticesSymbol??p,activeVertex:e.activeVertexSymbol??m,fill:e.activeFillSymbol},e.activeVertexSymbol||this.addHandles(s((()=>this.view?.effectiveTheme?.accentColor),(e=>{if(!e)return;const t=this._visualElementSymbols.activeVertex.clone().set({color:e});this._visualElementGraphics.activeVertex?.set(\"symbol\",t),this._visualElementSymbols={...this._visualElementSymbols,activeVertex:t}}),a))}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return null!=this._visualElementSymbols.fill&&(e.symbol=this._visualElementSymbols.fill),this.internalGraphicsLayer.graphics.sort(G),i()}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:i}=this;return this._createOrUpdateGraphic(null),new d({view:i,manipulators:this.manipulators,geometryType:y(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new g(i,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new h(this.internalGraphicsLayer),graphic:this.graphic,cursor:this.cursor,constraintsEnabled:!0,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return i();const[s,a]=e,l=new c({x:s,y:a,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.activeVertex?(this._visualElementGraphics.activeVertex.geometry=l,i()):(this._visualElementGraphics.activeVertex=new t({geometry:l,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=r(this._visualElementGraphics.activeVertex))})))}onCursorEdgeChanged(e){return null!=this._visualElementGraphics.activeEdge?(this._visualElementGraphics.activeEdge.geometry=e,i()):(this._visualElementGraphics.activeEdge=new t({geometry:e,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeEdge),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.activeEdge&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeEdge),this._visualElementGraphics.activeEdge=r(this._visualElementGraphics.activeEdge))})))}onRegularVerticesChanged(e){const s=new o({points:e,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.regularVertices?(this._visualElementGraphics.regularVertices.geometry=s,i()):(this._visualElementGraphics.regularVertices=new t({geometry:s,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=r(this._visualElementGraphics.regularVertices))})))}};function G(e,t){return(e.attributes?.displayOrder??-1/0)-(t.attributes?.displayOrder??-1/0)}e([l()],E.prototype,\"activeFillSymbol\",void 0),e([l({readOnly:!0})],E.prototype,\"type\",void 0),e([l({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([n(\"esri.views.2d.interactive.editingTools.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass r{get hovering(){return this.someManipulator((r=>r.hovering))}get grabbing(){return this.someManipulator((r=>r.grabbing))}get dragging(){return this.someManipulator((r=>r.dragging))}hasManipulator(r){return this.someManipulator((t=>t===r))}someManipulator(r){let t=!1;return this.forEachManipulator((a=>{!t&&r(a)&&(t=!0)})),t}}var t;!function(r){r[r.TRANSLATE_XY=0]=\"TRANSLATE_XY\",r[r.SCALE=1]=\"SCALE\",r[r.ROTATE=2]=\"ROTATE\"}(t||(t={}));export{r as Manipulation,t as ManipulatorType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Manipulation as t,ManipulatorType as i}from\"./Manipulation.js\";import{createManipulatorDragEventPipeline as r,screenToMap as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as e}from\"../../../../interactive/editGeometry/interfaces.js\";import{getSymbolInfo as n}from\"../../../../interactive/support/utils.js\";class s extends t{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(t){t(this._manipulator,i.TRANSLATE_XY)}createDragPipeline(t,i){let o=null,s=null,l=0,p=0,c=0;const{offsetX:m,offsetY:h,size:u}=n(this._graphic.symbol);return r(this._manipulator,((r,n)=>{n.next((i=>{if(\"start\"===i.action){const i=t();o=i.editGeometryOperations,s=i.constraints}return i})).next(a(this._view)).next((t=>{const{x:r,y:a,z:n}=t.mapEnd;if(s&&(r+m<s.xmin||a+h-u<s.ymin||r+m>s.xmax||a+h-u>s.ymax))return t;(\"start\"===t.action||0===l&&0===p&&0===c)&&(l=t.mapStart.x,p=t.mapStart.y,c=t.mapStart.z);const _=r-l,f=a-p,v=n-c;l=r,p=a,c=n;const x=\"start\"===t.action?e.NEW_STEP:e.ACCUMULATE_STEPS,E=o.move(_,f,v,x);return i(t,E),t}))}))}_createManipulator(){const t=this._view,i=this._graphic;return new o({view:t,graphic:i,selectable:!0,cursor:\"move\"})}}export{s as DragManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import i from\"../../../../Graphic.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{project as a,initializeProjection as h}from\"../../../../geometry/projectionUtils.js\";import{isValid as c}from\"../../../../geometry/support/spatialReferenceUtils.js\";import l from\"../../../../layers/GraphicsLayer.js\";import p from\"../../../../symbols/CIMSymbol.js\";import{applyCIMSymbolColor as d}from\"../../../../symbols/support/cimSymbolUtils.js\";import{ViewingMode as m}from\"../../../ViewingMode.js\";import{DragManipulation as y}from\"./manipulations/DragManipulation.js\";import{primaryKey as _}from\"../../../input/keys.js\";import{InteractiveToolBase as g}from\"../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as f}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehavior as u}from\"../../../interactive/editGeometry/interfaces.js\";const P={up:\"ArrowUp\",down:\"ArrowDown\",left:\"ArrowLeft\",right:\"ArrowRight\",toggleOpacity:\"t\",shift:\"Shift\",primaryKey:_},v=1,S=10,k=new e(\"#009af2\");let b=class extends g{constructor(t){super(t),this._isOpacityToggled=!1,this._isModifierActive=!1,this._factor=1,this._initialControlPoints=null,this._graphicsLayer=new l({internal:!0,listMode:\"hide\",visible:!1,effect:\"drop-shadow(0px, 0px, 3px)\"}),this._undoStack=[],this._redoStack=[],this._sharedUndoStack=[],this._sharedRedoStack=[],this._highlightHandle=null,this.activeHandle=0,this.type=\"reshape\"}initialize(){this._initialize()}destroy(){const{map:t}=this.view;this._controlPointManipulations.forEach((t=>t.destroy())),this._controlPointEditGeometryOperations.forEach((t=>t.destroy())),t.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=o(this._graphicsLayer),this._georeference=null,this._controlPointGraphics=null,this._controlPointManipulations=null,this._graphicsLayer=null,this._controlPointEditGeometryOperations=null,this._undoStack=null,this._redoStack=null,this._initialControlPoints=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _hasValidSpatialReference(){return c(this.view.spatialReference)}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){const t=this._undoStack[this._undoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canUndo}canRedo(){const t=this._redoStack[this._redoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canRedo}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();this._controlPointEditGeometryOperations[t].undo(),this.updateGraphics(),this._redoStack.push(t)}}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();this._controlPointEditGeometryOperations[t].redo(),this.updateGraphics(),this._undoStack.push(t)}}refresh(){const{mediaElement:t}=this;if(null==t.georeference)return;const e=t.georeference;\"control-points\"===e.type&&null!=e.coords&&(this._georeference=e,this._georeference.controlPoints.forEach((({mapPoint:t},e)=>{const i=this._controlPointEditGeometryOperations[e],o=i.data.components[0].vertices[0];i.setVertexPosition(o,i.data.coordinateHelper.pointToVector(t))})),this.updateGraphics())}reset(){this._georeference.controlPoints=this._initialControlPoints,this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const t=this._georeference,e=t.controlPoints,i=e[0].mapPoint.spatialReference,o=this._hasValidSpatialReference;this._georeference.controlPoints=this._controlPointEditGeometryOperations.map(((r,s)=>{const n=r.data.geometry;return this._controlPointGraphics[s].geometry=n,{mapPoint:a(n,i),sourcePoint:o?e[s].sourcePoint:t.toSource(n)}}))}updateActiveHandle(t){if(this.activeHandle===t)return;const e=this._controlPointGraphics[this.activeHandle].symbol.clone();d(e,this.view.effectiveTheme.accentColor),this._controlPointGraphics[this.activeHandle].symbol=e;const i=this._controlPointGraphics[t].symbol.clone();d(i,k),this._controlPointGraphics[t].symbol=i,this.activeHandle=t,this.view.surface===document.activeElement&&this.highlightActiveHandle()}async highlightActiveHandle(){this.removeHighlightActiveHandle();const t=await this.view.whenLayerView(this._graphicsLayer);this._highlightHandle=t.highlight(this._controlPointGraphics[this.activeHandle])}removeHighlightActiveHandle(){this._highlightHandle&&this._highlightHandle.remove()}setSharedUndoStack(t){this._sharedUndoStack=t}setSharedRedoStack(t){this._sharedRedoStack=t}async _initialize(){const{view:t,mediaElement:e}=this;if(null==e.georeference)return;const o=e.georeference;\"control-points\"===o.type&&null!=o.coords&&(this._georeference=o,this._initialControlPoints=this._georeference.controlPoints,t.map.addMany([this._graphicsLayer]),t.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._controlPointEditGeometryOperations=this._georeference.controlPoints.map((({mapPoint:e})=>f.fromGeometry(a(e,t.spatialReference),m.Local))),this._controlPointGraphics=this._controlPointEditGeometryOperations.map(((t,e)=>new i({symbol:new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-15.75},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:9,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[84.3,0],[84.3,84.3],[0,84.3],[0,0]]]}},rotation:0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-11.25},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:22.5,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:e===this.activeHandle?k.toArray():this.view.effectiveTheme.accentColor.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[197.7,0],[197.7,294.7],[0,294.7],[0,0]]]}},rotation:0}],haloSize:1,scaleX:1,angleAlignment:\"Display\",angle:0}}}),geometry:t.data.geometry}))),this._graphicsLayer.graphics.addMany([...this._controlPointGraphics]),this._controlPointManipulations=this._controlPointGraphics.map((e=>new y({tool:this,view:t,graphic:e}))),this.addHandles([...this._controlPointManipulations.map(((t,e)=>t.createDragPipeline(this._getInfo.bind(this,e),((t,i)=>{\"start\"===t.action&&(this._undoStack.push(e),this._redoStack=[],this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0),this.updateGraphics()})))),r((()=>this.view.scale),(()=>this.active?this.updateGraphics():null))]),this._controlPointManipulations.forEach(((t,e)=>{const i=t=>{this.addHandles([t.events.on([\"click\",\"grab-changed\"],(t=>this.updateActiveHandle(e)))])};t.forEachManipulator(i)})),this.addHandles([t.on(\"key-down\",(i=>{t.activeTool===this&&(i.key!==P.shift||i.repeat||(this._isModifierActive=!0,i.stopPropagation()),i.key!==P.toggleOpacity||i.repeat||(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled,i.stopPropagation()),i.key!==P.primaryKey||i.repeat||(this._factor=S,i.stopPropagation()),this._isModifierActive&&(i.key===P.up&&(this._move(0,this._factor),i.stopPropagation()),i.key===P.down&&(this._move(0,-this._factor),i.stopPropagation()),i.key===P.left&&(this._move(-this._factor,0),i.stopPropagation()),i.key===P.right&&(this._move(this._factor,0),i.stopPropagation())))})),t.on(\"key-up\",(e=>{t.activeTool===this&&(e.key===P.shift&&(this._isModifierActive=!1,e.stopPropagation()),e.key===P.primaryKey&&(this._factor=v,e.stopPropagation()))}))]))}async _loadProjectionEngine(){const t=this._georeference.controlPoints[0].mapPoint;return h(t.spatialReference,this.view.spatialReference)}_getInfo(t){return{editGeometryOperations:this._controlPointEditGeometryOperations[t],constraints:this._hasValidSpatialReference?null:{xmin:0,ymin:0,xmax:this._georeference.width,ymax:this._georeference.height}}}_move(t,e){const i=this._controlPointEditGeometryOperations[this.activeHandle].move(t*this.view.resolution,e*this.view.resolution,0,u.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};t([s()],b.prototype,\"_hasValidSpatialReference\",null),t([s()],b.prototype,\"activeHandle\",void 0),t([s({constructOnly:!0,nonNullable:!0})],b.prototype,\"mediaElement\",void 0),t([s({readOnly:!0})],b.prototype,\"type\",void 0),t([s({constructOnly:!0})],b.prototype,\"view\",void 0),b=t([n(\"esri.views.2d.interactive.editingTools.ControlPointsTransformTool\")],b);export{b as ControlPointsTransformTool,P as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,deg2rad as e}from\"../../../../../core/mathUtils.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";function n(t,e){\"start\"===t.action?e.cursor=\"grabbing\":e.cursor=\"grab\"}class s{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustScaleFactors(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const e=0!==t.direction[0]&&0!==t.direction[1]?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}}class r{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustRotateAngle(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustRotateAngle(t),t)}_adjustRotateAngle(a){const n=t(a.rotateAngle);a.rotateAngle=e(5*Math.round(n/5))}}export{s as PreserveAspectRatio,r as SnapRotation,n as onGrabChangedHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{c as i}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Manipulation as e,ManipulatorType as a}from\"./Manipulation.js\";import{onGrabChangedHandle as o}from\"./utils.js\";import{getRotationAngle as n}from\"../../../../draw/support/drawUtils.js\";import{createManipulatorDragEventPipeline as s,screenToMap as l}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as p}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as h}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as c}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{apply as m}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";class u extends e{constructor(i){super(),this._handles=new t,this._originCache=r(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._snapRotation=i.snapRotation,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",(t=>o(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._snapRotation=null,this._graphic=null,this._handles=null,this._originCache=null}forEachManipulator(t){t(this._manipulator,a.ROTATE)}createDragPipeline(t,r){let e=null,a=null;return s(this._manipulator,((o,s)=>{s.next((i=>{if(\"start\"===i.action){o.cursor=\"grabbing\";const i=t();e=i.plane,a=i.editGeometryOperations}return i})).next(l(this._view)).next((t=>({...t,rotateAngle:n(t.mapStart,t.mapEnd,{x:e.origin[0],y:e.origin[1]},!0)}))).next(this._snapRotation.createDragEventPipelineStep(),this._snapRotation.next).next((t=>{const o=i(this._originCache,e.origin),n=\"start\"===t.action?h.NEW_STEP:h.ACCUMULATE_STEPS,s=a.rotate(o,t.rotateAngle,n,c.REPLACE);return m(s,e),r(t,s),t})).next((t=>(\"end\"===t.action&&(o.cursor=\"grab\"),t)))}))}_createManipulator(){const t=this._view,i=this._graphic;return new p({view:t,graphic:i,selectable:!0,cursor:\"grab\"})}}export{u as RotateManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{set as i,normalize as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{c as a,b as s,d as n,l as o,e as l}from\"../../../../../chunks/vec32.js\";import{create as c}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{d as h,a as p}from\"../../../../../chunks/boundedPlane.js\";import{getInfo as u}from\"../../../../../geometry/support/spatialReferenceUtils.js\";import{Manipulation as _,ManipulatorType as m}from\"./Manipulation.js\";import{onGrabChangedHandle as d}from\"./utils.js\";import{createManipulatorDragEventPipeline as f,screenToMap as v}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as g}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as b}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as x}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{apply as C}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";const E=10,S=1e-6,y=.3;function j(t){const i=o(t.basis1),e=o(t.basis2);return y*Math.min(i,e)}class w extends _{constructor(i){super(),this._handles=new t,this._planeStart=h(),this._displayPlaneStart=h(),this._originCache=c(),this._axisCache=r(),this._renderStartCache=c(),this._renderEndCache=c(),this._resizeOriginCache=c(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._direction=i.direction,this._preserveAspectRatio=i.preserveAspectRatio,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",(t=>d(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._graphic=null,this._manipulator=null,this._direction=null,this._handles=null,this._planeStart=null,this._displayPlaneStart=null,this._originCache=null,this._axisCache=null,this._renderStartCache=null,this._renderEndCache=null,this._resizeOriginCache=null,this._preserveAspectRatio=null}forEachManipulator(t){t(this._manipulator,m.SCALE)}createDragPipeline(t,r){let c=null,h=null,_=null,m=0,d=null,g=null;const y=this._planeStart,w=this._displayPlaneStart,P=this._direction;return f(this._manipulator,((f,M)=>{M.next((i=>{if(\"start\"===i.action){f.cursor=\"grabbing\";const i=t();c=i.plane,h=i.displayPlane,_=i.editGeometryOperations,m=E*this._view.resolution,p(c,y),p(h,w);const e=u(_.data.spatialReference);d=e?e.valid[1]-e.valid[0]-3*E*this._view.resolution:null}return i})).next(v(this._view)).next((t=>{const i=a(this._renderStartCache,[t.mapStart.x,t.mapStart.y,0]),e=a(this._renderEndCache,[t.mapEnd.x,t.mapEnd.y,0]),r=a(this._resizeOriginCache,w.origin);s(r,r,w.basis1,-P[0]),s(r,r,w.basis2,-P[1]),n(e,e,r),n(i,i,r);const c=0!==P[0]&&0!==P[1],p=j(w),u=j(h)/p,_=(t,r)=>{if(0===t)return 1;let a=o(r),s=.5*t*l(r,e)/a;const n=s<0?-1:1;if(c){s+=(a-.5*t*l(r,i)/a)*n*u}const h=a<1.5*m?1:S;return a=Math.max(a-m,S),n>0&&(s-=E*this._view.resolution),n*Math.max(n*(s/a),h)},d=_(P[0],w.basis1),f=_(P[1],w.basis2);return{...t,direction:P,factor1:d,factor2:f}})).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next((t=>{const n=a(this._originCache,y.origin);s(n,n,y.basis1,-P[0]),s(n,n,y.basis2,-P[1]);const o=i(this._axisCache,y.basis1[0],y.basis1[1]);e(o,o);const l=_.data.allVertices,h=\"start\"===t.action?b.NEW_STEP:b.ACCUMULATE_STEPS,u=_.scaleVertices(l,n,o,t.factor1,t.factor2,h,x.REPLACE);return d&&d<_.data.geometry.extent.width&&g?_.updateVertices(l,g):(p(y,c),C(u,c),g=u.operation,r(t,u)),t})).next((t=>(\"end\"===t.action&&(f.cursor=\"grab\"),t)))}))}_createManipulator(){return new g({view:this._view,graphic:this._graphic,selectable:!0,cursor:\"grab\"})}}export{w as ScaleManipulation,j as calculateDiagonalResizeHandleScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{getContrast as i}from\"../../../../core/colorUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o}from\"../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as r}from\"../../../../core/unitUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{subtract as c,normalize as h}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l,UNIT_X as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{g as d,l as _,n as m,f as u,m as y,d as g}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import G from\"../../../../geometry/Polygon.js\";import{project as w,initializeProjection as R}from\"../../../../geometry/projectionUtils.js\";import{d as b,a as j}from\"../../../../chunks/boundedPlane.js\";import{equals as C}from\"../../../../geometry/support/spatialReferenceUtils.js\";import k from\"../../../../layers/GraphicsLayer.js\";import P from\"../../../../symbols/SimpleFillSymbol.js\";import S from\"../../../../symbols/SimpleMarkerSymbol.js\";import{ViewingMode as T}from\"../../../ViewingMode.js\";import{DragManipulation as A}from\"./manipulations/DragManipulation.js\";import{RotateManipulation as M}from\"./manipulations/RotateManipulation.js\";import{ScaleManipulation as x}from\"./manipulations/ScaleManipulation.js\";import{PreserveAspectRatio as O,SnapRotation as D}from\"./manipulations/utils.js\";import{InteractiveToolBase as U}from\"../../../interactive/InteractiveToolBase.js\";import{KeyBindings as E,mediaKeys as L}from\"../../../interactive/keybindings.js\";import{EditGeometry as B}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as H}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehavior as I}from\"../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as V}from\"../../../interactive/editGeometry/operations/UpdateVertices.js\";import{calculateOrientedBounds as z}from\"../../../interactive/editGeometry/support/editPlaneUtils.js\";import{findFirstGraphicHit as N}from\"../../../support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as W}from\"../../../support/screenUtils.js\";const q=80,F=10,J=30,K=[[1,1],[1,-1],[-1,-1],[-1,1],[1,0],[0,-1],[-1,0],[0,1]],Q=1,X=10;let Y=class extends U{constructor(e){super(e),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._planeCache=b(),this._displayPlaneCache=b(),this._mainAxisCache=l(),this._rotationHandleCache=f(),this._cornerA=f(),this._cornerB=f(),this._cornerC=f(),this._cornerD=f(),this._avgAB=f(),this._avgBC=f(),this._avgCD=f(),this._avgDA=f(),this._preserveAspectRatio=new O,this._snapRotation=new D,this._graphicsLayer=new k({internal:!0,listMode:\"hide\",visible:!1}),this._sharedUndoStack=[],this._sharedRedoStack=[],this._isOpacityToggled=!1,this._factor=Q,this.preserveAspectRatio=null,this.snapRotation=null,this.type=\"transform\"}initialize(){this._initialize()}destroy(){const{map:e}=this.view;this._dragManipulation.destroy(),this._rotateManipulation.destroy(),this._scaleManipulations.forEach((e=>e.destroy())),this._editGeometryOperations.destroy(),e.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=s(this._graphicsLayer),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._preserveAspectRatio=null,this._snapRotation=null,this._planeCache=null,this._displayPlaneCache=null,this._rotationHandleCache=null,this._mainAxisCache=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._avgAB=null,this._avgBC=null,this._avgCD=null,this._avgDA=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _plane(){const e=this._graphic.geometry;if(null==e)return null;const t=this._editGeometryOperations.data,i=t.components[0].edges[0],s=c(this._mainAxisCache,i.leftVertex.pos,i.rightVertex.pos);h(s,s);let o=q*this.view.resolution;const a=this.view.spatialReference;return C(a,e.spatialReference)&&(o*=r(a)/r(e.spatialReference)),z(s,t,o,this._planeCache)}get _displayPlane(){const e=this._plane;if(!e)return null;const t=this._displayPlaneCache;j(e,t);const i=F*this.view.resolution;return d(t.basis1,t.basis1,1+i/_(t.basis1)),d(t.basis2,t.basis2,1+i/_(t.basis2)),t}get _backgroundGraphicGeometry(){const e=this._displayPlane;if(!e)return null;const t=this.view.spatialReference;return this._updateDisplayPlaneConrers(e),new G({spatialReference:t,rings:[[this._cornerA,this._cornerB,this._cornerC,this._cornerD,this._cornerA]]})}get _rotateGraphicGeometry(){const e=this._plane;if(!e)return null;const t=this._rotationHandleCache;return m(t,e.basis1),d(t,t,J*this.view.resolution),u(t,t,e.origin),u(t,t,e.basis1),new v({x:t[0],y:t[1],spatialReference:this.view.spatialReference})}get _scaleGraphicGeometries(){const e=this._displayPlane;if(!e)return[];const t=this.view.spatialReference;this._updateDisplayPlaneConrers(e);const{_cornerA:i,_cornerB:s,_cornerC:o,_cornerD:r}=this,a=y(this._avgAB,i,s,.5),n=y(this._avgBC,s,o,.5),c=y(this._avgCD,o,r,.5),h=y(this._avgDA,r,i,.5);return[new v({x:i[0],y:i[1],spatialReference:t}),new v({x:s[0],y:s[1],spatialReference:t}),new v({x:o[0],y:o[1],spatialReference:t}),new v({x:r[0],y:r[1],spatialReference:t}),new v({x:a[0],y:a[1],spatialReference:t}),new v({x:n[0],y:n[1],spatialReference:t}),new v({x:c[0],y:c[1],spatialReference:t}),new v({x:h[0],y:h[1],spatialReference:t})]}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this._editGeometryOperations.undo(),this.updateGraphics()}redo(){this._editGeometryOperations.redo(),this.updateGraphics()}refresh(){const{view:e,target:t}=this,i=\"georeference\"in t?t.georeference.coords:t.geometry,s=this._editGeometryOperations,o=s.data.components[0].vertices,r=B.fromGeometry(w(i,e.spatialReference),T.Local).components[0].vertices;o.forEach(((e,t)=>{s.setVertexPosition(e,r[t].pos)})),this.updateGraphics()}reset(){const{target:e}=this;if(\"georeference\"in e){const t=e.georeference;\"control-points\"===t.type&&(t.controlPoints=this._initialControlPoints)}else e.geometry=this._initialGeometry;this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const e=this._editGeometryOperations.data.geometry;if(\"georeference\"in this.target){this.target.georeference.coords=e}this._graphic.geometry=e,this._backgroundGraphic.geometry=this._backgroundGraphicGeometry,this._rotateGraphic.geometry=this._rotateGraphicGeometry,this._scaleGraphicGeometries.forEach(((e,t)=>{this._scaleGraphics[t].geometry=e}))}setSharedUndoStack(e){this._sharedUndoStack=e}setSharedRedoStack(e){this._sharedRedoStack=e}async _initialize(){const{view:e,target:s}=this;if(\"georeference\"in s){const e=s.georeference;this._graphic=new t({geometry:e.coords}),this._initialControlPoints=\"control-points\"===e.type?e.controlPoints:null}else this._graphic=s,this._initialGeometry=s.geometry;e.map.addMany([this._graphicsLayer]),e.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._editGeometryOperations=H.fromGeometry(w(this._graphic.geometry,e.spatialReference),T.Local),this._backgroundGraphic=new t({symbol:new P({color:\"transparent\",outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:2}}),geometry:this._backgroundGraphicGeometry}),this._rotateGraphic=new t({symbol:new S({color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:this._rotateGraphicGeometry}),this._scaleGraphics=this._scaleGraphicGeometries.map((s=>new t({symbol:new S({size:6,style:\"square\",color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:s}))),this._graphicsLayer.graphics.addMany([this._backgroundGraphic,this._rotateGraphic,...this._scaleGraphics]),this._dragManipulation=new A({tool:this,view:e,graphic:this._graphic}),this._rotateManipulation=new M({tool:this,view:e,graphic:this._rotateGraphic,snapRotation:this._snapRotation}),this._scaleManipulations=this._scaleGraphics.map(((t,i)=>new x({tool:this,view:e,graphic:t,direction:K[i],preserveAspectRatio:this._preserveAspectRatio}))),this.addHandles([this._dragManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),this._rotateManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),...this._scaleManipulations.map((e=>e.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)))),o((()=>this.view.scale),(()=>this.active?this.updateGraphics():null)),e.on(\"click\",(async t=>{if(null!=e.activeTool&&e.activeTool!==this)return;const i=W(t),o=[];e.map.allLayers.forEach((e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)}));const r=await this.view.hitTest(i,{exclude:o}),a=r.results;if(0===a.length)e.activeTool=null;else{const t=N(r.results),i=\"georeference\"in s,o=a.map((e=>\"media\"===e.type?e.element:null)).filter(Boolean),n=new Set([...this._graphicsLayer.graphics,i?null:s].filter(Boolean));i&&o.includes(s)||null!=t&&n.has(t.graphic)?null==e.activeTool&&(e.activeTool=this):e.activeTool=null}}))]);const r=e=>{this.addHandles(e.events.on(\"grab-changed\",(e=>{\"georeference\"in s&&(\"start\"===e.action?s.opacity*=.5:\"end\"===e.action&&(s.opacity*=2))})))};this._dragManipulation.forEachManipulator(r),this._rotateManipulation.forEachManipulator(r),this._scaleManipulations.forEach((e=>e.forEachManipulator(r)));const a=new E;a.addToggle(L.preserveAspectRatio,(()=>{null==this.preserveAspectRatio&&(this._preserveAspectRatio.enabled=!this._preserveAspectRatio.enabled)})),a.addToggle(L.rotateIncrements,(()=>{null==this.snapRotation&&(this._snapRotation.enabled=!this._snapRotation.enabled)})),a.add(L.toggleOpacity,(()=>{\"georeference\"in s&&(s.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)})),a.addToggle(L.factorModifier,(e=>this._factor=\"key-down\"===e.type?X:Q)),a.add(L.scaleUp,(()=>this._scale(this._factor))),a.add(L.scaleDown,(()=>this._scale(-this._factor))),a.add(L.moveUp,(()=>this._move(0,this._factor))),a.add(L.moveDown,(()=>this._move(0,-this._factor))),a.add(L.moveLeft,(()=>this._move(-this._factor,0))),a.add(L.moveRight,(()=>this._move(this._factor,0))),this.addHandles([e.on(\"key-down\",(t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)})),e.on(\"key-up\",(t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)}))])}async _loadProjectionEngine(){const e=this._graphic.geometry;return R(e.spatialReference,this.view.spatialReference)}_updateDisplayPlaneConrers(e){const{basis1:t,basis2:i,origin:s}=e,o=this._cornerA;u(o,s,t),u(o,o,i);const r=this._cornerB;u(r,s,t),g(r,r,i);const a=this._cornerC;g(a,s,t),g(a,a,i);const n=this._cornerD;g(n,s,t),u(n,n,i)}_getInfo(){return{editGeometryOperations:this._editGeometryOperations,plane:this._plane,displayPlane:this._displayPlane}}_updateGraphics(e,t){\"start\"===e.action&&(this._sharedUndoStack.push({tool:this,operation:t}),this._sharedRedoStack.length=0),this.updateGraphics()}_scale(e){const t=this._editGeometryOperations,i=t.data.geometry.extent?.width,s=(i+e*this.view.resolution)/i,o=t.scale(this._plane.origin,p,s,s,I.NEW_STEP,V.REPLACE);this._sharedUndoStack.push({tool:this,operation:o}),this._sharedRedoStack.length=0,this.updateGraphics()}_move(e,t){const i=this._editGeometryOperations.move(e*this.view.resolution,t*this.view.resolution,0,I.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};e([a()],Y.prototype,\"_plane\",null),e([a()],Y.prototype,\"_backgroundGraphicGeometry\",null),e([a()],Y.prototype,\"_rotateGraphicGeometry\",null),e([a()],Y.prototype,\"_scaleGraphicGeometries\",null),e([a()],Y.prototype,\"preserveAspectRatio\",void 0),e([a()],Y.prototype,\"snapRotation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],Y.prototype,\"target\",void 0),e([a({readOnly:!0})],Y.prototype,\"type\",void 0),e([a({constructOnly:!0})],Y.prototype,\"view\",void 0),Y=e([n(\"esri.views.2d.interactive.editingTools.TransformTool\")],Y);export{Y as TransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ControlPointsTransformTool as a}from\"./ControlPointsTransformTool.js\";import{TransformTool as r}from\"./TransformTool.js\";const n={redo:\"r\",undo:\"z\"};let d=class extends t{constructor(o){super(o),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=[],this._sharedRedoStack=[],this._originalOpacity=null,this.activeHandle=0}initialize(){const{view:o,mediaElement:t,preserveAspectRatio:s,snapRotation:i,advancedMode:d}=this;this._originalOpacity=t.opacity,this._transformTool=new r({target:t,view:o,preserveAspectRatio:s,snapRotation:i}),this._controlPointsTransformTool=new a({mediaElement:t,view:o}),this._advancedModeTransformTool=new a({mediaElement:d.mediaElement,view:d.view}),this._transformTool.setSharedUndoStack(this._sharedUndoStack),this._transformTool.setSharedRedoStack(this._sharedRedoStack),this._controlPointsTransformTool.setSharedUndoStack(this._sharedUndoStack),this._controlPointsTransformTool.setSharedRedoStack(this._sharedRedoStack),this._advancedModeTransformTool.setSharedUndoStack(this._sharedUndoStack),this._advancedModeTransformTool.setSharedRedoStack(this._sharedRedoStack);const l=t.georeference,c=d.mediaElement.georeference;d.view.tools.addMany([this._advancedModeTransformTool]),\"controlPoints\"in c&&\"controlPoints\"in l&&this.addHandles([d.view.on(\"key-down\",(o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())})),d.view.on(\"focus\",(async o=>{this._controlPointsTransformTool.removeHighlightActiveHandle(),this._advancedModeTransformTool.highlightActiveHandle()})),e((()=>c.controlPoints),(o=>{l.controlPoints=o.map((({sourcePoint:o},t)=>({sourcePoint:o,mapPoint:l.controlPoints[t].mapPoint}))),this._activeTool?.refresh()})),e((()=>this._controlPointsTransformTool.activeHandle),(o=>{this._advancedModeTransformTool.updateActiveHandle(o),this.activeHandle=o})),e((()=>this._advancedModeTransformTool.activeHandle),(o=>{this._controlPointsTransformTool.updateActiveHandle(o),this.activeHandle=o}))]),this.addHandles([o.on(\"key-down\",(o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())})),o.on(\"focus\",(async o=>{this._advancedModeTransformTool.removeHighlightActiveHandle(),this._controlPointsTransformTool.highlightActiveHandle()}))]),o.tools.addMany([this._transformTool,this._controlPointsTransformTool]),o.activeTool=this._transformTool,this._activeTool=this._transformTool,o.focus()}destroy(){this._transformTool?.destroy(),this._controlPointsTransformTool?.destroy(),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=null,this._sharedRedoStack=null}canUndo(){return this._sharedUndoStack.length>0}canRedo(){return this._sharedRedoStack.length>0}undo(){if(this._sharedUndoStack.length>0){const{tool:o,operation:t}=this._sharedUndoStack.pop();o!==this._activeTool&&o.refresh(),t.undo(),o.updateGraphics(),this._sharedRedoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}redo(){if(this._sharedRedoStack.length>0){const{tool:o,operation:t}=this._sharedRedoStack.pop();o!==this._activeTool&&o.refresh(),t.apply(),o.updateGraphics(),this._sharedUndoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}refresh(){this._activeTool.refresh()}reset(){this._activeTool.reset(),this._advancedModeTransformTool.reset()}async enableAdvancedMode(){this.view.activeTool=this._controlPointsTransformTool,this._activeTool=this._controlPointsTransformTool,this._activeTool.refresh(),await this.advancedMode.view.when(),this.advancedMode.view.activeTool=this._advancedModeTransformTool,this._originalOpacity=this._controlPointsTransformTool.mediaElement.opacity,this._controlPointsTransformTool.mediaElement.opacity=.25*this._originalOpacity}disableAdvancedMode(){this.view.activeTool=this._transformTool,this._activeTool=this._transformTool,this._activeTool.refresh(),this.advancedMode.view.activeTool=null,this._controlPointsTransformTool.mediaElement.opacity=this._originalOpacity}};o([s()],d.prototype,\"activeHandle\",void 0),o([s({constructOnly:!0})],d.prototype,\"advancedMode\",void 0),o([s()],d.prototype,\"preserveAspectRatio\",void 0),o([s()],d.prototype,\"snapRotation\",void 0),o([s({constructOnly:!0,nonNullable:!0})],d.prototype,\"mediaElement\",void 0),o([s({constructOnly:!0})],d.prototype,\"view\",void 0),d=o([i(\"esri.views.2d.interactive.editingTools.MediaTransformToolsWrapper\")],d);export{d as MediaTransformToolsWrapper,n as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{px2pt as r}from\"../../../core/screenUtils.js\";import{ensureClass as i}from\"../../../core/accessorSupport/ensureType.js\";import{subtract as o,cross as n}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as l}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import s from\"../../../geometry/Point.js\";import m from\"../../../geometry/Polyline.js\";import c from\"../../../geometry/SpatialReference.js\";import p from\"../../../symbols/CIMSymbol.js\";import y from\"../../../symbols/SimpleLineSymbol.js\";import g from\"../../../symbols/SimpleMarkerSymbol.js\";import{LineJoinStyle as h,LineCapStyle as b}from\"../../../symbols/cim/enums.js\";import{asVec2 as S}from\"../../interactive/sketch/normalizedPoint.js\";import{defaults as f}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as u}from\"../../interactive/snapping/SnappingVisualizer.js\";class d extends u{constructor(e){super(),this._graphicsLayer=e,this._symbolPairingsByType=new Map}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new s({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"intersectionPoint\",t.view.effectiveTheme.accentColor))}visualizePoint(e,t){return this._visualizeSnappingIndicator(new s({x:e.point[0],y:e.point[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"point\",t.view.effectiveTheme.accentColor))}visualizeLine(e,t){return this._visualizeSnappingIndicator(new m({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:i(c,t.spatialReference)}),this._getOrCreateSymbol(\"line\",t.view.effectiveTheme.accentColor))}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new m({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:i(c,t.spatialReference)}),this._getOrCreateSymbol(\"parallelSign\",t.view.effectiveTheme.accentColor))}visualizeRightAngleQuad(e,t){const r=a(),s=a(),p=l();o(r,S(e.centerVertex),S(e.previousVertex)),o(s,S(e.nextVertex),S(e.previousVertex)),n(p,r,s);const y=`rightAngleQuad${p[2]<0?45:225}`;return this._visualizeSnappingIndicator(new m({paths:[[[...e.previousVertex],[...e.centerVertex],[...e.nextVertex]]],spatialReference:i(c,t.spatialReference)}),this._getOrCreateSymbol(y,t.view.effectiveTheme.accentColor))}_visualizeSnappingIndicator(r,i){const o=new e({geometry:r,symbol:i});return this._graphicsLayer.add(o),t((()=>{this._graphicsLayer.remove(o)}))}_getOrCreateSymbol(e,t){const r=this._symbolPairingsByType;return r.get(e)?.color!==t&&r.set(e,{color:t,symbol:M(e,t)}),r.get(e).symbol}}function M(e,t){const i=[...t.toRgb(),255*t.a];switch(e){case\"point\":return new g({outline:{width:.5,color:[0,0,0,1]},size:10,color:t});case\"intersectionPoint\":return new g({outline:new y({width:1.5,color:t}),size:15,color:[0,0,0,0]});case\"line\":return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:b.Butt,joinStyle:h.Round,miterLimit:10,width:r(f.lineHintWidthTarget),color:i}]}}});case\"parallelSign\":return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}});case\"rightAngleQuad45\":case\"rightAngleQuad225\":{const o=\"rightAngleQuad45\"===e?45:225;return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:r(f.rightAngleHintSize),rotation:o,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:r(f.rightAngleHintOutlineSize),color:i},{type:\"CIMSolidFill\",enable:!0,color:[...t.toRgb(),255*t.a*.4]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})}}}export{d as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Evented.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{EditableFlag as s}from\"./interfaces.js\";import{ManipulatorCollection as r}from\"./ManipulatorCollection.js\";let n=class extends e.EventedAccessor{constructor(t){super(t),this.manipulators=new r,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[s.MANAGER,!0],[s.USER,!0]]),this._creationFinishedResolver=i()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(s.USER)}set editable(t){this.setEditableFlag(s.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}onAdd(){this._syncVisible()}activate(){null!=this.view&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}cancel(){this.emit(\"cancel\")}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===s.USER&&this.notifyChange(\"editable\"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}endDrag(){const t=this.view.inputManager.latestPointerLocation;if(!t)return;let e=!1;this.manipulators.forEach((({manipulator:i})=>{i.dragging&&(e=!0,i.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}))})),e&&(this.view.toolViewManager.activeTool=null)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(s.USER)&&this.getEditableFlag(s.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set(\"created\",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([a({constructOnly:!0})],n.prototype,\"view\",void 0),t([a({readOnly:!0})],n.prototype,\"active\",null),t([a({value:!0})],n.prototype,\"visible\",null),t([a({value:!0})],n.prototype,\"editable\",null),t([a({readOnly:!0})],n.prototype,\"manipulators\",void 0),t([a({readOnly:!0})],n.prototype,\"updating\",null),t([a()],n.prototype,\"cursor\",null),t([a({readOnly:!0})],n.prototype,\"automaticManipulatorSelection\",void 0),t([a()],n.prototype,\"hasFocusedManipulators\",null),t([a()],n.prototype,\"hasGrabbedManipulators\",void 0),t([a()],n.prototype,\"hasHoveredManipulators\",void 0),t([a()],n.prototype,\"firstGrabbedManipulator\",void 0),t([a({readOnly:!0})],n.prototype,\"created\",void 0),t([a({readOnly:!0})],n.prototype,\"removeIncompleteOnCancel\",void 0),n=t([o(\"esri.views.interactive.InteractiveToolBase\")],n);export{n as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{abortMaybe as n,removeMaybe as e}from\"../../../core/maybe.js\";import{ignoreAbortErrors as t,debounce as o}from\"../../../core/promiseUtils.js\";import{watch as r}from\"../../../core/reactiveUtils.js\";import{pointEquals as i}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{clonePoint as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{absoluteHeightElevationInfo as a}from\"../../../support/elevationInfoUtils.js\";import{EventPipeline as s}from\"../dragEventPipeline.js\";import{SnappingContext as u}from\"./SnappingContext.js\";import{ImmediateTask as c,TaskPriority as p}from\"../../support/Scheduler.js\";function f({predicate:o=()=>!0,snappingManager:i,snappingContext:l,updatingHandles:u,useZ:c=!0}){const p=new s;if(null==i)return{snappingStep:[y,p],cancelSnapping:y};let f,Z=null,j=null,z=null;const T=()=>{Z=n(Z),i.doneSnapping(),j?.frameTask.remove(),j=null,f=e(f),z=null},k=d(i,c,p);let w=null,I=null,U=null;return{snappingStep:[n=>{if(!o(n))return n;const{action:e}=n;if(\"start\"===e){const{info:e}=n,t=m(i.view);if(j=g(l,n,t),j.context.selfSnappingZ=null,!c&&null!=e){const n=S(l.coordinateHelper,e.handle.component);null!=n&&(j.context.selfSnappingZ={value:n,elevationInfo:l.elevationInfo??a})}}if(null!=j){const{context:o,originalScenePos:l,originalPos:a}=j,{mapEnd:s,mapStart:p,scenePoints:d}=n,m=x(a,v(s,p)),g=v(p,a),S={...n,action:\"update\"},y=j.context,T=P(l,d),C=i.update({point:m,scenePoint:T,context:o});if(U=C,h(s,C,g,c),w=m,I=T,\"end\"!==e){const{frameTask:n}=j;null==Z&&(Z=new AbortController),z=e=>{u.addPromise(t(k({frameTask:n,event:S,context:y,point:m,scenePoint:T,delta:g,getLastState:()=>({point:w,scenePoint:I,updatePoint:e.forceUpdate?null:U})},Z.signal)))},z({forceUpdate:!1}),null==f&&(f=r((()=>i.options.effectiveEnabled),(()=>z?.({forceUpdate:!0}))))}}return\"end\"===e&&T(),n},p],cancelSnapping:n=>(T(),n)}}function d(n,e,t){return o((async({frameTask:o,point:r,scenePoint:l,context:a,event:s,delta:u,getLastState:c},p)=>{const f=await o.schedule((()=>n.snap({point:r,scenePoint:l,context:a,signal:p})),p);if(f.valid){let l=await o.schedule((()=>f.apply()),p);const d=c();null!=d.point&&r!==d.point&&(l=n.update({point:d.point,scenePoint:d.scenePoint,context:a})),null!=d.updatePoint&&i(l,d.updatePoint)||(h(s.mapEnd,l,u,e),t.execute(s))}}))}function m(n){return\"3d\"===n.type?n.resourceController.scheduler.registerTask(p.SNAPPING):c}function g(n,e,t){return{context:new u({editGeometryOperations:n.editGeometryOperations,elevationInfo:n.elevationInfo,pointer:n.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:n.excludeFeature,feature:n.feature,visualizer:n.visualizer}),originalPos:null!=e.snapOrigin?n.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:t}}function x(n,[e,t,o]){const r=l(n);return r.x+=e,r.y+=t,r.hasZ&&(r.z+=o),r}function P(n,e){return null==n||null==e?null:x(n,v(e.sceneEnd,e.sceneStart))}function v(n,e){const t=n.hasZ&&e.hasZ?n.z-e.z:0;return[n.x-e.x,n.y-e.y,t]}function h(n,e,[t,o,r],i){n.x=e.x+t,n.y=e.y+o,i&&n.hasZ&&e.hasZ&&(n.z=e.z+r)}function S(n,e){if(!n.hasZ())return null;const t=e.vertices;let o=null;for(const r of t){const e=n.getZ(r.pos);if(null!=o&&null!=e&&Math.abs(e-o)>1e-6)return null;null==o&&(o=e)}return o}function y(n){return n}export{f as createSnapDragEventPipelineStep};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{create as n}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as e}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as o}from\"../../../geometry/support/coordsUtils.js\";function r(t,n,e,r){if(null==r||t.hasZ||(r=void 0),\"point\"===t.type)return t.x+=n,t.y+=e,t.hasZ&&null!=r&&(t.z+=r),t;if(\"multipoint\"===t.type){const o=t.points;for(let t=0;t<o.length;t++)o[t]=l(o[t],n,e,r);return t}if(\"extent\"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=e,t.ymax+=e,null!=r&&(t.zmin??=0,t.zmin+=r,t.zmax??=0,t.zmax+=r),t;const i=o(t),s=\"polyline\"===t.type?t.paths:t.rings;for(let o=0;o<i.length;o++){const t=i[o];for(let o=0;o<t.length;o++)t[o]=l(t[o],n,e,r)}return\"paths\"in t?t.paths=s:t.rings=s,t}function i(t,n,e,i,s){const a=t.clone(),m=i.resolution;if(\"point\"===a.type){if(s)r(a,n*m,-e*m);else{const t=i.state.transform,o=i.state.inverseTransform,r=t[0]*a.x+t[2]*a.y+t[4],s=t[1]*a.x+t[3]*a.y+t[5];a.x=o[0]*(r+n)+o[2]*(s+e)+o[4],a.y=o[1]*(r+n)+o[3]*(s+e)+o[5]}return a}if(\"multipoint\"===a.type){if(s)r(a,n*m,-e*m);else{const t=a.points,o=i.state.transform,r=i.state.inverseTransform;for(let i=0;i<t.length;i++){const s=t[i],a=o[0]*s[0]+o[2]*s[1]+o[4],m=o[1]*s[0]+o[3]*s[1]+o[5],l=r[0]*(a+n)+r[2]*(m+e)+r[4],p=r[1]*(a+n)+r[3]*(m+e)+r[5];t[i]=x(s,l,p,void 0)}}return a}if(\"extent\"===a.type){if(s)r(a,n*m,-e*m);else{const t=i.state.transform,o=i.state.inverseTransform,r=t[0]*a.xmin+t[2]*a.ymin+t[4],s=t[1]*a.xmin+t[3]*a.ymin+t[5],m=t[0]*a.xmax+t[2]*a.ymax+t[4],l=t[1]*a.xmax+t[3]*a.ymax+t[5];a.xmin=o[0]*(r+n)+o[2]*(s+e)+o[4],a.ymin=o[1]*(r+n)+o[3]*(s+e)+o[5],a.xmax=o[0]*(m+n)+o[2]*(l+e)+o[4],a.ymax=o[1]*(m+n)+o[3]*(l+e)+o[5]}return a}if(s)r(a,n*m,-e*m);else{const t=o(a),r=\"polyline\"===a.type?a.paths:a.rings,s=i.state.transform,m=i.state.inverseTransform;for(let o=0;o<t.length;o++){const r=t[o];for(let t=0;t<r.length;t++){const o=r[t],i=s[0]*o[0]+s[2]*o[1]+s[4],a=s[1]*o[0]+s[3]*o[1]+s[5],l=m[0]*(i+n)+m[2]*(a+e)+m[4],p=m[1]*(i+n)+m[3]*(a+e)+m[5];r[t]=x(o,l,p,void 0)}}\"paths\"in a?a.paths=r:a.rings=r}return a}function s(t,r,i,s){if(\"point\"===t.type){const{x:n,y:e}=t,o=s?s[0]:n,a=s?s[1]:e,m=t.clone(),l=(n-o)*r+o,x=(e-a)*i+a;return m.x=l,m.y=x,m}if(\"multipoint\"===t.type){const a=o(t),m=n(),[l,p,y,f]=e(m,[a]),u=s?s[0]:(l+y)/2,c=s?s[1]:(f+p)/2,h=t.clone(),g=h.points;for(let t=0;t<g.length;t++){const n=g[t],[e,o]=n,s=(e-u)*r+u,a=(o-c)*i+c;g[t]=x(n,s,a,void 0)}return h}if(\"extent\"===t.type){const{xmin:n,xmax:e,ymin:o,ymax:a}=t,m=s?s[0]:(n+e)/2,l=s?s[1]:(a+o)/2,x=t.clone();if(x.xmin=(n-m)*r+m,x.ymax=(a-l)*i+l,x.xmax=(e-m)*r+m,x.ymin=(o-l)*i+l,x.xmin>x.xmax){const t=x.xmin,n=x.xmax;x.xmin=n,x.xmax=t}if(x.ymin>x.ymax){const t=x.ymin,n=x.ymax;x.ymin=n,x.ymax=t}return x}const a=o(t),m=n(),[l,p,y,f]=e(m,a),u=s?s[0]:(l+y)/2,c=s?s[1]:(f+p)/2,h=t.clone(),g=\"polyline\"===h.type?h.paths:h.rings;for(let n=0;n<a.length;n++){const t=a[n];for(let e=0;e<t.length;e++){const o=t[e],[s,a]=o,m=(s-u)*r+u,l=(a-c)*i+c;g[n][e]=x(o,m,l,void 0)}}return\"paths\"in h?h.paths=g:h.rings=g,h}function a(t,n,e,o,r,i){const s=Math.sqrt((e-t)*(e-t)+(o-n)*(o-n));return Math.sqrt((r-t)*(r-t)+(i-n)*(i-n))/s}function m(n,e,o,r=!1){const i=Math.atan2(e.y-o.y,e.x-o.x)-Math.atan2(n.y-o.y,n.x-o.x),s=Math.atan2(Math.sin(i),Math.cos(i));return r?s:t(s)}function l(t,n,e,o){return x(t,t[0]+n,t[1]+e,null!=t[2]&&null!=o?t[2]+o:void 0)}function x(t,n,e,o){const r=[n,e];return t.length>2&&r.push(null!=o?o:t[2]),t.length>3&&r.push(t[3]),r}export{i as cloneMove,m as getRotationAngle,a as getScaleRatio,r as move,s as scale};\n"],"names":["e","constructor","this","vertexHandle","excludeFeature","visualizer","selfSnappingZ","drawConstraints","editGeometryOperations","elevationInfo","pointer","feature","coordinateHelper","data","spatialReference","r","draw","p","h","i","n","t","s","equals","push","a","f","sortUniqueHints","u","visualizeIntersectionPoint","visualizeLine","visualizeParallelSign","visualizeRightAngleQuad","o","visualizePoint","events","on","action","execute","screenStart","start","screenEnd","screenPoint","w","pointerType","m","_t$z","x","y","z","Math","cos","sin","sqrt","l","mapStart","mapEnd","_objectSpread","axis","_e$mapEnd$z","_e$mapStart$z","operations","geometry","c","type","d","fromGeometry","viewingMode","trySetGeometry","origin","_t$z2","_r$origin$z","move","translationX","translationY","translationZ","clone","_t$endInteraction","endInteraction","call","E","_t$spatialReference","arguments","length","undefined","exclude","toMap","S","map","filter","forEach","Map","set","g","_t$operations","createResetState","remove","v","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","j","screenDeltaX","screenDeltaY","M","_t$toScreen","toScreen","width","height","R","next","D","sceneStart","sceneEnd","scenePoints","U","_n$elevationProvider$","_t$z3","elevationProvider","getElevation","hasZ","G","super","point","WhenToolEditable","WhenToolNotEditable","Always","_isToolEditable","_manipulators","_resourceContexts","manipulator3D","_attached","isToolEditable","add","addMany","manipulator","visibilityPredicate","attached","_updateManipulatorAttachment","at","splice","_detachManipulator","removeAll","attach","detach","destroy","_ref","items","some","toArray","intersect","Number","MAX_VALUE","_ref2","interactive","intersectionDistance","_isManipulatorItemVisible","_attachManipulator","grabbing","dragging","hovering","selected","symbol","symbolLayers","effects","dashTemplate","lineDashEnding","controlPointEnding","enable","capStyle","joinStyle","miterLimit","color","style","size","outline","_e$activeLineSymbol","_e$regularVerticesSym","_e$activeVertexSymbol","_visualElementGraphics","regularVertices","activeVertex","activeEdge","activeFillSymbol","_visualElementSymbols","activeLineSymbol","regularVerticesSymbol","activeVertexSymbol","fill","addHandles","_this$view","view","effectiveTheme","accentColor","_this$_visualElementG","normalizeCtorArgs","initializeGraphic","internalGraphicsLayer","graphics","sort","makeDrawOperation","defaultZ","_createOrUpdateGraphic","manipulators","geometryType","drawingMode","mode","snapToSceneEnabled","snapToScene","drawSurface","hasM","snappingManager","snappingVisualizer","graphic","cursor","constraintsEnabled","automaticLengthMeasurementUtils","onActiveVertexChanged","attributes","displayOrder","onCursorEdgeChanged","onRegularVerticesChanged","points","_e$attributes$display","_e$attributes","_t$attributes$display","_t$attributes","prototype","readOnly","constructOnly","nonNullable","someManipulator","hasManipulator","forEachManipulator","TRANSLATE_XY","SCALE","ROTATE","_view","_tool","tool","_graphic","_manipulator","_createManipulator","createDragPipeline","offsetX","offsetY","constraints","xmin","ymin","xmax","ymax","_","NEW_STEP","ACCUMULATE_STEPS","selectable","P","k","b","_isOpacityToggled","_isModifierActive","_factor","_initialControlPoints","_graphicsLayer","internal","listMode","visible","effect","_undoStack","_redoStack","_sharedUndoStack","_sharedRedoStack","_highlightHandle","activeHandle","initialize","_initialize","_controlPointManipulations","_controlPointEditGeometryOperations","removeMany","_georeference","_controlPointGraphics","_hasValidSpatialReference","onActivate","onDeactivate","onShow","onHide","canUndo","canRedo","undo","pop","updateGraphics","redo","refresh","mediaElement","georeference","coords","controlPoints","mapPoint","components","vertices","setVertexPosition","pointToVector","reset","sourcePoint","toSource","updateActiveHandle","surface","document","activeElement","highlightActiveHandle","removeHighlightActiveHandle","whenLayerView","highlight","setSharedUndoStack","setSharedRedoStack","focus","finishToolCreation","_loadProjectionEngine","Local","colorLocked","anchorPoint","anchorPointUnits","dominantSizeAxis3D","billboardMode3D","frame","markerGraphics","rings","scaleSymbolsProportionally","respectFrame","clippingPath","clippingType","path","rotation","haloSize","scaleX","angleAlignment","angle","_getInfo","bind","operation","scale","active","activeTool","key","repeat","stopPropagation","opacity","_move","resolution","_lastDragEvent","_enabled","enabled","_adjustScaleFactors","createDragEventPipelineStep","direction","max","abs","factor1","factor2","_adjustRotateAngle","rotateAngle","round","_handles","_originCache","_snapRotation","snapRotation","plane","rotate","REPLACE","basis1","basis2","min","_planeStart","_displayPlaneStart","_axisCache","_renderStartCache","_renderEndCache","_resizeOriginCache","_direction","_preserveAspectRatio","preserveAspectRatio","displayPlane","valid","allVertices","scaleVertices","extent","updateVertices","C","K","Y","_initialGeometry","_planeCache","_displayPlaneCache","_mainAxisCache","_rotationHandleCache","_cornerA","_cornerB","_cornerC","_cornerD","_avgAB","_avgBC","_avgCD","_avgDA","O","_dragManipulation","_rotateManipulation","_scaleManipulations","_editGeometryOperations","_plane","edges","leftVertex","pos","rightVertex","_displayPlane","_backgroundGraphicGeometry","_updateDisplayPlaneConrers","_rotateGraphicGeometry","_scaleGraphicGeometries","target","B","T","_backgroundGraphic","_rotateGraphic","_scaleGraphics","H","A","_updateGraphics","async","W","allLayers","hitTest","results","N","element","Boolean","Set","includes","has","addToggle","L","rotateIncrements","toggleOpacity","factorModifier","scaleUp","_scale","scaleDown","moveUp","moveDown","moveLeft","moveRight","dispatch","inputManager","_t$data$geometry$exte","I","V","_transformTool","_controlPointsTransformTool","_advancedModeTransformTool","_activeTool","_originalOpacity","advancedMode","tools","_this$_activeTool","_this$_transformTool","_this$_controlPointsT","_this$_activeTool2","_this$_activeTool3","apply","enableAdvancedMode","when","disableAdvancedMode","_symbolPairingsByType","_visualizeSnappingIndicator","intersectionPoint","_getOrCreateSymbol","paths","lineStart","lineEnd","centerVertex","previousVertex","nextVertex","concat","_r$get","get","toRgb","Butt","Round","lineHintWidthTarget","markerPlacement","placePerPart","angleToLine","relativeTo","rightAngleHintSize","placeOnEndPoints","rightAngleHintOutlineSize","EventedAccessor","automaticManipulatorSelection","hasGrabbedManipulators","hasHoveredManipulators","firstGrabbedManipulator","created","removeIncompleteOnCancel","_editableFlags","MANAGER","USER","_creationFinishedResolver","_get","_set","_syncVisible","editable","getEditableFlag","setEditableFlag","updating","hasFocusedManipulators","onAdd","activate","deactivate","cancel","emit","handleInputEvent","onInputEvent","handleInputEventAfter","onInputEventAfter","internallyEditable","notifyChange","onEditableChange","onManipulatorSelectionChanged","_this$_editableFlags$","endDrag","latestPointerLocation","toolViewManager","whenCreated","promise","resolve","initialized","_show","_hide","value","predicate","snappingContext","updatingHandles","useZ","snappingStep","cancelSnapping","Z","_j","doneSnapping","frameTask","scenePoint","context","event","delta","getLastState","schedule","snap","signal","update","updatePoint","info","resourceController","scheduler","registerTask","SNAPPING","handle","originalPos","snapOrigin","vectorToDehydratedPoint","originalScenePos","_l$elevationInfo","getZ","component","AbortController","addPromise","forceUpdate","options","effectiveEnabled","_z","_ref3","_ref4","_t$zmin","_t$zmax","zmin","zmax","state","transform","inverseTransform","atan2"],"sourceRoot":""}