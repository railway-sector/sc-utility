{"version":3,"file":"static/js/28707.5994e9ba.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineCache.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js","../node_modules/@arcgis/core/arcade/functions/hash.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{baseArrayMemory as e,baseObjectMemory as t}from\"../../../../core/memoryEstimations.js\";class s{constructor(e){this._cache=e.newCache(\"QueryEngine\",null,-1)}clear(){this._cache.clear()}destroy(){this._cache.destroy()}get(e){return this._cache.get(e)?.items}put(e,t){this._cache.put(e,new r(t))}get test(){}}class r{constructor(e){this.items=e}get usedMemory(){return this.items.reduce((e,t)=>e+t.usedMemory,e+t)}}export{s as QueryEngineCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../geometry/Extent.js\";import{featureGeometryTypeKebabDictionary as i}from\"../../../../geometry/support/typeUtils.js\";import{QueryEngine as a}from\"../../../../layers/graphics/data/QueryEngine.js\";import o from\"../../../../layers/support/FieldsIndex.js\";import u from\"../../../../rest/support/AttributeBinsFeatureSet.js\";import y from\"../../../../rest/support/FeatureSet.js\";import c from\"../../../../rest/support/Query.js\";import{createFeatureIdInfo as p}from\"../../../2d/layers/features/layerAdapters/featureServiceUtils.js\";import{QueryEngineCache as l}from\"./QueryEngineCache.js\";const h=a;let m=class extends t{constructor(e){super(e),this._dataQueryEngineInstance=null}destroy(){this.clear()}get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new c({outSpatialReference:this.spatialReference}).toJSON()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:n}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:s.fromJSON(n)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),n=y.fromJSON(r);return n.features.forEach(e=>{e.layer=this.layer,e.sourceLayer=this.layer,\"graphicOrigin\"in this.layer&&(e.origin=this.layer.graphicOrigin)}),n}async executeAttributeBinsQuery(e,t){const r=await this._dataQueryEngine.executeAttributeBinsQuery(e.toJSON(),t);return u.fromJSON(r)}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),n=y.fromJSON(r);return n.features.forEach(e=>{e.layer=this.layer,e.sourceLayer=this.layer,\"graphicOrigin\"in this.layer&&(e.origin=this.layer.graphicOrigin)}),n}_ensureQueryJSON(e,t){let r=this.defaultQueryJSON;if(null!=e&&(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),r=e.toJSON(),r.cacheHint=!0),null!=t){const e=t.geometries.map(e=>e.toJSON()).reduce((e,t)=>(e.rings=e.rings.concat(t.rings),e));r={...r,cacheHint:!0,sceneFilter:{...t,geometry:e}}}return r}get _dataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const{priority:e,layer:t}=this,r=\"timeInfo\"in t&&t.timeInfo?.toJSON()||null,n=p(t),s=i.toJSON(this._queryGeometryType),a=t.fieldsIndex?.toJSON()||new o([]),u=this.spatialReference.toJSON(),{hasZ:y,hasM:c,featureStore:m,scheduler:g,memoryController:f}=this.context,d=new l(f);return this._dataQueryEngineInstance=new h({hasZ:y,hasM:c,geometryType:s,fieldsIndex:a,timeInfo:r,spatialReference:u,featureIdInfo:n,featureStore:m,scheduler:g,cache:d,priority:e}),this._dataQueryEngineInstance}};e([r({constructOnly:!0})],m.prototype,\"context\",void 0),e([r({constructOnly:!0})],m.prototype,\"priority\",void 0),e([r()],m.prototype,\"layer\",null),e([r()],m.prototype,\"spatialReference\",null),e([r()],m.prototype,\"_queryGeometryType\",null),e([r()],m.prototype,\"defaultQueryJSON\",null),m=e([n(\"esri.views.3d.layers.graphics.QueryEngine\")],m);export{m as QueryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{XXH as t}from\"../../../../arcade/functions/hash.js\";import{createTask as i}from\"../../../../core/asyncUtils.js\";import{neverReached as r}from\"../../../../core/compilerUtils.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import{destroyMaybe as n}from\"../../../../core/maybe.js\";import{EsriPromise as a}from\"../../../../core/Promise.js\";import{logOnError as o,throwIfAborted as l}from\"../../../../core/promiseUtils.js\";import{watch as p,initial as d,when as u}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as g}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{canProject as m,project as f}from\"../../../../geometry/support/webMercatorUtils.js\";import{getRenderingInfo as b,getRenderingInfoAsync as C}from\"../../../../renderers/support/renderingInfoUtils.js\";import{matchRandomRotationExpression as E}from\"../../../../support/arcadeExpressionUtils.js\";import{suspendResumeExtentOptimism as w}from\"./constants.js\";import{DisplayFeatureLimit as x}from\"./DisplayFeatureLimit.js\";import{Graphics3DCore as v}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as V}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as R}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as O}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as j}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as S}from\"./graphicUtils.js\";import{FeatureVisibilityFilter as _}from\"../support/FeatureVisibilityFilter.js\";import{emptyHighlightHandle as G}from\"../support/highlightUtils.js\";let U=class extends a{constructor(e){super(e),this.type=\"graphics-3d\",this._updatingHandles=new y,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=1,this.preferredUpdatePolicy=0,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&\"multipatch\"!==e.layer.geometryType,r=new v({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new V({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new j({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new _({context:{...t,configuration:e}}):null,objectStates:e=>new O(e)}});this._set(\"graphicsCore\",r),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new R({graphicsCoreOwner:this})),this.elevationAlignment&&this._updatingHandles.add(()=>this.layer.elevationInfo,(e,t)=>{g(e,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())}),this._updatingHandles.add(()=>this.layer.labelsVisible,()=>this.graphicsCore.updateVisibilityInfo()),this._updatingHandles.add(()=>this.layer.labelingInfo,(e,t)=>{g(e,t)&&this.graphicsCore.updateLabelingInfo()}),this._updatingHandles.add(()=>this.preferredUpdatePolicy,e=>this.graphicsCore.preferredUpdatePolicy=e),this.addResolvingTask(i(e=>this._initializeAsync(e)))}async _initializeAsync(e){await o(this.graphicsCore.initializePromise),l(e);const t=this.owner;this._updatingHandles.add(()=>this.renderer,e=>this._updatingHandles.addPromise(this.graphicsCore.rendererChange(e))),this._updatingHandles.add(()=>t.fullOpacity,()=>this.graphicsCore.opacityChange()),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this._updatingHandles.add(()=>t.view.clippingArea,()=>this._updateClippingExtent()),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&(await o(this.graphicsCore.updateLabelingInfo()),l(e))}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",n(this.frustumVisibility)),this._set(\"graphicsCore\",n(this.graphicsCore)),this._set(\"owner\",null)}get layer(){return this.owner.layer}get layerViewUid(){return this.owner.layerViewUid}get dataUpdating(){return this.graphicsCore?.dataUpdating??!1}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||\"heatmap\"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex(e=>\"rotation\"===e.type&&null!=e.valueExpression&&E(e.valueExpression)===t&&(null==e.axis||\"heading\"===e.axis)&&\"geographic\"===e.rotationType);if(i<0)return e;const r=e.clone();return r.visualVariables?(r.visualVariables.splice(i,1),this._randomRotationRenderers??=new WeakMap,this._randomRotationRenderers.set(r,t),r):e}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get suspendResumeExtentMode(){return this.owner.suspendResumeExtentMode??\"computed\"}get scaleVisibilitySuspended(){return null!=this.scaleVisibility&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return null==this.frustumVisibility||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),null!=this.frustumVisibility&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||this.frustumVisibility?.updating||this._updatingHandles.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return\"filter\"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return\"featureSpatialReference\"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.quality,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e);return new x(t.maximumTotalNumberOfVertices,i,t.averageSymbolComplexity)}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return this.graphicsCore.performanceInfo}maskOccludee(e){const t=this.graphicsCore?.objectStates;if(!t)return s();const{set:i,handle:r}=t.acquireOccludeeSet(null);return t.setUid(i,e.uid),r}highlightByGraphics(e,t){const i=this.graphicsCore?.objectStates;if(!i)return G;const r=e.map(e=>e.uid),{set:s,handle:n}=i.acquireHighlightSet(t,null);return i.setUids(s,r),n}highlightByObjectIds(e,t=null,i){const r=this.graphicsCore?.objectStates;if(!r)return G;const{set:s,handle:n}=r.acquireHighlightSet(i,t);return r.setObjectIds(s,e),n}resetObjectStates(){this.graphicsCore?.objectStates?.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}notifyContentGeometryUpdate(){this.owner.notifyContentGeometryUpdate?.()}getRenderingInfo(e,i,r){const s=b(e,{renderer:i,arcade:r});if(s?.color){const e=s.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(null!=s&&null!=i&&this._randomRotationRenderers?.has(i)){const r=this._randomRotationRenderers.get(i),n=e.attributes[r],a=new t(0);a.updateFloatArray([n]),a.updateUint8Array([173]),s.heading=8.381e-8*a.digest()}return s}getRenderingInfoAsync(e,t,i,r){return C(e,{renderer:t,arcade:i,...r})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){null!=this.filterVisibility&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.addHandles(p(()=>this.suspendResumeExtentMode,()=>{switch(this.removeHandles(I),this.suspendResumeExtentMode){case\"computed\":this.addHandles([p(()=>this.graphicsCore.computedExtent,e=>this._updateSuspendResumeExtent(e),d),p(()=>this.graphicsCore.extentPadding,()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent))],I);break;case\"data\":this.addHandles([u(()=>this.dataExtent,e=>this._updateSuspendResumeExtent(e),d),p(()=>this.graphicsCore.extentPadding,()=>this._updateSuspendResumeExtent(this.dataExtent))],I);break;default:r(this.suspendResumeExtentMode)}},d))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!m(e,i))return;e=f(e,i)}return S(e,t,w,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){null!=this.frustumVisibility&&this.frustumVisibility.setExtent(e),null!=this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};e([h()],U.prototype,\"type\",void 0),e([h({constructOnly:!0})],U.prototype,\"owner\",void 0),e([h()],U.prototype,\"layer\",null),e([h()],U.prototype,\"layerViewUid\",null),e([h({readOnly:!0})],U.prototype,\"dataUpdating\",null),e([h()],U.prototype,\"renderer\",null),e([h({constructOnly:!0})],U.prototype,\"updateClippingExtent\",void 0),e([h({constructOnly:!0})],U.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([h({constructOnly:!0})],U.prototype,\"graphicsCore\",void 0),e([h({constructOnly:!0})],U.prototype,\"scaleVisibilityEnabled\",void 0),e([h({constructOnly:!0})],U.prototype,\"filterVisibilityEnabled\",void 0),e([h({constructOnly:!0})],U.prototype,\"frustumVisibilityEnabled\",void 0),e([h({constructOnly:!0})],U.prototype,\"elevationAlignmentEnabled\",void 0),e([h({constructOnly:!0})],U.prototype,\"timeExtentEnabled\",void 0),e([h({constructOnly:!0})],U.prototype,\"setUidToIdOnAdd\",void 0),e([h()],U.prototype,\"scaleVisibility\",null),e([h()],U.prototype,\"filterVisibility\",null),e([h()],U.prototype,\"elevationAlignment\",null),e([h({constructOnly:!0})],U.prototype,\"frustumVisibility\",void 0),e([h()],U.prototype,\"suspendResumeExtentMode\",null),e([h()],U.prototype,\"dataExtent\",void 0),e([h()],U.prototype,\"scaleVisibilitySuspended\",null),e([h()],U.prototype,\"suspended\",null),e([h()],U.prototype,\"legendEnabled\",null),e([h()],U.prototype,\"suspendInfo\",null),e([h()],U.prototype,\"updating\",null),e([h()],U.prototype,\"updatingRemaining\",null),e([h()],U.prototype,\"featureStore\",null),e([h()],U.prototype,\"view\",null),e([h()],U.prototype,\"loadedGraphics\",null),e([h()],U.prototype,\"fullOpacity\",null),e([h()],U.prototype,\"filter\",null),e([h()],U.prototype,\"slicePlaneEnabled\",null),e([h()],U.prototype,\"drapeSourceType\",void 0),e([h()],U.prototype,\"updatePolicy\",null),e([h()],U.prototype,\"preferredUpdatePolicy\",void 0),e([h({readOnly:!0})],U.prototype,\"displayFeatureLimit\",null),U=e([c(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")],U);const I=\"suspendResumeExtentMode\";export{U as Graphics3DFeatureProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push(\"NaN\"):n===1/0?s.push(\"Infinity\"):n===-1/0?s.push(\"-Infinity\"):0===n?s.push(\"0\"):s.push(n.toString(16));this.update(h(s.join(\"\")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(h,i=0){const o=h;let u=i+r&4294967295,a=0;if(o.length>=16){const n=[i+t+s&4294967295,i+s&4294967295,i+0&4294967295,i-t&4294967295],e=h,r=e.length-16;let o=0;for(a=0;(4294967280&a)<=r;a+=4){const r=a,h=e[r]+(e[r+1]<<8),i=e[r+2]+(e[r+3]<<8),u=h*s+(i*s<<16);let l=n[o]+u&4294967295;l=l<<13|l>>>19;const f=65535&l,p=l>>>16;n[o]=f*t+(p*t<<16)&4294967295,o=o+1&3}u=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}u=u+h.length&4294967295;const l=h.length-4;for(;a<=l;a+=4){const t=a,s=o[t]+(o[t+1]<<8),r=o[t+2]+(o[t+3]<<8);u=u+(s*n+(r*n<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*e+((u>>>16)*e<<16)&4294967295}for(;a<o.length;++a){u+=o[a]*r,u=u<<11|u>>>21,u=(65535&u)*t+((u>>>16)*t<<16)&4294967295}return u^=u>>>15,u=((65535&u)*s&4294967295)+((u>>>16)*s<<16),u^=u>>>13,u=((65535&u)*n&4294967295)+((u>>>16)*n<<16),u^=u>>>16,u<0?u+4294967296:u}}export{i as XXH};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,r,t,o,s,l){this.spatialReference=e,this.layer=r,this.resourceController=t,this._getFeatureStore=o,this.hasZ=s,this.hasM=l}get scheduler(){return this.resourceController.scheduler}get memoryController(){return this.resourceController.memoryController}get featureStore(){return this._getFeatureStore()}}export{e as QueryEngineContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{const n=l;let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,s=o.signal;this.addHandles(t(()=>o.abort())),await r(()=>this.view.defaultsFromMap?.heightModelInfoReady,s),e(s);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([s()],c.prototype,\"view\",void 0),o([s()],c.prototype,\"slicePlaneEnabled\",void 0),c=o([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{removeMaybe as r,destroyMaybe as s}from\"../../../../core/maybe.js\";import{throwIfNotAbortError as o,throwIfAborted as l,throwIfAbortError as n}from\"../../../../core/promiseUtils.js\";import{initial as a}from\"../../../../core/reactiveUtils.js\";import{sqlAnd as u}from\"../../../../core/sql.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as c}from\"../../../../core/support/UpdatingHandles.js\";import g from\"../../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as _}from\"../../../../layers/support/floorFilterUtils.js\";import{QueryEngine as d}from\"../graphics/QueryEngine.js\";import{QueryEngineContext as f}from\"../graphics/QueryEngineContext.js\";import{TaskPriority as y}from\"../../../support/Scheduler.js\";let m=class extends e{constructor(t){super(t),this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updatingHandles=new c,this._abortController=new AbortController}initialize(){const t=y.FILTER_VISIBILITY,{layer:e,view:i}=this._configuration,{featureStore:r}=this.context,{spatialReference:s,resourceController:l}=i,n=this._configuration.hasZ??!1,u=this._configuration.hasM??!1,h=new f(s,e,l,()=>r,n,u);this._queryEngine=new d({context:h,priority:t}),this._frameTask=i.resourceController.scheduler.registerTask(t),this._updatingHandles.add(()=>[this._compositedFeatureFilter,this._sceneFilter,this._displayFilterHighlightIds],()=>this.reapply(),a),this._updatingHandles.addWhen(()=>!this._frameTask.updating&&this._updateRequested,()=>{this._frameTask.scheduleGenerator(()=>this._updateVisibility(),this._abortController.signal).catch(o)},a)}destroy(){this._abortController.abort(),this._updatingHandles.destroy(),this.clear(),this._frameTask=r(this._frameTask),this._queryEngine=s(this._queryEngine),this._set(\"context\",null)}get updating(){return this._updateRequested||this._updatingHandles.updating||this._frameTask.updating}get defaultVisibility(){return null==this._compositedFeatureFilter&&null==this._sceneFilter}get _featureFilter(){return\"filter\"in this._configuration?this._configuration.filter:null}get _effectiveDisplayFilter(){return\"effectiveDisplayFilter\"in this._configuration?this._configuration.effectiveDisplayFilter:null}get _highlightIds(){return\"highlightIds\"in this._configuration?this._configuration.highlightIds:null}get _displayFilterHighlightIds(){return this._effectiveDisplayFilter&&this._highlightIds?.length?new Set(this._highlightIds):null}get _sceneFilter(){return\"layerFilter\"in this._configuration?this._configuration.layerFilter:null}get _floorFilter(){return _(this._configuration)}get _timeExtent(){return\"timeExtent\"in this._configuration?this._configuration.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:t,_effectiveDisplayFilter:e,_timeExtent:i,_floorFilter:r}=this;let s=t?.clone();if(null!=e&&(s??=new g,s.where=u(s.where,e.where)),null!=i&&(s??=new g,s.timeExtent=s.timeExtent?.intersection(i)??i),null!=r){s??=new g;const t=null==s.where||\"\"===s.where;s.where=t?r:u(s.where,r)}return s}get _configuration(){return this.context.configuration}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}async*_updateVisibility(){this._updateRequested=!1;const{context:t,_sceneFilter:e,_compositedFeatureFilter:r,_displayFilterHighlightIds:s,_abortController:{signal:o}}=this;if(l(o),null==r&&null==e||0===t.getFeatureCount())return this.clear();try{let i=await this._queryEngine.executeQueryForIdSet(r,e,o);yield,s&&(i=new Set([...i,...s])),yield,t.updateFeatureVisibilities(t=>i.has(t))}catch(a){n(a),i.getLogger(this).warn(`FeatureFilter query failed: ${a}`,{error:a}),t.setAllFeaturesVisibility(!0)}}};t([h({constructOnly:!0})],m.prototype,\"context\",void 0),t([h()],m.prototype,\"updating\",null),t([h()],m.prototype,\"defaultVisibility\",null),t([h()],m.prototype,\"_featureFilter\",null),t([h()],m.prototype,\"_effectiveDisplayFilter\",null),t([h()],m.prototype,\"_highlightIds\",null),t([h()],m.prototype,\"_displayFilterHighlightIds\",null),t([h()],m.prototype,\"_sceneFilter\",null),t([h()],m.prototype,\"_floorFilter\",null),t([h()],m.prototype,\"_timeExtent\",null),t([h()],m.prototype,\"_compositedFeatureFilter\",null),t([h()],m.prototype,\"_configuration\",null),t([h()],m.prototype,\"_updateRequested\",void 0),m=t([p(\"esri.views.3d.layers.support.FeatureVisibilityFilter\")],m);export{m as FeatureVisibilityFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import i from\"../../core/Logger.js\";import{destroyMaybe as s}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as p}from\"../support/layerViewUtils.js\";let d=class extends(r(n(t))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new a,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";i.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}})}destroy(){this._updatingHandles=s(this._updatingHandles),this._set(\"parent\",null)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&p(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return p(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l({readOnly:!0})],d.prototype,\"spatialReferenceSupported\",null),e([l()],d.prototype,\"view\",void 0),e([l()],d.prototype,\"fullOpacity\",null),e([l()],d.prototype,\"layer\",void 0),e([l()],d.prototype,\"parent\",void 0),e([l({readOnly:!0})],d.prototype,\"suspended\",null),e([l({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([l({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([l()],d.prototype,\"updateSuspended\",null),e([l()],d.prototype,\"visible\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentScale\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentTimeExtent\",null),d=e([o(\"esri.views.layers.LayerView\")],d);export{d as default};\n"],"names":["s","constructor","e","this","_cache","newCache","clear","destroy","get","_this$_cache$get","items","put","t","r","test","usedMemory","reduce","h","a","m","super","_dataQueryEngineInstance","layer","context","spatialReference","_queryGeometryType","geometryType","defaultQueryJSON","c","outSpatialReference","toJSON","executeQueryForIdSet","_dataQueryEngine","_ensureQueryJSON","executeQueryForCount","executeQueryForExtent","count","extent","n","fromJSON","executeQueryForIds","executeQueryForLatestObservations","y","features","forEach","sourceLayer","origin","graphicOrigin","executeAttributeBinsQuery","u","executeQuery","cacheHint","geometries","map","rings","concat","_objectSpread","sceneFilter","geometry","_t$timeInfo","_t$fieldsIndex","priority","timeInfo","p","i","fieldsIndex","o","hasZ","hasM","featureStore","scheduler","g","memoryController","f","d","l","featureIdInfo","cache","constructOnly","prototype","toLowerCase","name","U","type","_updatingHandles","elevationFeatureExpressionEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","timeExtentEnabled","setUidToIdOnAdd","dataExtent","drapeSourceType","preferredUpdatePolicy","_suspendResumeExtent","initialize","owner","v","graphicSymbolSupported","componentFactories","deconflictor","view","addGraphicsOwner","labeler","elevationAlignment","V","graphicsCoreOwner","graphicsCore","queryGraphicUIDsInExtent","elevationProvider","scaleVisibility","j","basemapTerrain","filterVisibility","_","configuration","objectStates","O","_set","R","add","elevationInfo","addPromise","elevationInfoChange","labelsVisible","updateVisibilityInfo","labelingInfo","updateLabelingInfo","addResolvingTask","_initializeAsync","initializePromise","renderer","rendererChange","fullOpacity","opacityChange","_setupSuspendResumeExtent","updateClippingExtent","clippingArea","_updateClippingExtent","startCreateGraphics","labelsEnabled","frustumVisibility","layerViewUid","dataUpdating","_this$graphicsCore$da","_this$graphicsCore","_this$_randomRotation","objectIdField","visualVariables","findIndex","valueExpression","E","axis","rotationType","clone","splice","_randomRotationRenderers","WeakMap","set","_this$graphicsCore2","_this$graphicsCore3","_this$graphicsCore4","suspendResumeExtentMode","_this$owner$suspendRe","scaleVisibilitySuspended","suspended","legendEnabled","suspendInfo","outsideScaleRange","outsideOfView","updating","_this$graphicsCore5","_this$frustumVisibili","updatingRemaining","_this$graphicsCore$up","_this$graphicsCore6","_this$graphicsCore7","loadedGraphics","_this$owner","filter","slicePlaneEnabled","updatePolicy","featureSpatialReference","graphics3DGraphics","_this$graphicsCore8","graphics3DGraphicsByObjectID","_this$graphicsCore9","symbolUpdateType","_this$graphicsCore0","displayFeatureLimit","_this$graphicsCore1","quality","Math","ceil","maximumNumberOfFeatures","x","maximumTotalNumberOfVertices","averageSymbolComplexity","_this$graphicsCore$us","_this$graphicsCore10","loadedFeatures","_this$graphicsCore$nu","_this$graphicsCore11","numberOfGraphics","usedMemoryPerFeature","_this$graphicsCore$us2","_this$graphicsCore12","usedMemoryPerGraphic","unprocessedMemoryEstimate","_this$graphicsCore$un","_this$graphicsCore13","performanceInfo","maskOccludee","_this$graphicsCore14","handle","acquireOccludeeSet","setUid","uid","highlightByGraphics","_this$graphicsCore15","G","acquireHighlightSet","setUids","highlightByObjectIds","_this$graphicsCore16","arguments","length","undefined","setObjectIds","resetObjectStates","_this$graphicsCore17","reset","whenGraphicBounds","_this$graphicsCore18","computeAttachmentOrigin","_this$graphicsCore19","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","notifyContentGeometryUpdate","_this$owner$notifyCon","_this$owner2","call","getRenderingInfo","_this$_randomRotation2","b","arcade","color","has","attributes","updateFloatArray","updateUint8Array","heading","digest","getRenderingInfoAsync","C","getSymbolLayerSize","_this$graphicsCore20","setObjectIdVisibility","_this$graphicsCore21","refreshFilter","reapply","getGraphics3DGraphicByObjectId","_this$graphicsCore22","setClippingExtent","recreateAllGraphics","addHandles","removeHandles","I","computedExtent","_updateSuspendResumeExtent","extentPadding","_suspendResumeExtentChanged","_extentToSuspendResumeRect","equals","S","w","setExtent","readOnly","charCodeAt","push","Uint8Array","_seed","_totallen","_bufs","init","isNaN","toString","update","join","updateIntArray","Int32Array","from","buffer","updateWithString","_xxHash32","resourceController","_getFeatureStore","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","_frameTask","_queryEngine","_updateRequested","_abortController","_this$_configuration$","_this$_configuration$2","FILTER_VISIBILITY","_configuration","registerTask","_compositedFeatureFilter","_sceneFilter","_displayFilterHighlightIds","addWhen","scheduleGenerator","_updateVisibility","catch","defaultVisibility","_featureFilter","_effectiveDisplayFilter","effectiveDisplayFilter","_highlightIds","highlightIds","_this$_highlightIds","Set","layerFilter","_floorFilter","_timeExtent","timeExtent","_s$timeExtent$interse","_s$timeExtent","where","intersection","clearFeaturesVisibility","_this","_wrapAsyncGenerator","getFeatureCount","_awaitAsyncGenerator","updateFeatureVisibilities","getLogger","warn","error","setAllFeaturesVisibility","spatialReferenceSupported","parent","when","_this$layer","id","title","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","destroyed","canResume","getSuspendInfo","_this$layer3","_this$_updatingHandle","isUpdating","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","_this$layer5","visibilityTimeExtent","isEmpty","_this$layer6","_this$view","effectiveScaleRange","loaded","ready","_this$parent2","_t$view","viewNotReady","layerNotLoaded","outsideVisibilityTimeExtent","layerInvisible","Boolean"],"sourceRoot":""}