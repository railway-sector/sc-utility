"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[53094],{53094:(t,e,i)=>{i.r(e),i.d(e,{default:()=>k});var s=i(6326),o=i(50076),l=i(46053),r=(i(81806),i(76460),i(47249),i(87990)),a=i(49853);let n=class extends a.a{};n=(0,s.Cg)([(0,r.$)("esri.views.2d.analysis.AnalysisView2D")],n);var p=i(91967),u=i(73520);let d=class extends p.A{constructor(t){super(t)}initialize(){this.addHandles((0,u.V)({analysisViewData:this.analysisViewData,remove:()=>{},show:()=>{}}))}get updating(){return!1}};(0,s.Cg)([(0,l.MZ)({constructOnly:!0})],d.prototype,"view",void 0),(0,s.Cg)([(0,l.MZ)({constructOnly:!0})],d.prototype,"analysisViewData",void 0),(0,s.Cg)([(0,l.MZ)()],d.prototype,"updating",null),d=(0,s.Cg)([(0,r.$)("esri.views.2d.analysis.ElevationProfile.ElevationProfileInputVisualization2D")],d);var v=i(39356),y=i(59784),c=i(68134),h=i(79468),g=i(63733),w=i(89465),_=i(45564),C=i(55980);let m=class extends p.A{constructor(t){super(t),this._graphic=new v.A,this._layer=new g.A({listMode:"hide",internal:!0}),this._updateGeometryThrottled=(0,h.n)(t=>{var e;if(!t)return void(this._graphic.visible=!1);const i=this._layer,s=null===(e=this.view.map)||void 0===e?void 0:e.layers;s&&(s.includes(i)||s.add(i),s.reorder(i,0)),this._graphic.visible=!0,this._graphic.geometry=(0,C.T)(t.samples,t.spatialReference)},(0,_.zj)().profileLinesUpdateThrottleMillis)}initialize(){this._layer.add(this._graphic),this.addHandles([(0,c.z7)(()=>!this.analysisViewData.visible,()=>{this._graphic.visible=!1}),(0,c.wB)(()=>this._colorUpdateParameters,t=>this._updateColor(t),c.pc),(0,c.wB)(()=>this.analysisViewData.analysis.geometry,()=>{this._graphic.visible=!1},c.pc),(0,c.wB)(()=>this._geometryUpdateParameters,t=>this._updateGeometryThrottled(t),c.pc),this._updateGeometryThrottled])}destroy(){var t;null!==(t=this.view.map)&&void 0!==t&&t.remove(this._layer),this._layer.destroy(),this._graphic.destroy()}get updating(){return this._updateGeometryThrottled.hasPendingUpdates()}get _result(){const{analysisViewData:t}=this;return t.visible?t.results.find(t=>{let{available:e,computation:i,rawResult:s}=t;return e&&i.profile.viewOptions.lineVisible&&!0===(null===s||void 0===s?void 0:s.hasZ)}):null}get _geometryUpdateParameters(){const t=this._result;return 1!==(null===t||void 0===t?void 0:t.progress)?null:{samples:t.samples,spatialReference:this.view.spatialReference}}get _colorUpdateParameters(){var t;const e=null===(t=this._result)||void 0===t?void 0:t.computation.profile.color;return e?{color:e.toArray(),contrastColor:(0,y.bJ)(e).toArray()}:null}_updateColor(t){t&&(this._graphic.symbol=new w.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",capStyle:"Butt",color:t.color,effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[5,4],lineDashEnding:"FullGap",controlPointEnding:"NoConstraint"}],joinStyle:"Round",width:1.5},{type:"CIMSolidStroke",capStyle:"Butt",color:t.contrastColor,joinStyle:"Round",width:1.5}]}}}))}};(0,s.Cg)([(0,l.MZ)({constructOnly:!0})],m.prototype,"view",void 0),(0,s.Cg)([(0,l.MZ)({constructOnly:!0})],m.prototype,"analysisViewData",void 0),(0,s.Cg)([(0,l.MZ)()],m.prototype,"updating",null),(0,s.Cg)([(0,l.MZ)()],m.prototype,"_result",null),(0,s.Cg)([(0,l.MZ)()],m.prototype,"_geometryUpdateParameters",null),(0,s.Cg)([(0,l.MZ)()],m.prototype,"_colorUpdateParameters",null),m=(0,s.Cg)([(0,r.$)("esri.views.2d.analysis.ElevationProfile.ElevationProfileLineVisualization2D")],m);var M=i(94656);let f=class extends p.A{constructor(t){super(t)}initialize(){const{view:t,analysisViewData:e}=this;this._hoveredPointsVisualization=new M.n({view:t,analysisViewData:e}),this._inputVisualization=new d({view:t,analysisViewData:e}),this._lineVisualization=new m({view:t,analysisViewData:e})}destroy(){this._inputVisualization.destroy(),this._hoveredPointsVisualization.destroy(),this._lineVisualization.destroy()}get updating(){return this._hoveredPointsVisualization.updating||this._inputVisualization.updating||this._lineVisualization.updating}};(0,s.Cg)([(0,l.MZ)()],f.prototype,"view",void 0),(0,s.Cg)([(0,l.MZ)()],f.prototype,"analysisViewData",void 0),(0,s.Cg)([(0,l.MZ)()],f.prototype,"updating",null),f=(0,s.Cg)([(0,r.$)("esri.views.2d.analysis.ElevationProfile.ElevationProfileVisualization2D")],f);var V=i(43825),Z=i(82185),D=i(62068),P=i(49636),z=i(71143);let b=class extends n{constructor(t){super(t),this.type="elevation-profile-view-2d",this.analysis=null,this.hoveredPosition=null}initialize(){const{analysis:t,view:e}=this;this._controller=new V.V({analysis:t,analysisViewData:this,view:e,computationFactory:{create:t=>{switch(t.profile.type){case"ground":return new Z.R(t);case"input":return new D.o(t);case"query":return new P.s(t);case"scene":throw new o.A("elevation-profile-analysis-view-2d:unsupported","The scene profile line type is not supported in 2D views.")}}}}),this._visualization=new f({view:e,analysisViewData:this}),this._sketchTool=new z.R({view:e,analysisViewData:this})}destroy(){var t,e,i;null!==(t=this._controller)&&void 0!==t&&t.destroy(),null!==(e=this._visualization)&&void 0!==e&&e.destroy(),null===(i=this._sketchTool)||void 0===i||i.destroy()}get effectiveDisplayUnits(){var t,e;return null!==(t=null===(e=this._controller)||void 0===e?void 0:e.effectiveDisplayUnits)&&void 0!==t?t:{distance:"meters",elevation:"meters"}}get error(){var t;return null===(t=this._controller)||void 0===t?void 0:t.error}get hoveredPoints(){var t,e;return null!==(t=null===(e=this._controller)||void 0===e?void 0:e.hoveredPoints)&&void 0!==t?t:[]}get interactive(){return super.interactive}set interactive(t){super.interactive=t}get progress(){var t,e;return null!==(t=null===(e=this._controller)||void 0===e?void 0:e.progress)&&void 0!==t?t:0}get results(){var t,e;return null!==(t=null===(e=this._controller)||void 0===e?void 0:e.results)&&void 0!==t?t:[]}get statistics(){var t;return null===(t=this._controller)||void 0===t?void 0:t.statistics}get updating(){var t,e,i;return!0===(null===(t=this._controller)||void 0===t?void 0:t.updating)||!0===(null===(e=this._visualization)||void 0===e?void 0:e.updating)||!0===(null===(i=this._sketchTool)||void 0===i?void 0:i.updating)}get visible(){return super.visible}set visible(t){super.visible=t}get sketchGraphic(){var t;return null===(t=this._sketchTool)||void 0===t?void 0:t.sketchGraphic}get toolState(){var t,e;return null!==(t=null===(e=this._sketchTool)||void 0===e?void 0:e.state)&&void 0!==t?t:"idle"}place(t){return this._sketchTool.place(t)}pickFeature(t){return this._sketchTool.pickFeature(t)}};(0,s.Cg)([(0,l.MZ)({readOnly:!0})],b.prototype,"type",void 0),(0,s.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],b.prototype,"analysis",void 0),(0,s.Cg)([(0,l.MZ)({readOnly:!0})],b.prototype,"effectiveDisplayUnits",null),(0,s.Cg)([(0,l.MZ)({readOnly:!0})],b.prototype,"error",null),(0,s.Cg)([(0,l.MZ)()],b.prototype,"hoveredPosition",void 0),(0,s.Cg)([(0,l.MZ)()],b.prototype,"hoveredPoints",null),(0,s.Cg)([(0,l.MZ)({readOnly:!0})],b.prototype,"progress",null),(0,s.Cg)([(0,l.MZ)({readOnly:!0})],b.prototype,"results",null),(0,s.Cg)([(0,l.MZ)({readOnly:!0})],b.prototype,"statistics",null),(0,s.Cg)([(0,l.MZ)({readOnly:!0})],b.prototype,"updating",null),(0,s.Cg)([(0,l.MZ)()],b.prototype,"sketchGraphic",null),(0,s.Cg)([(0,l.MZ)()],b.prototype,"toolState",null),(0,s.Cg)([(0,l.MZ)()],b.prototype,"_controller",void 0),(0,s.Cg)([(0,l.MZ)()],b.prototype,"_visualization",void 0),(0,s.Cg)([(0,l.MZ)()],b.prototype,"_sketchTool",void 0),b=(0,s.Cg)([(0,r.$)("esri.views.2d.analysis.ElevationProfileAnalysisView2D")],b);const k=b}}]);
//# sourceMappingURL=53094.75f27153.chunk.js.map