"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[5409],{8075:(t,e,i)=>{i.d(e,{I:()=>w});var s=i(30292),n=i(11110);Array.prototype.slice;function o(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}var l=i(13809);function h(t){this._context=t}function a(t){return new h(t)}h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var r=i(17371);function c(t){return t[0]}function d(t){return t[1]}function u(t,e){var i=(0,l.A)(!0),s=null,n=a,h=null,u=(0,r.i)(p);function p(l){var a,r,c,d=(l=o(l)).length,p=!1;for(null==s&&(h=n(c=u())),a=0;a<=d;++a)!(a<d&&i(r=l[a],a,l))===p&&((p=!p)?h.lineStart():h.lineEnd()),p&&h.point(+t(r,a,l),+e(r,a,l));if(c)return h=null,c+""||null}return t="function"===typeof t?t:void 0===t?c:(0,l.A)(t),e="function"===typeof e?e:void 0===e?d:(0,l.A)(e),p.x=function(e){return arguments.length?(t="function"===typeof e?e:(0,l.A)(+e),p):t},p.y=function(t){return arguments.length?(e="function"===typeof t?t:(0,l.A)(+t),p):e},p.defined=function(t){return arguments.length?(i="function"===typeof t?t:(0,l.A)(!!t),p):i},p.curve=function(t){return arguments.length?(n=t,null!=s&&(h=n(s)),p):n},p.context=function(t){return arguments.length?(null==t?s=h=null:h=n(s=t),p):s},p}function p(t,e,i){var s=null,n=(0,l.A)(!0),h=null,p=a,_=null,f=(0,r.i)(g);function g(l){var a,r,c,d,u,g=(l=o(l)).length,y=!1,v=new Array(g),b=new Array(g);for(null==h&&(_=p(u=f())),a=0;a<=g;++a){if(!(a<g&&n(d=l[a],a,l))===y)if(y=!y)r=a,_.areaStart(),_.lineStart();else{for(_.lineEnd(),_.lineStart(),c=a-1;c>=r;--c)_.point(v[c],b[c]);_.lineEnd(),_.areaEnd()}y&&(v[a]=+t(d,a,l),b[a]=+e(d,a,l),_.point(s?+s(d,a,l):v[a],i?+i(d,a,l):b[a]))}if(u)return _=null,u+""||null}function y(){return u().defined(n).curve(p).context(h)}return t="function"===typeof t?t:void 0===t?c:(0,l.A)(+t),e="function"===typeof e?e:void 0===e?(0,l.A)(0):(0,l.A)(+e),i="function"===typeof i?i:void 0===i?d:(0,l.A)(+i),g.x=function(e){return arguments.length?(t="function"===typeof e?e:(0,l.A)(+e),s=null,g):t},g.x0=function(e){return arguments.length?(t="function"===typeof e?e:(0,l.A)(+e),g):t},g.x1=function(t){return arguments.length?(s=null==t?null:"function"===typeof t?t:(0,l.A)(+t),g):s},g.y=function(t){return arguments.length?(e="function"===typeof t?t:(0,l.A)(+t),i=null,g):e},g.y0=function(t){return arguments.length?(e="function"===typeof t?t:(0,l.A)(+t),g):e},g.y1=function(t){return arguments.length?(i=null==t?null:"function"===typeof t?t:(0,l.A)(+t),g):i},g.lineX0=g.lineY0=function(){return y().x(t).y(e)},g.lineY1=function(){return y().x(t).y(i)},g.lineX1=function(){return y().x(s).y(e)},g.defined=function(t){return arguments.length?(n="function"===typeof t?t:(0,l.A)(!!t),g):n},g.curve=function(t){return arguments.length?(p=t,null!=h&&(_=p(h)),g):p},g.context=function(t){return arguments.length?(null==t?h=_=null:_=p(h=t),g):h},g}var _=i(84923),f=i(56873),g=i(81046),y=i(31826),v=i(43260),b=i(55077),x=i(7552),m=i(95788);class w extends s.f{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:u()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:p()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new f.TS(_.Bj.new({}),()=>n.A._new(this._root,{themeTags:m.kE(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new f.TS(_.Bj.new({}),()=>n.A._new(this._root,{themeTags:m.kE(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(t){return t[3]}),this._fillGenerator.x0(function(t){return t[2]}),this._fillGenerator.y1(function(t){return t[1]}),this._fillGenerator.x1(function(t){return t[0]}),super._afterNew()}makeStroke(t){const e=this.mainContainer.children.push(t.make());return t.push(e),e}makeFill(t){const e=this.mainContainer.children.push(t.make());return t.push(e),e}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let t=this.get("xAxis"),e=this.get("yAxis");if(this.isDirty("stroke")){const t=this.get("stroke");this.strokes.template.set("stroke",t);const e=this._legendStroke;e&&e.states.lookup("default").set("stroke",t)}if(this.isDirty("fill")){const t=this.get("fill");this.fills.template.set("fill",t);const e=this._legendFill;e&&e.states.lookup("default").set("fill",t)}if(this.isDirty("fillPattern")){const t=this.get("fillPattern");this.fills.template.set("fillPattern",t);const e=this._legendFill;e&&e.states.lookup("default").set("fillPattern",t)}if(this.isDirty("curveFactory")){const t=this.get("curveFactory");t&&(this._strokeGenerator.curve(t),this._fillGenerator.curve(t))}if(t.inited&&e.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(t=>{t.setPrivate("visible",!1)}),this.strokes.each(t=>{t.setPrivate("visible",!1)}),this.axisRanges.each(t=>{let e=t.fills;e&&e.each(t=>{t.setPrivate("visible",!1)});let i=t.strokes;i&&i.each(t=>{t.setPrivate("visible",!1)})});let t=this.startIndex(),e=this.strokes.template.get("templateField"),i=this.fills.template.get("templateField"),s=!0,n=!0;e&&(s=!1),i&&(n=!1);for(let h=t-1;h>=0;h--){let o=this.dataItems[h],l=!0,a=o.dataContext;if(e&&a[e]&&(s=!0),i&&a[i]&&(n=!0),x.__(this._valueFields,t=>{b.Et(o.get(t))||(l=!1)}),l&&s&&n){t=h;break}}let o=this.dataItems.length,l=this.endIndex();if(l<o){l++;for(let t=l;t<o;t++){let e=this.dataItems[t],i=!0;if(x.__(this._valueFields,t=>{b.Et(e.get(t))||(i=!1)}),i){l=t+1;break}}}if(t>0&&t--,this._endIndex=l,this._clearGraphics(),this._sindex=0,this._dindex=t,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<l-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(t=>{t.fills.clear(),t.strokes.clear()})}_startSegment(t){let e=this._endIndex,i=e;const s=this.get("autoGapCount"),n=this.get("connect"),o=this.makeFill(this.fills),l=this._fillTemplate,h=this.fills.template;l&&l!=h&&(o.template=l),o.setPrivate("visible",!0);const a=this.makeStroke(this.strokes),r=this._strokeTemplate;r&&r!=this.strokes.template&&(a.template=r),a.setPrivate("visible",!0);let c=this.get("xAxis"),d=this.get("yAxis"),u=this.get("baseAxis"),p=this.get("vcx",1),f=this.get("vcy",1),g=this._xField,y=this._yField,v=this._xOpenField,b=this._yOpenField;const x=this.get("openValueXField"),m=this.get("openValueYField");x||(v=this._xField),m||(b=this._yField);const w=this.get("stacked"),P=c.basePosition(),A=d.basePosition();let k;k=u===d?this._yField:this._xField;const T=[];let Y=[];T.push(Y);const X=this.strokes.template.get("templateField"),L=this.fills.template.get("templateField");let F=this.get("locationX",.5),M=this.get("locationY",.5),S=this.get("openLocationX",F),D=this.get("openLocationY",M);const O=this.get("minDistance",0);let C,j=this.fills.template.get("visible");this.axisRanges.length>0&&(j=!0);let E=!1;(w||x||m)&&(E=!0);const I={points:Y,segments:T,stacked:w,getOpen:E,basePosX:P,basePosY:A,fillVisible:j,xField:g,yField:y,xOpenField:v,yOpenField:b,vcx:p,vcy:f,baseAxis:u,xAxis:c,yAxis:d,locationX:F,locationY:M,openLocationX:S,openLocationY:D,minDistance:O};let G=this._strokeTemplate,H=this._fillTemplate;for(C=t;C<i;C++){this._dindex=C;const e=this._dataItems[C];let l=e.get(g),h=e.get(y);if(null==l||null==h?n||(Y=[],T.push(Y),I.points=Y):this._getPoints(e,I),X){let s=e.dataContext[X];if(s){if(s instanceof _.Bj||(s=_.Bj.new(s)),this._strokeTemplate=s,C>t){i=C;break}G=s,a.template=s}}if(L){let s=e.dataContext[L];if(s){if(s instanceof _.Bj||(s=_.Bj.new(s)),this._fillTemplate=s,C>t){i=C;break}H=s,o.template=s}}if(!n){let t=this.dataItems[C+1];t&&u.shouldGap(e,t,s,k)&&(Y=[],T.push(Y),I.points=Y)}}o.setRaw("userData",[t,C]),a.setRaw("userData",[t,C]),C===e&&this._endLine(Y,T[0][0]),a&&this._drawStroke(a,T),o&&this._drawFill(o,T),this.axisRanges.each(e=>{const i=e.container,s=e.fills,n=this.makeFill(s);i&&i.children.push(n),n.setPrivate("visible",!0),this._drawFill(n,T);const o=e.strokes,l=this.makeStroke(o);i&&i.children.push(l),G&&G!=this.strokes.template&&(l.template=G),H&&H!=this.fills.template&&(n.template=H),l.setPrivate("visible",!0),this._drawStroke(l,T),n.setRaw("userData",[t,C]),l.setRaw("userData",[t,C])})}_getPoints(t,e){let i=e.points,s=t.get("locationX",e.locationX),n=t.get("locationY",e.locationY);const o=this.get("exactLocationX",!1),l=this.get("exactLocationY",!1);let h=e.xAxis.getDataItemPositionX(t,e.xField,s,e.vcx,o),a=e.yAxis.getDataItemPositionY(t,e.yField,n,e.vcy,l);if(this._shouldInclude(h)){const s=this.getPoint(h,a),n=[s.x,s.y];if(s.x+=this._x,s.y+=this._y,t.set("point",s),e.fillVisible){let i=h,s=a;if(e.baseAxis===e.xAxis?s=e.basePosY:e.baseAxis===e.yAxis&&(i=e.basePosX),e.getOpen){let n=t.get(e.xOpenField),h=t.get(e.yOpenField);if(null!=n&&null!=h){let n=t.get("openLocationX",e.openLocationX),h=t.get("openLocationY",e.openLocationY);if(e.stacked){let a=t.get("stackToItemX"),r=t.get("stackToItemY");a?(i=e.xAxis.getDataItemPositionX(a,e.xField,n,a.component.get("vcx"),o),b.yr(i)&&(i=e.basePosX)):i=e.yAxis===e.baseAxis?e.basePosX:e.xAxis.getDataItemPositionX(t,e.xOpenField,n,e.vcx,o),r?(s=e.yAxis.getDataItemPositionY(r,e.yField,h,r.component.get("vcy"),l),b.yr(s)&&(s=e.basePosY)):s=e.xAxis===e.baseAxis?e.basePosY:e.yAxis.getDataItemPositionY(t,e.yOpenField,h,e.vcy,l)}else i=e.xAxis.getDataItemPositionX(t,e.xOpenField,n,e.vcx,o),s=e.yAxis.getDataItemPositionY(t,e.yOpenField,h,e.vcy,l)}}let r=this.getPoint(i,s);n[2]=r.x,n[3]=r.y}if(e.minDistance>0){const t=n[0],s=n[1],o=n[2],l=n[3],h=this._previousPoint,a=h[0],r=h[1],c=h[2],d=h[3];(Math.hypot(t-a,s-r)>e.minDistance||o&&l&&Math.hypot(o-c,l-d)>e.minDistance)&&(i.push(n),this._previousPoint=n)}else i.push(n)}}_endLine(t,e){}_drawStroke(t,e){t.get("visible")&&!t.get("forceHidden")&&t.set("draw",t=>{x.__(e,e=>{this._strokeGenerator.context(t),this._strokeGenerator(e)})})}_drawFill(t,e){t.get("visible")&&!t.get("forceHidden")&&t.set("draw",t=>{x.__(e,e=>{this._fillGenerator.context(t),this._fillGenerator(e)})})}_processAxisRange(t){super._processAxisRange(t),t.fills=new f.TS(_.Bj.new({}),()=>n.A._new(this._root,{themeTags:m.kE(t.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,t.fills.template])),t.strokes=new f.TS(_.Bj.new({}),()=>n.A._new(this._root,{themeTags:m.kE(t.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,t.strokes.template]))}createLegendMarker(t){const e=this.get("legendDataItem");if(e){const t=e.get("marker"),i=e.get("markerRectangle");i&&i.setPrivate("visible",!1),t.set("background",v.M.new(t._root,{fillOpacity:0,fill:(0,g.yW)(0)}));const s=t.children.push(n.A._new(t._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=s;const o=t.children.push(n.A._new(t._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=o;const l=this._root.interfaceColors.get("disabled");if(s.states.create("disabled",{fill:l,stroke:l}),o.states.create("disabled",{fill:l,stroke:l}),this.bullets.length>0){const e=this.bullets.getIndex(0);if(e){const i=e(t._root,this,new y.s(this,{legend:!0},{}));if(i){const e=i.get("sprite");e instanceof n.A&&e.states.create("disabled",{fill:l,stroke:l}),e&&(e.setAll({tooltipText:void 0,tooltipHTML:void 0,focusable:void 0,focusableGroup:void 0,ariaLabel:void 0}),t.children.push(e),e.setAll({x:t.width()/2,y:t.height()/2}),t.events.on("boundschanged",()=>{e.setAll({x:t.width()/2,y:t.height()/2})}))}}}}}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.f.classNames.concat([w.className])})},13809:(t,e,i)=>{function s(t){return function(){return t}}i.d(e,{A:()=>s})},17371:(t,e,i)=>{i.d(e,{i:()=>A});var s,n,o,l,h,a,r,c,d,u,p,_,f,g,y=i(57528);const v=Math.PI,b=2*v,x=1e-6,m=b-x;function w(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}class P{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?w:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return w;const i=10**e;return function(t){this._+=t[0];for(let e=1,s=t.length;e<s;++e)this._+=Math.round(arguments[e]*i)/i+t[e]}}(t)}moveTo(t,e){this._append(s||(s=(0,y.A)(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(n||(n=(0,y.A)(["Z"]))))}lineTo(t,e){this._append(o||(o=(0,y.A)(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,i,s){this._append(l||(l=(0,y.A)(["Q",",",",",",",""])),+t,+e,this._x1=+i,this._y1=+s)}bezierCurveTo(t,e,i,s,n,o){this._append(h||(h=(0,y.A)(["C",",",",",",",",",",",""])),+t,+e,+i,+s,this._x1=+n,this._y1=+o)}arcTo(t,e,i,s,n){if(t=+t,e=+e,i=+i,s=+s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=this._x1,l=this._y1,h=i-t,u=s-e,p=o-t,_=l-e,f=p*p+_*_;if(null===this._x1)this._append(a||(a=(0,y.A)(["M",",",""])),this._x1=t,this._y1=e);else if(f>x)if(Math.abs(_*h-u*p)>x&&n){let a=i-o,r=s-l,g=h*h+u*u,b=a*a+r*r,m=Math.sqrt(g),w=Math.sqrt(f),P=n*Math.tan((v-Math.acos((g+f-b)/(2*m*w)))/2),A=P/w,k=P/m;Math.abs(A-1)>x&&this._append(c||(c=(0,y.A)(["L",",",""])),t+A*p,e+A*_),this._append(d||(d=(0,y.A)(["A",",",",0,0,",",",",",""])),n,n,+(_*a>p*r),this._x1=t+k*h,this._y1=e+k*u)}else this._append(r||(r=(0,y.A)(["L",",",""])),this._x1=t,this._y1=e);else;}arc(t,e,i,s,n,o){if(t=+t,e=+e,o=!!o,(i=+i)<0)throw new Error("negative radius: ".concat(i));let l=i*Math.cos(s),h=i*Math.sin(s),a=t+l,r=e+h,c=1^o,d=o?s-n:n-s;null===this._x1?this._append(u||(u=(0,y.A)(["M",",",""])),a,r):(Math.abs(this._x1-a)>x||Math.abs(this._y1-r)>x)&&this._append(p||(p=(0,y.A)(["L",",",""])),a,r),i&&(d<0&&(d=d%b+b),d>m?this._append(_||(_=(0,y.A)(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),i,i,c,t-l,e-h,i,i,c,this._x1=a,this._y1=r):d>x&&this._append(f||(f=(0,y.A)(["A",",",",0,",",",",",",",""])),i,i,+(d>=v),c,this._x1=t+i*Math.cos(n),this._y1=e+i*Math.sin(n)))}rect(t,e,i,s){this._append(g||(g=(0,y.A)(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,i=+i,+s,-i)}toString(){return this._}}function A(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(null==i)e=null;else{const t=Math.floor(i);if(!(t>=0))throw new RangeError("invalid digits: ".concat(i));e=t}return t},()=>new P(e)}P.prototype},33227:(t,e,i)=>{i.d(e,{A:()=>u});var s=i(17294),n=i(91120),o=i(11110),l=i(69342),h=i(55077),a=i(95788),r=i(711),c=i(7552),d=i(40730);class u extends s.m{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(l.x.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(l.x.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(o.A.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=a.kE(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:n.Q2,height:n.Q2,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),a.xY("keyboardevents")&&this._disposers.push(a.q2(document,"keydown",t=>{this._handleLineMove(a.K(t),t.ctrlKey)}))}_setUpTouch(){const t=this.chart;t&&(t.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let t=this.lineX.x(),e=!0;(t<0||t>this.width())&&(e=!1),this.lineX.setPrivate("visible",e)}_handleYLine(){let t=this.lineY.y(),e=!0;(t<0||t>this.height())&&(e=!1),this.lineY.setPrivate("visible",e)}_handleLineMove(t,e){let i="";const s=this.chart;let n;if(s&&s.xAxes.length){this._root.focused(this.lineX)?(i="positionX",n=s.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(n=s.yAxes.getIndex(0),i="positionY");let o=1;if(e&&(o=5),n){let e,s=n.get("renderer").get("inversed",!1);"ArrowRight"==t||"ArrowDown"==t?e=1:"ArrowLeft"==t||"ArrowUp"==t?e=-1:"Tab"==t&&(e=0),null!=e&&(s&&(e*=-1),this.set(i,n.nextPosition(e*o)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const t=this.get("xAxis");if(t){const e=t.get("tooltip");e&&(this._tooltipX=!0,this._disposers.push(e.on("pointTo",()=>{this._updateXLine(e)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const t=this.get("yAxis");if(t){const e=t.get("tooltip");e&&(this._tooltipY=!0,this._disposers.push(e.on("pointTo",()=>{this._updateYLine(e)})))}}}_handleSyncWith(){const t=this.chart;if(t){const e=this.get("syncWith"),i=[];e&&c.__(e,t=>{const e=t.chart;e&&i.push(e)}),t._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const t=this.get("positionX"),e=this.get("positionY");null==t&&null==e?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(t){let e=r.LI(this._display.toLocal(t.get("pointTo",{x:0,y:0})).x,3);this._toX!=e&&(this.lineX.animate({key:"x",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toX=e)}_updateYLine(t){let e=r.LI(this._display.toLocal(t.get("pointTo",{x:0,y:0})).y,3);this._toY!=e&&(this.lineY.animate({key:"y",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toY=e)}_drawLines(){this.lineX.set("draw",t=>{t.moveTo(0,0),t.lineTo(0,this.height())}),this.lineY.set("draw",t=>{t.moveTo(0,0),t.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(t){this.chart=t,this._handleSyncWith();const e=t.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),a.xY("touchevents")&&(this._disposers.push(e.events.on("click",t=>{a.kH(t.originalEvent)&&this._handleMove(t)})),this._setUpTouch()),this._disposers.push(e.events.on("pointerdown",t=>{this._handleCursorDown(t)})),this._disposers.push(e.events.on("globalpointerup",t=>{this._handleCursorUp(t),t.native||this.isHidden()||this._handleMove(t)})),this._disposers.push(e.events.on("globalpointermove",t=>{(this.get("syncWith")||0!=d.HP(e._downPoints).length||t.native||!this.isHidden())&&(this._handleMove(t),Math.hypot(this._lastPoint2.x-t.point.x,this._lastPoint2.y-t.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=t.point))}));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(t){const e=this.chart;return!!e&&e.inPlot(t)}_handleCursorDown(t){if(2==t.originalEvent.button)return;const e=t.point;let i=this._display.toLocal(e);const s=this.chart;if(this.selection.set("draw",()=>{}),s&&this._inPlot(i)){if(this._downPoint=i,"none"!=this.get("behavior")){this.selection.show();const e="selectstarted";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent})}let e=this._getPosition(i).x,s=this._getPosition(i).y;this.setPrivate("downPositionX",e),this.setPrivate("downPositionY",s)}}_handleCursorUp(t){if(this._downPoint){const e=this.get("behavior","none");if("none"!=e){"z"===e.charAt(0)&&this.selection.hide();const i=t.point;let s=this._display.toLocal(i);const n=this._downPoint,o=this.get("moveThreshold",1);if(s&&n){let i=!1;if("zoomX"!==e&&"zoomXY"!==e&&"selectX"!==e&&"selectXY"!==e||Math.abs(s.x-n.x)>o&&(i=!0),"zoomY"!==e&&"zoomXY"!==e&&"selectY"!==e&&"selectXY"!==e||Math.abs(s.y-n.y)>o&&(i=!0),i){const e="selectended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent})}else{const e="selectcancelled";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent})}}}}this._downPoint=void 0}_handleMove(t){if(this.getPrivate("visible")){const e=this.chart;if(e&&d.HP(e.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const i=t.point,s=this._lastPoint;if(Math.round(s.x)===Math.round(i.x)&&Math.round(s.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,t.originalEvent)}}_getPosition(t){return{x:t.x/this.width(),y:t.y/this.height()}}handleMove(t,e,i){t||(t=this._movePoint);const s=this.get("alwaysShow");if(!t)return void this.hide(0);this._movePoint=t;let n=this._display.toLocal(t),o=this.chart;if(o&&(this._inPlot(n)||this._downPoint)){if(o._movePoint=t,this.isHidden()){this.show();"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",()=>{})}let l=n.x,a=n.y,r=this._getPosition(n);this.setPrivate("point",n);let c=this.get("snapToSeries");this._downPoint&&(c=void 0);let d=this.get("positionX"),u=r.x;h.Et(d)&&(u=d);let p=this.get("positionY"),_=r.y;h.Et(p)&&(_=p),this.setPrivate("positionX",u),this.setPrivate("positionY",_);const f=this._getPoint(u,_);if(l=f.x,a=f.y,o.xAxes.each(t=>{t._handleCursorPosition(u,c),s&&t.handleCursorShow()}),o.yAxes.each(t=>{t._handleCursorPosition(_,c),s&&t.handleCursorShow()}),!e){o._handleCursorPosition();const e="cursormoved";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,point:t,originalEvent:i})}this._updateLines(l,a),o.arrangeTooltips()}else if(!this._downPoint&&!s){this.hide(0);const t="cursorhidden";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(n)}_getPoint(t,e){return{x:this.width()*t,y:this.height()*e}}_updateLines(t,e){this._tooltipX||this.lineX.set("x",t),this._tooltipY||this.lineY.set("y",e),this._drawLines()}_updateSelection(t){const e=this.selection,i=this.get("behavior"),s=this.width(),n=this.height();t.x<0&&(t.x=0),t.x>s&&(t.x=s),t.y<0&&(t.y=0),t.y>n&&(t.y=n),e.set("draw",e=>{const o=this._downPoint;o&&("zoomXY"===i||"selectXY"===i?(e.moveTo(o.x,o.y),e.lineTo(o.x,t.y),e.lineTo(t.x,t.y),e.lineTo(t.x,o.y),e.lineTo(o.x,o.y)):"zoomX"===i||"selectX"===i?(e.moveTo(o.x,0),e.lineTo(o.x,n),e.lineTo(t.x,n),e.lineTo(t.x,0),e.lineTo(o.x,0)):"zoomY"!==i&&"selectY"!==i||(e.moveTo(0,o.y),e.lineTo(s,o.y),e.lineTo(s,t.y),e.lineTo(0,t.y),e.lineTo(0,o.y)))})}_onHide(){if(this.isHidden()){let t=this.chart;t&&(t.xAxes.each(t=>{t.handleCursorHide()}),t.yAxes.each(t=>{t.handleCursorHide()}),t.series.each(t=>{t.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let t=this.chart;t&&(t.xAxes.each(t=>{t.handleCursorShow()}),t.yAxes.each(t=>{t.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.m.classNames.concat([u.className])})}}]);
//# sourceMappingURL=5409.7489b90e.chunk.js.map