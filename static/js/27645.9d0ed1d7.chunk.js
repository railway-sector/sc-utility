"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[27645],{23456:(e,t,i)=>{i.d(t,{_8:()=>y,dJ:()=>g,uB:()=>m});var n=i(89379),l=i(15941),o=i(20664),r=i(9392),s=i(34111),a=i(76797),u=i(91605),d=i(13312),p=i(45308);function h(e,t){if(!Array.isArray(e)||e.length<t)return!1;for(const i of e)if("number"!=typeof i)return!1;return!0}const v=7645211,c={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850},f=new Map([[5773,new u.A({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"})],[3855,new u.A({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"})],[115700,new u.A({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"})],[115701,new u.A({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"})],[6360,new u.A({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"})],[7837,new u.A({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "})]]);function g(e){if(!e)return null;const t=e.vcsWkid||e.latestVcsWkid;return t?f.get(t):null}function y(e){var t,i,n,l,o;return!(!(null!==(t=e.extensions)&&void 0!==t&&null!==(t=t.ESRI_crs)&&void 0!==t&&t.wkid||null!==(i=e.extensions)&&void 0!==i&&null!==(i=i.ESRI_crs)&&void 0!==i&&i.latestWkid||null!==(n=e.extensions)&&void 0!==n&&null!==(n=n.ESRI_crs)&&void 0!==n&&n.wkt)||(null===(l=e.root)||void 0===l||null===(l=l.extensions)||void 0===l||null===(l=l.ESRI_crs)||void 0===l||null===(l=l.boundingVolume)||void 0===l||!l.box)&&(null===(o=e.root)||void 0===o||null===(o=o.extensions)||void 0===o||null===(o=o.ESRI_crs)||void 0===o||null===(o=o.boundingVolume)||void 0===o||!o.sphere))}function m(e){var t,i,u,f,g,y,m,A,x,S;let w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],R=new d.A({wkid:4326,vcsWkid:115700}),E=null===(t=e.root)||void 0===t?void 0:t.boundingVolume,_=!1,C=null===e||void 0===e||null===(i=e.root)||void 0===i?void 0:i.transform;if(w&&(null!==(u=e.extensions)&&void 0!==u&&null!==(u=u.ESRI_crs)&&void 0!==u&&u.wkid||null!==(f=e.extensions)&&void 0!==f&&null!==(f=f.ESRI_crs)&&void 0!==f&&f.latestWkid||null!==(g=e.extensions)&&void 0!==g&&null!==(g=g.ESRI_crs)&&void 0!==g&&g.wkt)&&(null!==(y=e.root)&&void 0!==y&&null!==(y=y.extensions)&&void 0!==y&&null!==(y=y.ESRI_crs)&&void 0!==y&&null!==(y=y.boundingVolume)&&void 0!==y&&y.box||null!==(m=e.root)&&void 0!==m&&null!==(m=m.extensions)&&void 0!==m&&null!==(m=m.ESRI_crs)&&void 0!==m&&null!==(m=m.boundingVolume)&&void 0!==m&&m.sphere))R=new d.A(null===(A=e.extensions)||void 0===A?void 0:A.ESRI_crs),E=null===(x=e.root)||void 0===x||null===(x=x.extensions)||void 0===x||null===(x=x.ESRI_crs)||void 0===x?void 0:x.boundingVolume,C=null===(S=e.root)||void 0===S?void 0:S.transform,_=!0;else if(!E)return new a.A(-180,-90,180,90,R);if(E.box){var b;const e=null===(b=E)||void 0===b?void 0:b.box;if(e[3]>v&&e[7]>v&&e[11]>v)return new a.A((0,n.A)((0,n.A)({},c),{},{spatialReference:R}))}const M=(0,r.vt)();if(!_&&E.region&&h(E.region,6)){const e=E.region,t=(0,l.KJ)(e[0]),i=(0,l.KJ)(e[1]),n=e[4],o=(0,l.KJ)(e[2]),r=(0,l.KJ)(e[3]),s=e[5];return new a.A({xmin:t,ymin:i,zmin:n,xmax:o,ymax:r,zmax:s,spatialReference:R})}if(E.sphere&&h(E.sphere,4)){const e=E.sphere,t=(0,r.fA)(e[0],e[1],e[2]),i=e[3]/Math.sqrt(3),n=(0,r.vt)();(0,o.e)(n,t,(0,r.fA)(i,i,i));const l=(0,r.vt)();if((0,o.g)(l,t,(0,r.fA)(i,i,i)),C&&h(C,16)){const e=C;(0,o.t)(M,n,e),(0,o.d)(n,M),(0,o.t)(M,l,e),(0,o.d)(l,M)}_||((0,p.projectBuffer)(n,s.Ro,0,n,d.A.WGS84,0),(0,p.projectBuffer)(l,s.Ro,0,l,d.A.WGS84,0));const u=(0,r.vt)(),v=(0,r.vt)();return(0,o.A)(u,n,l),(0,o.z)(v,n,l),new a.A({xmin:u[0],ymin:u[1],zmin:u[2],xmax:v[0],ymax:v[1],zmax:v[2],spatialReference:R})}if(E.box&&h(E.box,12)){const e=E.box,t=(0,r.fA)(e[0],e[1],e[2]),i=(0,r.fA)(e[3],e[4],e[5]),n=(0,r.fA)(e[6],e[7],e[8]),l=(0,r.fA)(e[9],e[10],e[11]),u=[];for(let o=0;o<8;++o)u.push((0,r.vt)());if((0,o.g)(u[0],t,i),(0,o.g)(u[0],u[0],n),(0,o.g)(u[0],u[0],l),(0,o.a)(u[1],t,i),(0,o.g)(u[1],u[1],n),(0,o.g)(u[1],u[1],l),(0,o.g)(u[2],t,i),(0,o.a)(u[2],u[2],n),(0,o.g)(u[2],u[2],l),(0,o.a)(u[3],t,i),(0,o.a)(u[3],u[3],n),(0,o.g)(u[3],u[3],l),(0,o.g)(u[4],t,i),(0,o.g)(u[4],u[4],n),(0,o.a)(u[4],u[4],l),(0,o.a)(u[5],t,i),(0,o.g)(u[5],u[5],n),(0,o.a)(u[5],u[5],l),(0,o.g)(u[6],t,i),(0,o.a)(u[6],u[6],n),(0,o.a)(u[6],u[6],l),(0,o.a)(u[7],t,i),(0,o.a)(u[7],u[7],n),(0,o.a)(u[7],u[7],l),C&&h(C,16)){const e=C;for(let t=0;t<8;++t)(0,o.t)(u[t],u[t],e)}const v=(0,r.fA)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),c=(0,r.fA)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let r=0;r<8;++r)_||(0,p.projectBuffer)(u[r],s.Ro,0,u[r],d.A.WGS84,0),(0,o.A)(c,c,u[r]),(0,o.z)(v,v,u[r]);return new a.A({xmin:c[0],ymin:c[1],zmin:c[2],xmax:v[0],ymax:v[1],zmax:v[2],spatialReference:R})}return new a.A(-180,-90,180,90,R)}},27645:(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var n=i(89379),l=i(6326),o=i(3825),r=i(50076),s=i(81806),a=i(76460),u=i(77717),d=i(50346),p=i(46053),h=(i(47249),i(87990)),v=i(76797),c=i(13312),f=i(25515),g=i(12406),y=i(19502),m=i(31362),A=i(11270),x=i(94729),S=i(5682),w=i(95363),R=i(23456),E=i(12482);let _=class extends((0,y.b)((0,A.q)((0,x.A)((0,S.j)((0,u.P)((0,m.d)((0,g.p)(f.A)))))))){constructor(e){super(e),this.operationalLayerType="GaussianSplatLayer",this.type="gaussian-splat",this.opacity=1,this.minScale=0,this.maxScale=0,this.url=null,this.rootTilesetJSON=null,this.fullExtent=new v.A(-180,-90,180,90,this.spatialReference),this.spatialReference=new c.A({wkid:4326,vcsWkid:115700}),this.esriCrsSpatialReference=null,this.esriCrsFullExtent=null}get supportedSpatialReferences(){return this.initialized&&this.esriCrsSpatialReference?[this.spatialReference,this.esriCrsSpatialReference]:[this.spatialReference]}get fullExtents(){return this.initialized&&this.esriCrsFullExtent?[this.fullExtent,this.esriCrsFullExtent]:[this.fullExtent]}set elevationInfo(e){null!=e&&"absolute-height"!==e.mode||this._set("elevationInfo",e),this._validateElevationInfo(e)}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const t=null!=e?e.signal:null;if(!(0,s.A)("enable-feature:gaussianSplatLayer"))throw new r.A("GaussianSplatLayer-init:not-supported","This layer is currently not supported.");try{await this.loadFromPortal({supportedTypes:["3DTiles Service"],validateItem:e=>{var t;if(null!==(t=e.typeKeywords)&&void 0!==t&&t.includes("GaussianSplat"))return!0;throw new r.A("portal:invalid-layer-item-type","Invalid layer item, expected '${expectedType}' ",{expectedType:"3DTiles Service"})}},e)}catch(i){(0,d.QP)(i)}if(this.url){const e=(0,o.A)(this.url,{query:(0,n.A)((0,n.A)({},this.customParameters),{},{token:this.apiKey}),responseType:"json",signal:t}).then(e=>{this.rootTilesetJSON=e.data;const t=(0,R._8)(this.rootTilesetJSON);this.fullExtent=(0,R.uB)(this.rootTilesetJSON,!1),this.spatialReference=this.fullExtent.spatialReference,t&&(this.esriCrsFullExtent=(0,R.uB)(this.rootTilesetJSON,!0),this.esriCrsSpatialReference=this.esriCrsFullExtent.spatialReference)},e=>{(0,d.QP)(e)});await e}}_validateElevationInfo(e){const t="Gaussian Splat layers";(0,E.XF)(a.A.getLogger(this),(0,E.B)(t,"absolute-height",e)),(0,E.XF)(a.A.getLogger(this),(0,E.tW)(t,e))}};(0,l.Cg)([(0,p.MZ)({type:["GaussianSplatLayer"]})],_.prototype,"operationalLayerType",void 0),(0,l.Cg)([(0,p.MZ)({readOnly:!0})],_.prototype,"type",void 0),(0,l.Cg)([(0,p.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],_.prototype,"opacity",void 0),(0,l.Cg)([(0,p.MZ)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:!1,write:!1}}}})],_.prototype,"minScale",void 0),(0,l.Cg)([(0,p.MZ)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:!1,write:!1}}}})],_.prototype,"maxScale",void 0),(0,l.Cg)([(0,p.MZ)(w.OZ)],_.prototype,"url",void 0),(0,l.Cg)([(0,p.MZ)({type:v.A})],_.prototype,"fullExtent",void 0),(0,l.Cg)([(0,p.MZ)({type:c.A})],_.prototype,"spatialReference",void 0),(0,l.Cg)([(0,p.MZ)({readOnly:!0})],_.prototype,"supportedSpatialReferences",null),(0,l.Cg)([(0,p.MZ)({type:[v.A]})],_.prototype,"fullExtents",null),(0,l.Cg)([(0,p.MZ)({type:["show","hide"]})],_.prototype,"listMode",void 0),(0,l.Cg)([(0,p.MZ)(w.Yj)],_.prototype,"elevationInfo",null),_=(0,l.Cg)([(0,h.$)("esri.layers.GaussianSplatLayer")],_);const C=_}}]);
//# sourceMappingURL=27645.9d0ed1d7.chunk.js.map