{"version":3,"file":"static/js/67060.5fd161ee.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/chunks/LineMarker.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as e,intersectTriangleGeometry2d as t}from\"../lib/RayIntersections.js\";class i extends r{intersect(r,t,i,s,n,o){return e(r,i,s,n,void 0,o)}intersectDraped(r,e,i,s){return t(i[0],i[1],r,s)}}export{i as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";const o=e().vec3f(\"position\").freeze(),f=e().vec3f(\"position\").vec2f16(\"uv0\").freeze(),v=e().vec3f(\"position\").vec4u8(\"color\").freeze(),r=e().vec3f(\"position\").vec2f(\"uv0\").freeze(),c=e().vec3f(\"position\").vec2f(\"uv0\").vec4u8(\"olidColor\").freeze();export{v as PositionColorLayout,o as PositionLayout,f as PositionUvLayout,r as PositionUvf32Layout,c as PositionUvf32OlidLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{markerTextureSize as e,markerSymbolSize as r,markerTipThicknessFactor as i}from\"../views/3d/support/engineContent/marker.js\";import{SliceDraw as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{RibbonVertexPosition as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{OutputHighlight as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{MarkerSizing as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{NoPerspectiveWrite as l,NoPerspectiveRead as p}from\"../views/3d/webgl-engine/core/shaderLibrary/util/NoPerspective.glsl.js\";import{addProjViewLocalOrigin as d,addViewNormal as v,addPixelRatio as m}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{glsl as w,If as y}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Texture2DPassUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{outputColorHighlightOID as P}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as z}from\"../views/webgl/ShaderBuilder.js\";function b(b){const j=new z,{space:L,anchor:D,hasTip:k,hasScreenSizePerspective:M}=b,C=2===L,$=1===L;j.include(t,b),j.include(n,b),j.include(s,b);const{vertex:W,fragment:U,varyings:O}=j;d(W,b),j.attributes.add(\"position\",\"vec3\"),j.attributes.add(\"previousDelta\",\"vec4\"),j.attributes.add(\"uv0\",\"vec2\"),O.add(\"vColor\",\"vec4\"),O.add(\"vpos\",\"vec3\",{invariant:!0}),O.add(\"vUV\",\"vec2\"),O.add(\"vSize\",\"float\"),k&&O.add(\"vLineWidth\",\"float\"),W.uniforms.add(new h(\"nearFar\",({camera:e})=>e.nearFar),new f(\"viewport\",({camera:e})=>e.fullViewport)).code.add(w`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),W.code.add(w`void clip(vec4 pos, inout vec4 prev) {\nfloat vnp = nearFar[0] * 0.99;\nif (prev.z > -nearFar[0]) {\nfloat interpolation = (-vnp - pos.z) / (prev.z - pos.z);\nprev = mix(pos, prev, interpolation);\n}\n}`),C?(j.attributes.add(\"normal\",\"vec3\"),v(W),W.constants.add(\"tiltThreshold\",\"float\",.7),W.code.add(w`vec3 perpendicular(vec3 v) {\nvec3 n = (viewNormal * vec4(normal.xyz, 1.0)).xyz;\nvec3 n2 = cross(v, n);\nvec3 forward = vec3(0.0, 0.0, 1.0);\nfloat tiltDot = dot(forward, n);\nreturn abs(tiltDot) < tiltThreshold ? n : n2;\n}`)):W.code.add(w`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}`);const T=C?\"vec3\":\"vec2\";return W.code.add(w`\n      ${T} normalizedSegment(${T} pos, ${T} prev) {\n        ${T} segment = pos - prev;\n        float segmentLen = length(segment);\n\n        // normalize or zero if too short\n        return (segmentLen > 0.001) ? segment / segmentLen : ${C?\"vec3(0.0, 0.0, 0.0)\":\"vec2(0.0, 0.0)\"};\n      }\n\n      ${T} displace(${T} pos, ${T} prev, float displacementLen) {\n        ${T} segment = normalizedSegment(pos, prev);\n\n        ${T} displacementDirU = perpendicular(segment);\n        ${T} displacementDirV = segment;\n\n        ${1===D?\"pos -= 0.5 * displacementLen * displacementDirV;\":\"\"}\n\n        return pos + displacementLen * (uv0.x * displacementDirU + uv0.y * displacementDirV);\n      }\n    `),$&&(W.uniforms.add(new S(\"inverseProjectionMatrix\",({camera:e})=>e.inverseProjectionMatrix)),W.code.add(w`vec3 inverseProject(vec4 posScreen) {\nposScreen.xy = (posScreen.xy / viewport.zw) * posScreen.w;\nreturn (inverseProjectionMatrix * posScreen).xyz;\n}`),W.code.add(w`bool rayIntersectPlane(vec3 rayDir, vec3 planeOrigin, vec3 planeNormal, out vec3 intersection) {\nfloat cos = dot(rayDir, planeNormal);\nfloat t = dot(planeOrigin, planeNormal) / cos;\nintersection = t * rayDir;\nreturn abs(cos) > 0.001 && t > 0.0;\n}`),W.uniforms.add(new u(\"perScreenPixelRatio\",({camera:e})=>e.perScreenPixelRatio)),W.code.add(w`\n      vec4 toFront(vec4 displacedPosScreen, vec3 posLeft, vec3 posRight, vec3 prev, float lineWidth) {\n        // Project displaced position back to camera space\n        vec3 displacedPos = inverseProject(displacedPosScreen);\n\n        // Calculate the plane that we want the marker to lie in. Note that this will always be an approximation since ribbon lines are generally\n        // not planar and we do not know the actual position of the displaced prev vertices (they are offset in screen space, too).\n        vec3 planeNormal = normalize(cross(posLeft - posRight, posLeft - prev));\n        vec3 planeOrigin = posLeft;\n\n        ${y(b.hasCap,\"if(prev.z > posLeft.z) {\\n                vec2 diff = posLeft.xy - posRight.xy;\\n                planeOrigin.xy += perpendicular(diff) / 2.0;\\n             }\")};\n\n        // Move the plane towards the camera by a margin dependent on the line width (approximated in world space). This tolerance corrects for the\n        // non-planarity in most cases, but sharp joins can place the prev vertices at arbitrary positions so markers can still clip.\n        float offset = lineWidth * perScreenPixelRatio;\n        planeOrigin *= (1.0 - offset);\n\n        // Intersect camera ray with the plane and make sure it is within clip space\n        vec3 rayDir = normalize(displacedPos);\n        vec3 intersection;\n        if (rayIntersectPlane(rayDir, planeOrigin, planeNormal, intersection) && intersection.z < -nearFar[0] && intersection.z > -nearFar[1]) {\n          return vec4(intersection.xyz, 1.0);\n        }\n\n        // Fallback: use depth of pos or prev, whichever is closer to the camera\n        float minDepth = planeOrigin.z > prev.z ? length(planeOrigin) : length(prev);\n        displacedPos *= minDepth / length(displacedPos);\n        return vec4(displacedPos.xyz, 1.0);\n      }\n  `)),m(W),j.include(l),W.main.add(w`\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      vec4 pos  = view * vec4(position, 1.0);\n      vec4 prev = view * vec4(position + previousDelta.xyz * previousDelta.w, 1.0);\n\n      float lineWidth = getLineWidth(${y(M,\"pos.xyz\")});\n      float screenMarkerSize = getScreenMarkerSize(lineWidth);\n\n      clip(pos, prev);\n\n      ${C?w`${y(b.hideOnShortSegments,w`\n                if (areWorldMarkersHidden(pos.xyz, prev.xyz)) {\n                  // Project out of clip space\n                  gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n                  return;\n                }`)}\n            pos.xyz = displace(pos.xyz, prev.xyz, getWorldMarkerSize(pos.xyz));\n            vec4 displacedPosScreen = projectAndScale(pos);`:w`\n            vec4 posScreen = projectAndScale(pos);\n            vec4 prevScreen = projectAndScale(prev);\n            vec4 displacedPosScreen = posScreen;\n\n            displacedPosScreen.xy = displace(posScreen.xy, prevScreen.xy, screenMarkerSize);\n            ${y($,w`\n                vec2 displacementDirU = perpendicular(normalizedSegment(posScreen.xy, prevScreen.xy));\n\n                // We need three points of the ribbon line in camera space to calculate the plane it lies in\n                // Note that we approximate the third point, since we have no information about the join around prev\n                vec3 lineRight = inverseProject(posScreen + lineWidth * vec4(displacementDirU.xy, 0.0, 0.0));\n                vec3 lineLeft = pos.xyz + (pos.xyz - lineRight);\n\n                pos = toFront(displacedPosScreen, lineLeft, lineRight, prev.xyz, lineWidth);\n                displacedPosScreen = projectAndScale(pos);`)}`}\n      forwardViewPosDepth(pos.xyz);\n      // Convert back into NDC\n      displacedPosScreen.xy = (displacedPosScreen.xy / viewport.zw) * displacedPosScreen.w;\n\n      // Convert texture coordinate into [0,1]\n      vUV = (uv0 + 1.0) / 2.0;\n      ${y(!C,\"vUV = noPerspectiveWrite(vUV, displacedPosScreen.w);\")}\n      ${y(k,\"vLineWidth = noPerspectiveWrite(lineWidth, displacedPosScreen.w);\")}\n\n      vSize = screenMarkerSize;\n      vColor = getColor();\n\n      // Use camera space for slicing\n      vpos = pos.xyz;\n\n      gl_Position = displacedPosScreen;\n    }`),U.include(o,b),j.include(P,b),U.include(c),U.uniforms.add(new g(\"intrinsicColor\",({color:e})=>e),new x(\"tex\",({markerTexture:e})=>e)).constants.add(\"texelSize\",\"float\",1/e).code.add(w`float markerAlpha(vec2 samplePos) {\nsamplePos += vec2(0.5, -0.5) * texelSize;\nfloat sdf = texture(tex, samplePos).r;\nfloat pixelDistance = sdf * vSize;\npixelDistance -= 0.5;\nreturn clamp(0.5 - pixelDistance, 0.0, 1.0);\n}`),k&&(j.include(p),U.constants.add(\"relativeMarkerSize\",\"float\",r/e).constants.add(\"relativeTipLineWidth\",\"float\",i).code.add(w`\n    float tipAlpha(vec2 samplePos) {\n      // Convert coordinates s.t. they are in pixels and relative to the tip of an arrow marker\n      samplePos -= vec2(0.5, 0.5 + 0.5 * relativeMarkerSize);\n      samplePos *= vSize;\n\n      float halfMarkerSize = 0.5 * relativeMarkerSize * vSize;\n      float halfTipLineWidth = 0.5 * max(1.0, relativeTipLineWidth * noPerspectiveRead(vLineWidth));\n\n      ${y(C,\"halfTipLineWidth *= fwidth(samplePos.y);\")}\n\n      float distance = max(abs(samplePos.x) - halfMarkerSize, abs(samplePos.y) - halfTipLineWidth);\n      return clamp(0.5 - distance, 0.0, 1.0);\n    }\n  `)),j.include(a,b),j.include(p),U.main.add(w`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n\n    vec4 finalColor = intrinsicColor * vColor;\n\n    // Cancel out perspective correct interpolation if in screen space or draped\n    vec2 samplePos = ${y(!C,\"noPerspectiveRead(vUV)\",\"vUV\")};\n    finalColor.a *= ${k?\"max(markerAlpha(samplePos), tipAlpha(samplePos))\":\"markerAlpha(samplePos)\"};\n    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),j}const j=Object.freeze(Object.defineProperty({__proto__:null,build:b},Symbol.toStringTag,{value:\"Module\"}));export{j as L,b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r,depthOnlyOutputBuffersOr as l}from\"../core/shaderTechnique/ShaderTechnique.js\";import{depthWrite as n,oitDepthTest as s,blending as o,getDrawBuffers as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as p,stencilWriteMaskOn as a,stencilToolTransparentOccluderParams as d,depthCompareAlways as h,stencilToolMaskOccluderParams as f,stencilWriteMaskOff as m,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{L as T}from\"../../../../chunks/LineMarker.glsl.js\";import{makePipelineState as W,defaultColorWrite as _,unpremultipliedAlphaToPremultipliedAlpha as b}from\"../../../webgl/renderState.js\";class g extends r{constructor(e,t){super(e,t,new i(T,()=>import(\"./LineMarker.glsl.js\")),S(t).locations)}_makePipelineState(e,i){const{output:r,oitPass:d,space:h,hasOccludees:f}=e;return W({blending:t(r)?o(d):null,depthTest:0===h?null:{func:s(d)},depthWrite:n(e),drawBuffers:l(r,c(d,r)),colorWrite:_,stencilWrite:f?a:null,stencilTest:f?i?u:p:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=W({blending:b,depthTest:h,depthWrite:null,colorWrite:_,stencilWrite:null,stencilTest:d}),this._occluderPipelineOpaque=W({blending:b,depthTest:h,depthWrite:null,colorWrite:_,stencilWrite:m,stencilTest:f}),this._occluderPipelineMaskWrite=W({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:u})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){return e?this._occludeePipelineState:11===t?this._occluderPipelineTransparent??super.getPipeline():10===t?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}function S(t){const i=e().vec3f(\"position\").vec4f16(\"previousDelta\").vec2f16(\"uv0\");return t.hasVVColor?i.f32(\"colorFeatureAttribute\"):i.vec4u8(\"color\",{glNormalized:!0}),t.hasVVOpacity&&i.f32(\"opacityFeatureAttribute\"),t.hasVVSize?i.f32(\"sizeFeatureAttribute\"):i.f16(\"size\"),t.worldSpace&&i.vec3f16(\"normal\"),i.freeze()}export{g as LineMarkerTechnique,S as getLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends o{constructor(t){super(),this.spherical=t,this.space=1,this.anchor=0,this.occluder=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.hasVVOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.hasScreenSizePerspective=!1,this.textureCoordinateType=0,this.emissionSource=0,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVVInstancing=!1,this.hasSliceTranslatedView=!0,this.olidColorInstanced=!1,this.overlayEnabled=!1,this.snowCover=!1}get draped(){return 0===this.space}get worldSpace(){return 2===this.space}}t([e({count:3})],i.prototype,\"space\",void 0),t([e({count:2})],i.prototype,\"anchor\",void 0),t([e()],i.prototype,\"occluder\",void 0),t([e()],i.prototype,\"writeDepth\",void 0),t([e()],i.prototype,\"hideOnShortSegments\",void 0),t([e()],i.prototype,\"hasCap\",void 0),t([e()],i.prototype,\"hasTip\",void 0),t([e()],i.prototype,\"hasVVSize\",void 0),t([e()],i.prototype,\"hasVVColor\",void 0),t([e()],i.prototype,\"hasVVOpacity\",void 0),t([e()],i.prototype,\"hasOccludees\",void 0),t([e()],i.prototype,\"terrainDepthTest\",void 0),t([e()],i.prototype,\"cullAboveTerrain\",void 0),t([e()],i.prototype,\"hasScreenSizePerspective\",void 0);export{i as LineMarkerTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as e,G as t,t as r}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeFloat16Array as s}from\"../../../../geometry/support/float16.js\";import{isColorOrColorEmission as a,isDepth as o,isColorEmissionHighlightOIDOrDepth as n}from\"../core/shaderLibrary/ShaderOutput.js\";import h from\"../lib/GLMaterial.js\";import{Material as c}from\"../lib/Material.js\";import{VisualVariablePassParameters as p}from\"./VisualVariablePassParameters.js\";import{writeDeltaF16Vector as l}from\"./internal/bufferWriterUtils.js\";import{getLayout as m,LineMarkerTechnique as u}from\"../shaders/LineMarkerTechnique.js\";import{LineMarkerTechniqueConfiguration as d}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{alphaCutoff as f}from\"../../../../webscene/support/AlphaCutoff.js\";class g extends c{constructor(e,t){super(e,v),this.produces=new Map([[2,e=>9===e||a(e)&&8===this.parameters.renderOccluded],[3,e=>o(e)],[10,e=>n(e)&&8===this.parameters.renderOccluded],[11,e=>n(e)&&8===this.parameters.renderOccluded],[4,e=>a(e)&&this.parameters.writeDepth],[8,e=>a(e)&&!this.parameters.writeDepth],[18,e=>a(e)||9===e]]),this.intersectDraped=void 0,this._configuration=new d(t)}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.space=18===t.slot?0:this.parameters.worldSpace?2:1,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=0!==this.parameters.cap,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasVVSize=this.parameters.hasVVSize,this._configuration.hasVVColor=this.parameters.hasVVColor,this._configuration.hasVVOpacity=this.parameters.hasVVOpacity,this._configuration.occluder=8===this.parameters.renderOccluded,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest&&a(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration}get visible(){return this.parameters.color[3]>=f}intersect(){}createBufferWriter(){return new S(m(this.parameters),this.parameters)}createGLMaterial(e){return new _(e)}}class _ extends h{dispose(){super.dispose(),this._markerTextures?.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this.getTechnique(u,e)}}class v extends p{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive=\"arrow\",this.placement=\"end\",this.cap=0,this.anchor=0,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.stipplePattern=null,this.markerTexture=null}}class S{constructor(e,t){this.layout=e,this._parameters=t}elementCount(){return\"begin-end\"===this._parameters.placement?12:6}write(i,a,o,n,h,c){const p=o.get(\"position\").data,m=p.length/3;let u=[1,0,0];const d=o.get(\"normal\");this._parameters.worldSpace&&null!=d&&(u=d.data);let f=1,g=0;this._parameters.vvSize?g=o.get(\"sizeFeatureAttribute\").data[0]:o.has(\"size\")&&(f=o.get(\"size\").data[0]);let _=[1,1,1,1],v=0;this._parameters.vvColor?v=o.get(\"colorFeatureAttribute\").data[0]:o.has(\"color\")&&(_=o.get(\"color\").data);let S=0;this._parameters.vvOpacity&&(S=o.get(\"opacityFeatureAttribute\").data[0]);const P=new Float32Array(h.buffer),T=s(h.buffer),k=new Uint8Array(h.buffer);let O=c*(this.layout.stride/4);const V=P.BYTES_PER_ELEMENT/T.BYTES_PER_ELEMENT,j=4/V,y=(e,t,r,i)=>{P[O++]=e[0],P[O++]=e[1],P[O++]=e[2],l(t,e,T,O*V),O+=j;let s=O*V;if(T[s++]=r[0],T[s++]=r[1],O=Math.ceil(s/V),this._parameters.vvColor)P[O++]=v;else{const e=Math.min(4*i,_.length-4),t=4*O++;k[t]=255*_[e],k[t+1]=255*_[e+1],k[t+2]=255*_[e+2],k[t+3]=255*_[e+3]}this._parameters.vvOpacity&&(P[O++]=S),s=O*V,this._parameters.vvSize?(P[O++]=g,s+=2):T[s++]=f,this._parameters.worldSpace&&(T[s++]=u[0],T[s++]=u[1],T[s++]=u[2]),O=Math.ceil(s/V)},M=(s,a)=>{const o=e(b,p[3*s],p[3*s+1],p[3*s+2]),n=w;let h=s+a;do{e(n,p[3*h],p[3*h+1],p[3*h+2]),h+=a}while(t(o,n)&&h>=0&&h<m);i&&(r(o,o,i),r(n,n,i)),y(o,n,[-1,-1],s),y(o,n,[1,-1],s),y(o,n,[1,1],s),y(o,n,[-1,-1],s),y(o,n,[1,1],s),y(o,n,[-1,1],s)},C=this._parameters.placement;return\"begin\"!==C&&\"begin-end\"!==C||M(0,1),\"end\"!==C&&\"begin-end\"!==C||M(m-1,-1),null}}const b=i(),w=i();export{g as LineMarkerMaterial,v as Parameters};\n"],"names":["i","r","intersect","t","s","n","o","e","intersectDraped","vec3f","freeze","f","vec2f16","v","vec4u8","vec2f","c","b","j","z","space","L","anchor","D","hasTip","k","hasScreenSizePerspective","M","C","$","include","vertex","W","fragment","U","varyings","O","d","attributes","add","invariant","uniforms","h","_ref","camera","nearFar","_ref2","fullViewport","code","w","_templateObject","_taggedTemplateLiteral","_templateObject2","constants","_templateObject3","_templateObject4","T","_templateObject5","S","_ref3","inverseProjectionMatrix","_templateObject6","_templateObject7","u","_ref4","perScreenPixelRatio","_templateObject8","y","hasCap","m","l","main","_templateObject9","_templateObject0","hideOnShortSegments","_templateObject1","_templateObject10","_templateObject11","P","g","_ref5","color","x","_ref6","markerTexture","_templateObject12","p","_templateObject13","a","_templateObject14","Object","defineProperty","__proto__","build","Symbol","toStringTag","value","constructor","super","locations","_makePipelineState","output","oitPass","hasOccludees","blending","depthTest","func","depthWrite","drawBuffers","colorWrite","_","stencilWrite","stencilTest","polygonOffset","factor","units","initializePipeline","occluder","this","_occluderPipelineTransparent","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipelineState","getPipeline","_this$_occluderPipeli","_this$_occluderPipeli2","_this$_occluderPipeli3","vec4f16","hasVVColor","f32","glNormalized","hasVVOpacity","hasVVSize","f16","worldSpace","vec3f16","spherical","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","hasVVInstancing","hasSliceTranslatedView","olidColorInstanced","overlayEnabled","snowCover","draped","count","prototype","produces","Map","parameters","renderOccluded","_configuration","getConfiguration","slot","cap","hasSlicePlane","screenSizePerspective","visible","createBufferWriter","createGLMaterial","dispose","_this$_markerTextures","_markerTextures","release","_markerPrimitive","beginSlot","_material","markerPrimitive","setParameters","swap","getTechnique","arguments","width","placement","vvFastUpdate","stipplePattern","layout","_parameters","elementCount","write","get","data","length","vvSize","has","vvColor","vvOpacity","Float32Array","buffer","Uint8Array","stride","V","BYTES_PER_ELEMENT","Math","ceil","min"],"sourceRoot":""}