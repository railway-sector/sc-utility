{"version":3,"file":"static/js/53669.27f6bed0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/VoxelGraphic.js","../node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import o from\"../../../Graphic.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r),this.gpuResult=null}};r([s({constructOnly:!0,clonable:\"reference\"})],t.prototype,\"gpuResult\",void 0),t=r([e(\"esri.views.3d.layers.VoxelGraphic\")],t);export{t as VoxelGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import s from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{watch as i,initial as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{i as l,n,j as h}from\"../../../chunks/vec32.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import d from\"../../../geometry/SpatialReference.js\";import{projectVectorToVector as u}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as m,expandWithVec3 as p}from\"../../../geometry/support/aaBoundingBox.js\";import{equals as y}from\"../../../geometry/support/spatialReferenceUtils.js\";import{LayerView3D as _}from\"./LayerView3D.js\";import{VoxelGraphic as b}from\"./VoxelGraphic.js\";import{addLayerViewToWasm as w,getVoxelWasm as f,removeLayerViewFromWasm as V}from\"./VoxelWasm.js\";import{LayerViewPerformanceInfo as g}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as S}from\"./support/PopupSceneLayerView.js\";import v from\"../../layers/LayerView.js\";import{spatialReferenceIncompatibleError as W,isInEffectiveScaleRange as T}from\"../../support/layerViewUtils.js\";const x=c(),L=c();let M=class extends(S(_(v))){constructor(){super(...arguments),this._suspendedHandle=null,this._usedMemory=0,this._futureMemory=0,this.type=\"voxel-3d\",this.slicePlaneEnabled=!1,this._wasmLayerId=-1,this.ignoresMemoryFactor=!0,this._dbgFlags=new Set}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get wasmLayerId(){return this._wasmLayerId}initialize(){if(this._dbgFlags.add(3),\"local\"!==this.view.viewingMode)throw new s(\"voxel:unsupported-viewingMode\",\"Voxel layers support local viewingMode only.\",{});if(!!!this.view.stage.renderView.renderingContext.capabilities.colorBufferFloat?.textureFloat)throw new s(\"voxel:missing-color-buffer-float\",\"Voxel layers require the WebGL2 extension EXT_color_buffer_float\",{});const e=this.layer.spatialReference;if(!y(e,this.view.spatialReference))throw W(\"voxel layer\",e.wkid,this.view.spatialReference.wkid);const t=this.layer.currentVariableId,o=this.layer.getVolume(t),r=this.layer.getVariable(t);if(null!=o&&null!=r){const e=o.dimensions[0],s=o.dimensions[1],t=o.zDimension;if(t>1){const i=o.dimensions[t],a=e.size*s.size*i.size;let l=1;switch(r.renderingFormat.type){case\"Int16\":case\"UInt16\":l=2;break;case\"Int32\":case\"UInt32\":case\"Float32\":l=4}this._futureMemory=l*a}}const l=w(this).then(e=>{this._wasmLayerId=e,this._suspendedHandle=i(()=>this.suspended,e=>{const s=f(this.view);s&&s.setEnabled(this,!e)},a),this.addHandles([i(()=>this.layer.renderMode,e=>this._pushRenderModeToWasm(e)),i(()=>this.layer.currentVariableId,e=>this._pushCurrentVariableIdToWasm(e)),i(()=>this.layer.getSections(),e=>this._pushSectionsToWasm(e)),i(()=>this.layer.getVariableStyles(),e=>this._pushVariableStylesToWasm(e)),i(()=>this.layer.getVolumeStyles(),e=>this._pushVolumeStylesToWasm(e)),i(()=>this.layer.enableDynamicSections,e=>this._pushEnableDynamicSectionsToWasm(e)),i(()=>this.layer.enableIsosurfaces,e=>this._pushEnableIsosurfacesToWasm(e)),i(()=>this.layer.enableSections,e=>this._pushEnableSectionsToWasm(e)),i(()=>this.layer.enableSlices,e=>this._pushEnableSlicesToWasm(e)),i(()=>[this.layer.timeOffset,this.layer.timeExtent,this.layer.useViewTime],()=>this._updateLayerTimeProperties()),i(()=>this.slicePlaneEnabled,e=>this._pushAnalysisSliceToWasm(e,this.view.slice.plane)),i(()=>this.view.slice.plane,e=>this._pushAnalysisSliceToWasm(this.slicePlaneEnabled,e))])}).catch(e=>{if(V(this),this._wasmLayerId=-1,-1===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer description was invalid.\",{});if(-2===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer web assembly module failed to download.\",{})});this.addResolvingPromise(l)}destroy(){V(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){const e=f(this.view);return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}get usedMemory(){return this._usedMemory}get unloadedMemory(){return this._futureMemory}get performanceInfo(){return new g(this.usedMemory)}get visibleAtCurrentScale(){return T(this.layer.effectiveScaleRange,this.view.scale)}whenGraphicBounds(e,s){const t=e.attributes[\"Voxel.WorldPosition\"];if(t){const e=m(),s=JSON.parse(t);if(u(s,this.view.renderSpatialReference,L,this.view.spatialReference||d.WGS84))return p(e,L),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}return Promise.reject()}async whenGraphicAttributes(e,s){const t=f(this.view);if(!t)return e;const i=[];for(const a of e)this._isValidVoxelGraphic(a)&&i.push(a);return i.length&&await t.getOtherFieldPopupValues(i,s),e}_isValidVoxelGraphic(e){return e instanceof b}setUsedMemory(e){this._usedMemory=e,this._futureMemory=0}captureFrustum(){const e=f(this.view);e?.captureFrustum()}toggleFullVolumeExtentDraw(){const e=f(this.view);e?.toggleFullVolumeExtentDraw(this)}getLayerTimes(){const e=f(this.view);return e?.getLayerTimes(this)??[]}getCurrentLayerTimeIndex(){const e=f(this.view);return e?.getCurrentLayerTimeIndex(this)??0}dropQueryRenderTarget(){const e=f(this.view);e?.dropQueryRenderTarget()}_pushRenderModeToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushRenderModeToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setRenderMode(this,e)||this._dbg(3,\"VoxelLayerView3D._pushRenderModeToWasm() failed!\")}_pushSectionsToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setStaticSections(this,e)||this._dbg(3,\"VoxelLayerView3D._pushSectionsToWasm() failed!\")}_pushCurrentVariableIdToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() called!, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setCurrentVariable(this,e)||this._dbg(3,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() failed!\")}_pushVariableStylesToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushVariableStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setVariableStyles(this,e)||this._dbg(3,\"VoxelLayerView3D._pushVariableStylesToWasm() failed!\")}_accountForEnableSlices(e,s){const t=null!=s?s:this.layer.enableSlices;for(let i=0;i<e.length;++i){const s=e[i];for(const e of s.slices)e.enabled=e.enabled&&t}}_pushVolumeStylesToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushVolumeStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s&&(this._accountForEnableSlices(e,null),s.setVolumeStyles(this,e)||this._dbg(3,\"VoxelLayerView3D._pushVolumeStylesToWasm() failed!\"))}_pushAnalysisSliceToWasm(e,s){const t=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushAnalysisSliceToWasm() called, \"+(t?\"have WASM\":\"don't have WASM!!!\"));let i=!1;if(t){if(s){const a=s.origin;l(x,s.basis1,s.basis2),n(x,x),i=t.setAnalysisSlice(this,e,a,x)}else h(x,0,0,1),i=t.setAnalysisSlice(this,!1,x,x);i||this._dbg(3,\"VoxelLayerView3D._pushAnalysisSliceToWasm() failed!\")}}_updateLayerTimeProperties(){const e=f(this.view);this._dbg(2,\"VoxelLayerView3D._updateLayerTimeProperties() called, \"+(e?\"have WASM\":\"don't have WASM!!!\")),e&&e.updateLayerTimeProperties(this)}_pushEnableDynamicSectionsToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableDynamicSections(this,e)||this._dbg(3,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() failed!\")}_pushEnableSlicesToWasm(e){const s=f(this.view);if(this._dbg(2,\"VoxelLayerView3D._pushEnableSlicesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s){const t=this.layer.getVolumeStyles();this._accountForEnableSlices(t,e),s.setVolumeStyles(this,t)||this._dbg(3,\"VoxelLayerView3D._pushEnableSlicesToWasm() failed!\")}}_pushEnableIsosurfacesToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableIsosurfaces(this,e)||this._dbg(3,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() failed!\")}_pushEnableSectionsToWasm(e){const s=f(this.view);this._dbg(2,\"VoxelLayerView3D._pushEnableSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableSections(this,e)||this._dbg(3,\"VoxelLayerView3D._pushEnableSectionsToWasm() failed!\")}_dbg(e,s){this._dbgFlags.has(e)&&(3===e?t.getLogger(this).error(s):t.getLogger(this).warn(s))}};e([o()],M.prototype,\"layer\",void 0),e([o()],M.prototype,\"baseUrl\",null),e([o({type:Boolean})],M.prototype,\"slicePlaneEnabled\",void 0),e([o({readOnly:!0})],M.prototype,\"visibleAtCurrentScale\",null),M=e([r(\"esri.views.3d.layers.VoxelLayerView3D\")],M);const A=M;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as o}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{const c=i;let n=class extends c{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!a(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,a(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)o(s,i,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch(()=>l).then(e=>n.concat(e));return h.sort((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,o=t.getObjectId()??0;return s-(u.get(o)??0)}),h}};return n=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],n),n};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{const n=l;let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,s=o.signal;this.addHandles(t(()=>o.abort())),await r(()=>this.view.defaultsFromMap?.heightModelInfoReady,s),e(s);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([s()],c.prototype,\"view\",void 0),o([s()],c.prototype,\"slicePlaneEnabled\",void 0),c=o([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import i from\"../../core/Logger.js\";import{destroyMaybe as s}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as p}from\"../support/layerViewUtils.js\";let d=class extends(r(n(t))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new a,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";i.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}})}destroy(){this._updatingHandles=s(this._updatingHandles),this._set(\"parent\",null)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&p(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return p(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l({readOnly:!0})],d.prototype,\"spatialReferenceSupported\",null),e([l()],d.prototype,\"view\",void 0),e([l()],d.prototype,\"fullOpacity\",null),e([l()],d.prototype,\"layer\",void 0),e([l()],d.prototype,\"parent\",void 0),e([l({readOnly:!0})],d.prototype,\"suspended\",null),e([l({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([l({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([l()],d.prototype,\"updateSuspended\",null),e([l()],d.prototype,\"visible\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentScale\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentTimeExtent\",null),d=e([o(\"esri.views.layers.LayerView\")],d);export{d as default};\n"],"names":["t","o","constructor","r","super","this","gpuResult","s","constructOnly","clonable","prototype","e","x","c","L","M","S","_","v","arguments","_suspendedHandle","_usedMemory","_futureMemory","type","slicePlaneEnabled","_wasmLayerId","ignoresMemoryFactor","_dbgFlags","Set","baseUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","layer","parsedUrl","path","wasmLayerId","initialize","_this$view$stage$rend","add","view","viewingMode","stage","renderView","renderingContext","capabilities","colorBufferFloat","textureFloat","spatialReference","y","W","wkid","currentVariableId","getVolume","getVariable","dimensions","zDimension","i","a","size","l","renderingFormat","w","then","suspended","f","setEnabled","addHandles","renderMode","_pushRenderModeToWasm","_pushCurrentVariableIdToWasm","getSections","_pushSectionsToWasm","getVariableStyles","_pushVariableStylesToWasm","getVolumeStyles","_pushVolumeStylesToWasm","enableDynamicSections","_pushEnableDynamicSectionsToWasm","enableIsosurfaces","_pushEnableIsosurfacesToWasm","enableSections","_pushEnableSectionsToWasm","enableSlices","_pushEnableSlicesToWasm","timeOffset","timeExtent","useViewTime","_updateLayerTimeProperties","_pushAnalysisSliceToWasm","slice","plane","catch","V","addResolvingPromise","destroy","remove","isUpdating","updatingFlagChanged","notifyChange","usedMemory","unloadedMemory","performanceInfo","g","visibleAtCurrentScale","T","effectiveScaleRange","scale","whenGraphicBounds","attributes","m","JSON","parse","u","renderSpatialReference","d","WGS84","p","Promise","resolve","boundingBox","screenSpaceObjects","reject","whenGraphicAttributes","_isValidVoxelGraphic","push","length","getOtherFieldPopupValues","b","setUsedMemory","captureFrustum","toggleFullVolumeExtentDraw","getLayerTimes","_e$getLayerTimes","getCurrentLayerTimeIndex","_e$getCurrentLayerTim","dropQueryRenderTarget","_dbg","setRenderMode","setStaticSections","setCurrentVariable","setVariableStyles","_accountForEnableSlices","slices","enabled","setVolumeStyles","origin","basis1","basis2","n","setAnalysisSlice","h","updateLayerTimeProperties","setEnableDynamicSections","setEnableIsosurfaces","setEnableSections","has","getLogger","error","warn","Boolean","readOnly","A","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","associatedLayer","fieldsIndex","Map","_e$s$getObjectId","set","getObjectId","concat","sort","_e$getObjectId","_u$get","_t$getObjectId","_u$get2","get","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","signal","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","spatialReferenceSupported","_updatingHandles","parent","when","name","_this$layer","id","title","_set","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentTimeExtent","_this$layer5","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$view","loaded","ready","_this$parent2","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}