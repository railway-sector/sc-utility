"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[13273,26965],{13273:(t,e,i)=>{i.r(e),i.d(e,{executePivotQuery:()=>y});var o=i(89379),r=i(54994),s=i(3825),n=i(90534),a=i(1438),p=i(78238),l=i(2914);async function u(t,e,i){return await async function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r="string"==typeof t?(0,n.An)(t):t,u=e.geometry?[e.geometry]:[],d=await(0,a.el)(u,null,{signal:i.signal}),v=null===d||void 0===d?void 0:d[0];null!=v&&((e=e.clone()).geometry=v);const y=(0,p.z)((0,o.A)((0,o.A)({},r.query),{},{f:"json"},function(t){const e=(0,l.i)(t),i=e.outPivots;if(null!==i&&void 0!==i&&i.length){for(const t of i)"Pivot"===t.pivotType&&t.pivotParameters.outStatistic?t.pivotParameters.outStatistic=JSON.stringify(t.pivotParameters.outStatistic):"Unpivot"===t.pivotType&&(t.unPivotParameters.sourceFields=t.unPivotParameters.sourceFields.join(","));e.outPivots=JSON.stringify(i)}return e}(e)));return(0,s.A)((0,n.fj)(r.path,"queryPivot"),(0,o.A)((0,o.A)({},i),{},{query:(0,o.A)((0,o.A)({},y),i.query)}))}(t,e,i)}var d=i(77725),v=i(26965);async function y(t,e,i){const s=(0,r.Dl)(t),n=(0,o.A)({},i),{data:a}=await u(s,v.default.from(e),n);return d.A.fromJSON(a)}},13743:(t,e,i)=>{i.d(e,{A:()=>l});var o=i(6326),r=i(69098),s=i(42553),n=i(46053),a=(i(81806),i(76460),i(47249),i(6409)),p=i(87990);let l=class extends((0,r.OU)(s.o)){constructor(t){super(t),this.sourceFields=void 0,this.valueFieldName=void 0,this.targetFieldName=void 0,this.type="un-pivot"}};(0,o.Cg)([(0,n.MZ)({type:[String],json:{name:"unPivotParameters.sourceFields",write:!0}})],l.prototype,"sourceFields",void 0),(0,o.Cg)([(0,n.MZ)({type:String,json:{name:"unPivotParameters.valueFieldName",write:!0}})],l.prototype,"valueFieldName",void 0),(0,o.Cg)([(0,n.MZ)({type:String,json:{name:"unPivotParameters.targetFieldName",write:!0}})],l.prototype,"targetFieldName",void 0),(0,o.Cg)([(0,a.e)({Unpivot:"un-pivot"},{name:"pivotType",readOnly:!0})],l.prototype,"type",void 0),l=(0,o.Cg)([(0,p.$)("esri.rest.support.UnPivotDefinition")],l)},26965:(t,e,i)=>{i.r(e),i.d(e,{default:()=>j});var o=i(6326),r=i(69098),s=i(42553),n=i(46053),a=i(40565),p=(i(81806),i(47249),i(6409)),l=i(87990),u=i(17707),d=i(13312),v=i(19902),y=i(31608),c=i(45802),g=(i(76460),i(21820));const m=new c.J({asc:"ascending",desc:"descending"});let h=class extends((0,r.OU)(s.o)){constructor(t){super(t),this.fieldName=void 0,this.fieldOrder=void 0,this.outStatistic=void 0,this.type="pivot"}};(0,o.Cg)([(0,n.MZ)({type:String,json:{name:"pivotParameters.pivotFieldName",write:!0}})],h.prototype,"fieldName",void 0),(0,o.Cg)([(0,p.e)(m,{name:"pivotParameters.pivotFieldOrder"})],h.prototype,"fieldOrder",void 0),(0,o.Cg)([(0,n.MZ)({type:g.A,json:{name:"pivotParameters.outStatistic",write:!0}})],h.prototype,"outStatistic",void 0),(0,o.Cg)([(0,p.e)({Pivot:"pivot"},{name:"pivotType",readOnly:!0})],h.prototype,"type",void 0),h=(0,o.Cg)([(0,l.$)("esri.rest.support.PivotDefinition")],h);const f=h;var P=i(69194),S=i(93186),C=i(38432);const w={key:"type",base:null,typeMap:{pivot:f,"un-pivot":i(13743).A}};let j=class extends((0,r.OU)((0,S.y)(s.o))){constructor(t){super(t),this.cacheHint=void 0,this.defaultSpatialReferenceEnabled=!1,this.geometry=null,this.groupByFieldsForStatistics=null,this.num=void 0,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.outPivots=null,this.quantizationParameters=null,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.where=void 0}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,e.where="1=1"}};(0,o.Cg)([(0,n.MZ)({type:Boolean,json:{write:!0}})],j.prototype,"cacheHint",void 0),(0,o.Cg)([(0,n.MZ)({type:Boolean,json:{default:!1,write:!0}})],j.prototype,"defaultSpatialReferenceEnabled",void 0),(0,o.Cg)([(0,n.MZ)({types:y.yR,json:{read:v.rS,write:!0}})],j.prototype,"geometry",void 0),(0,o.Cg)([(0,n.MZ)({type:[String],json:{write:!0}})],j.prototype,"groupByFieldsForStatistics",void 0),(0,o.Cg)([(0,n.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],j.prototype,"num",void 0),(0,o.Cg)([(0,n.MZ)({type:[String],json:{write:!0}})],j.prototype,"orderByFields",void 0),(0,o.Cg)([(0,n.MZ)({type:[String],json:{write:!0}})],j.prototype,"outFields",void 0),(0,o.Cg)([(0,n.MZ)({type:d.A,json:{name:"outSR",write:!0}})],j.prototype,"outSpatialReference",void 0),(0,o.Cg)([(0,n.MZ)({type:[g.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],j.prototype,"outStatistics",void 0),(0,o.Cg)([(0,n.MZ)({types:[w],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outPivots&&this.outPivots.length>0}}}}})],j.prototype,"outPivots",void 0),(0,o.Cg)([(0,n.MZ)({type:P.A,json:{write:!0}})],j.prototype,"quantizationParameters",void 0),(0,o.Cg)([(0,n.MZ)({type:d.A,json:{write:!0}})],j.prototype,"sourceSpatialReference",void 0),(0,o.Cg)([(0,p.e)(C.x,{ignoreUnknown:!1,name:"spatialRel"})],j.prototype,"spatialRelationship",void 0),(0,o.Cg)([(0,n.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],j.prototype,"start",void 0),(0,o.Cg)([(0,u.K)("start"),(0,u.K)("num")],j.prototype,"writeStart",null),(0,o.Cg)([(0,n.MZ)({type:String,json:{write:!0}})],j.prototype,"where",void 0),j=(0,o.Cg)([(0,l.$)("esri.rest.support.PivotQuery")],j),j.from=(0,a.dp)(j)}}]);
//# sourceMappingURL=13273.46c4ff21.chunk.js.map