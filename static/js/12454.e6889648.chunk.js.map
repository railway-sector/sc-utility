{"version":3,"file":"static/js/12454.e6889648.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/LineOfSightLayerView.js","../node_modules/@arcgis/core/views/3d/layers/LineOfSightLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/LayerViewAnalysisViewManager.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{createAbortError as s}from\"../../core/promiseUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";const o=o=>{let a=class extends o{constructor(...e){super(...e),this.layer=null}get interactive(){return this.analysisView?.interactive??!1}set interactive(e){null!=this.analysisView&&(this.analysisView.interactive=e)}get results(){return this.analysisView?.results??new r}place(e){if(null!=this.analysisView)return this.analysisView.place(e);throw s()}};return e([t()],a.prototype,\"layer\",void 0),e([t()],a.prototype,\"interactive\",null),e([t({readOnly:!0})],a.prototype,\"results\",null),a=e([i(\"esri.views.layers.LineOfSightLayerView\")],a),a};export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{LayerViewAnalysisViewManager as r}from\"./support/LayerViewAnalysisViewManager.js\";import t from\"../../layers/LayerView.js\";import n from\"../../layers/LineOfSightLayerView.js\";var o;let l=class extends(a(n(t))){static{o=this}constructor(s){super(s),this.type=\"line-of-sight-3d\",this._analysisViewManager=null}initialize(){this._analysisViewManager=new r({getAnalysis:()=>this.layer.analysis,loadAnalysisViewModule:o.loadAnalysisViewModule,parent:this}),this.addResolvingPromise(this._analysisViewManager.whenAnalysisView())}destroy(){this._analysisViewManager.destroy()}get analysisView(){return this._analysisViewManager.analysisView}whenAnalysisView(){return this._analysisViewManager.whenAnalysisView()}isUpdating(){return this._analysisViewManager.updating}static{this.loadAnalysisViewModule=()=>import(\"../analysis/LineOfSightAnalysisView3D.js\")}};s([i()],l.prototype,\"type\",void 0),s([i()],l.prototype,\"_analysisViewManager\",void 0),s([i({readOnly:!0})],l.prototype,\"analysisView\",null),l=o=s([e(\"esri.views.3d.layers.LineOfSightLayerView3D\")],l);const y=l;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{createTask as i}from\"../../../../core/asyncUtils.js\";import a from\"../../../../core/Error.js\";import{abortMaybe as t,destroyMaybe as r}from\"../../../../core/maybe.js\";import{throwIfAborted as n,isAborted as o}from\"../../../../core/promiseUtils.js\";import{watch as l,syncAndInitial as y}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as w}from\"../../../../core/accessorSupport/decorators/subclass.js\";let h=class extends e{get updating(){return null!=this._createAnalysisViewTask||null!=this.analysisView&&this.analysisView.updating}constructor(s){super(s),this._analysisModule=null,this._emitOnView=(s,e)=>this.parent.view.emit(s,e)}initialize(){this.addHandles(l((()=>this.getAnalysis()),(s=>this._createAnalysisView(s)),y))}destroy(){this._destroyAnalysisView()}async whenAnalysisView(){if(null!=this.analysisView)return this.analysisView;if(null!=this._createAnalysisViewTask)return this._createAnalysisViewTask.promise;throw new a(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been set on the layer of this layer view\")}_createAnalysisView(s){const e=this._createAnalysisViewTask?.promise;if(this._destroyAnalysisView(),!s)return;const a=i((async i=>{try{await Promise.allSettled([e]);const a=await this._createAnalysisViewPromise(s,i);return n(i),this.analysisView=a,this._emitOnView(\"analysis-view-create\",{analysis:s,analysisView:a}),a}catch(t){throw this._emitOnView(\"analysis-view-create-error\",{analysis:s,error:t}),t}finally{this._createAnalysisViewTask===a&&(this._createAnalysisViewTask=null)}}));this._createAnalysisViewTask=a}_destroyAnalysisView(){const s=this.getAnalysis();this._createAnalysisViewTask=t(this._createAnalysisViewTask);const{analysisView:e}=this;e&&(this.analysisView=r(e),this._emitOnView(\"analysis-view-destroy\",{analysis:s,analysisView:e}))}async _createAnalysisViewPromise(s,e){let i,t=this._analysisModule;const r=e=>{if(!o(e))return;i?.destroy();const t=this.getAnalysis();throw new a(\"layerview:no-analysisview-for-analysis\",null!=t&&s!==t?\"The analysis changed before the analysis view could be created\":\"The analysis has not been added to the layer of this layer view\",{analysis:s})};return t||(t=await this.loadAnalysisViewModule(),r(e),this._analysisModule=t),i=new t.default({analysis:s,parent:this.parent,view:this.parent.view}),await i.when(),r(e),i}};s([c({constructOnly:!0})],h.prototype,\"getAnalysis\",void 0),s([c({constructOnly:!0})],h.prototype,\"loadAnalysisViewModule\",void 0),s([c({constructOnly:!0})],h.prototype,\"parent\",void 0),s([c()],h.prototype,\"analysisView\",void 0),s([c()],h.prototype,\"_createAnalysisViewTask\",void 0),s([c()],h.prototype,\"updating\",null),s([c()],h.prototype,\"_analysisModule\",void 0),h=s([w(\"esri.views.3d.layers.support.LayerViewAnalysisViewManager\")],h);export{h as LayerViewAnalysisViewManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n"],"names":["o","a","constructor","super","arguments","this","layer","interactive","_this$analysisView$in","_this$analysisView","analysisView","e","results","_this$analysisView$re","_this$analysisView2","r","place","s","t","prototype","readOnly","i","l","_Class","n","type","_analysisViewManager","initialize","getAnalysis","analysis","loadAnalysisViewModule","parent","addResolvingPromise","whenAnalysisView","destroy","isUpdating","updating","y","h","_createAnalysisViewTask","_analysisModule","_emitOnView","view","emit","addHandles","_createAnalysisView","_destroyAnalysisView","promise","_this$_createAnalysis","async","Promise","allSettled","_createAnalysisViewPromise","error","_i","default","when","c","constructOnly","w","slicePlaneEnabled","supportsHeightUnitConversion","postscript","p","_validateHeightModelInfo","AbortController","signal","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","u","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","_updatingHandles","catch","name","_this$layer","id","title","getLogger","concat","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","suspended","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","_this$_updatingHandle","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","_this$layer5","timeExtent","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$view","effectiveScaleRange","loaded","ready","d","_this$parent2","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean"],"sourceRoot":""}