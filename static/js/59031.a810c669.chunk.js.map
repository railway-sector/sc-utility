{"version":3,"file":"static/js/59031.a810c669.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import s from\"./Accessor.js\";import o from\"./Logger.js\";import{debounce as r}from\"./promiseUtils.js\";import{initial as n}from\"./reactiveUtils.js\";import{property as e}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"./support/UpdatingHandles.js\";const a=s=>{const a=s;let d=class extends a{constructor(){super(...arguments),this._updatingHandles=new p,this._numUpdating=0}get updating(){return this._numUpdating>0||this._updatingHandles.updating}destroy(){this._updatingHandles.destroy()}autoUpdateAsync(t,s){const e=r(async s=>{++this._numUpdating;try{const o=await s;this.destroyed||this._set(t,o)}catch(r){o.getLogger(this).warn(`Async update of \"${String(t)}\" failed. Async update functions should not throw exceptions.`)}--this._numUpdating});return this._updatingHandles.add(s,e,n)}};return t([e()],d.prototype,\"_updatingHandles\",void 0),t([e({readOnly:!0})],d.prototype,\"updating\",null),t([e()],d.prototype,\"_numUpdating\",void 0),d=t([i(\"esri.core.AsyncUpdate\")],d),d},d=a(s);export{d as AsyncUpdate,a as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../../core/Accessor.js\";import{AsyncUpdateMixin as s}from\"../../../../core/AsyncUpdate.js\";import t from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as l,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";let a=class extends(s(r)){get layer(){return this.layerView.layer}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:i}=this;return l(e,[...r??[],...s??[],...t??[],...i??[]])}constructor(e){super(e)}initialize(){this.addHandles([this.autoUpdateAsync(\"rendererFields\",async()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?this._getFieldsAsync(s=>r.collectRequiredFields(s,e)):null}),this.autoUpdateAsync(\"labelingFields\",async()=>{const{layer:e}=this;return e.labelsVisible?this._getFieldsAsync(r=>d(r,e)):null}),this.autoUpdateAsync(\"viewFilterFields\",()=>{const{layer:e,mergedFilter:r}=this.layerView;return this._getFieldsAsync(s=>n(s,e,r))})])}async _getFieldsAsync(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return t.getLogger(this).error(s),null}}};e([i()],a.prototype,\"layerView\",void 0),e([i()],a.prototype,\"layer\",null),e([i()],a.prototype,\"requiredFields\",null),e([i()],a.prototype,\"rendererFields\",void 0),e([i()],a.prototype,\"labelingFields\",void 0),e([i()],a.prototype,\"viewFilterFields\",void 0),a=e([o(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],a);export{a as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as o}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{const c=i;let n=class extends c{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!a(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,a(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)o(s,i,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch(()=>l).then(e=>n.concat(e));return h.sort((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,o=t.getObjectId()??0;return s-(u.get(o)??0)}),h}};return n=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],n),n};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as e}from\"../../../../core/asyncUtils.js\";import{clone as t}from\"../../../../core/lang.js\";import{normalizeGlobalID as n}from\"../../../../core/uuid.js\";import{queryAllJSON as o}from\"../../../../layers/support/featureQueryAll.js\";const r={setAttribute(){},rollback(){},commit(){}};function i(e,n){const o=n.attributes[e.objectIdField];if(null==o)return r;const i=e.sessions.get(o);if(i)return i;const s=t(n.attributes),l=new Set,u=e.i3sOverrides.createInteractiveEditSession(o),a=new Map,d=(e,t)=>{const n=a.get(e);if(null==n){const n=t.indexOf(o);return a.set(e,n),n}return n};let f=0;const c={setAttribute(t,o){if(0!==f)return;const r=e.fieldsIndex.get(t);if(!r)return;const i=e.attributeStorageInfo.findIndex(e=>e.name===r.name);if(i<0)return;if(!(t in s))throw new Error(`Attribute \"${t}\" is not an attribute of the edited feature.`);u.setAttribute(i,o);const a=e.attributeStorageInfo[i];let c=!1;l.add(t),e.forEachNode((t,r)=>{const i=d(t,r);if(-1===i)return;const s=e.getAttributeData(t.index);if(s){const r=s[a.name];r&&(r[i]=o,e.setAttributeData(t.index,s,n),c=!0)}}),c&&e.clearMemCache()},rollback(){if(0===f){for(const e of l)this.setAttribute(e,s[e]);u.remove(),f=1,e.sessions.delete(o)}},commit(){0===f&&(u.remove(),f=2,e.sessions.delete(o))}};return e.sessions.set(o,c),c}function s(e,t,n){const{gidToFeatureInfo:o,oidToFeatureInfo:r,fieldsIndex:i,objectIdField:s,globalIdField:l,featureOrIdentifierList:u}=n;if(!n.featuresResolved&&null!=u){for(const e of u){const t={feature:null,oid:-1,gid:null};if(\"attributes\"in e){t.feature=e;const n=e.attributes;if(null!=n)for(const e in n){if(-1!==t.oid&&null!=t.gid)break;const o=i.normalizeFieldName(e);o===s&&(t.oid=n[e]??-1),o===l&&(t.gid=n[e])}}else t.oid=e.objectId??-1,t.gid=e.globalId;null!=t.gid&&o.set(t.gid,t),-1!==t.oid&&r.set(t.oid,t)}n.featuresResolved=!0}return(-1!==e?r.get(e):null)??(null!=t?o.get(t):null)}function l(e,t,o,r,i=null,l=!0){const u=[],a={gidToFeatureInfo:new Map,oidToFeatureInfo:new Map,featuresResolved:null==o,fieldsIndex:e.fieldsIndex,objectIdField:e.objectIdField,globalIdField:e.globalIdField,featureOrIdentifierList:o};for(const d of t){if(null!=d.error)continue;const e=d.objectId??-1,t=d.globalId,o=(-1===e||l?s(e,t,a):null)??{feature:null,oid:e,gid:t},f={oid:-1===e?o.oid:e,gid:t??o.gid,feature:o.feature,result:d};u.push(f);const c=f.gid?n(f.gid):null;if(-1===f.oid&&null!=c&&null!=i&&(f.oid=i.get(c)??-1),-1===f.oid&&null!=c){let e=r.get(c);null==e&&(e={gid:f.gid,edits:[]},r.set(c,e)),e.edits.push(f)}}return u}async function u(e,t){const n=new Map,o=l(e,t.addedFeatures,t.edits?.addFeatures,n),r=l(e,t.updatedFeatures,t.edits?.updateFeatures,n),i=l(e,t.deletedFeatures,t.edits?.deleteFeatures,n,t.globalIdToObjectId,!1);return n.size>0&&await a(e,n),{adds:o.filter(e=>-1!==e.oid),updates:r.filter(e=>-1!==e.oid),deletes:i.filter(e=>-1!==e.oid)}}async function a(t,r){const i=t.i3sOverrides.layer.associatedLayer;if(null==i?.globalIdField)return;const s=i.createQuery(),{objectIdField:l,globalIdField:u}=i;s.where=Array.from(r.values()).map(({gid:e})=>`${u}='${e}'`).join(\" OR \"),s.returnGeometry=!1,s.outFields=[l,u],s.cacheHint=!1;const a=await e(o(i,s));if(!a.ok)return;const d=a.value.features;for(const e of d){const t=e.attributes[u],o=e.attributes[l];if(null==t||null==o||-1===o)continue;const i=r.get(n(t));if(null!=i)for(const e of i.edits)e.oid=o}}function d(e,t){const n=new Map,o=e=>{for(const{oid:t,feature:o}of e){const e=o?.geometry;\"mesh\"===e?.type&&n.set(t,e)}};o(t.adds),o(t.updates);for(const r of t.deletes)n.set(r.oid,null);for(const[r,i]of n)e.i3sOverrides.updateGeometry(r,i)}function f(e,t){const n=g(e,t),o=c(e,t);if(0===n.size&&0===o.size)return;const r=new Map;for(let c=0;c<e.attributeStorageInfo.length;c++)r.set(e.attributeStorageInfo[c].name,c);let i=!1;n.forEach((t,n)=>{const o=e.getAttributeData(n);let s=!1;t.forEach((t,n)=>{const l=null!=o?o[n]:null,u=r.get(n);for(const{featureIndex:o,value:r,featureId:a}of t)l&&(l[o]=r,s=!0,i=!0),e.i3sOverrides.updateAttributeValue(a,u,r)}),s&&e.setAttributeData(n,o,null)}),i&&e.clearMemCache();const{fieldsIndex:s,i3sOverrides:l,objectIdField:u,globalIdField:a}=e,d=l.layer.associatedLayer?.infoFor3D,f=new Set(d?[...Object.values(d.assetMapFieldRoles),...Object.values(d.transformFieldRoles)]:[]);for(const[c,g]of o){l.featureAdded(c);const{attributes:e}=g;for(const t in e){if(t!==u&&t!==a&&f.has(t))continue;const n=s.normalizeFieldName(t),o=null!=n?r.get(n):null;if(null==o)continue;const i=e[t];l.updateAttributeValue(c,o,i)}}}function c(e,t){const n=new Map,o=t.adds;if(!o||0===o.length||null==e.globalIdField)return n;for(const r of o){const e=r.oid,t=r.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t)}return n}function g(e,t){const n=t.updates;if(!n||0===n.length)return new p;const o=new p,r=new Map;for(let i=0;i<e.attributeStorageInfo.length;i++)r.set(e.attributeStorageInfo[i].name,i);return e.forEachNode((t,r)=>{for(const i of n){if(null==i.feature)continue;const n=i.feature,s=i.oid,l=r.indexOf(s);for(const r in n.attributes){const i=e.fieldsIndex.normalizeFieldName(r),u=b(o,t.index,i),a=n.attributes[r];u.push({featureIndex:l,featureId:s,value:a})}}}),o}function b(e,t,n){const o=I(e,t),r=null!=n&&o.get(n);if(r)return r;const i=new Array;return o.set(n,i),i}function I(e,t){const n=e.get(t);if(n)return n;const o=new m;return e.set(t,o),o}const m=Map,p=Map;export{i as createInteractiveEditSession,u as normalizeEditResultsEvent,f as processAttributeEdits,d as processGeometryEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{isSome as t}from\"../../core/arrayUtils.js\";import r from\"../../core/Logger.js\";import{abortMaybe as o}from\"../../core/maybe.js\";import{unwrapUpdating as i,updating as n,isUpdating as l}from\"../../core/maybeUpdating.js\";import{throwIfAbortError as s,throwIfNotAbortError as a}from\"../../core/promiseUtils.js\";import{whenOnce as m}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{project as u,canProjectWithoutEngine as y,isLoaded as g,load as h}from\"../../geometry/projectionUtils.js\";import d from\"./LayerView.js\";let f=class extends d{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryOperators=null,this._projectionEngineLoaded=!1,this._abortController=new AbortController}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return i(this._layerFilter)}get _layerFilter(){const e=this.layer?.filter;if(null==e||e.geometries.length<1)return null;if(!this._geometryOperators||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return n;const[o,i,l]=this._geometryOperators,s=e.geometries.at(0).spatialReference,a=e.geometries.toArray().map(e=>{let t;try{t=i.execute(e)}catch(o){return r.getLogger(this).warnOncePerTick(\"Failed to simplify scene filter mask polygon. Polygon will be ignored.\"),null}if(!t)return null;if(t.spatialReference.equals(s))return t;try{return u(t,s)}catch(o){return r.getLogger(this).warnOncePerTick(\"Failed to project scene filter mask polygon. Polygon will be ignored.\"),null}}).filter(t).sort((e,t)=>e.extent.xmin-t.extent.xmin),m=new Set,p=new Array,c=new Array;for(let t of a){const e=t.extent.xmin;if(p.length=0,m.forEach(r=>{if(e>=r.extent.xmax)return c.push(r),void m.delete(r);t.extent.ymin<=r.extent.ymax&&t.extent.ymax>=r.extent.ymin&&o.execute(t,r)&&p.push(r)}),p.length>0){let e;p.push(t);try{e=l.executeMany(p)}catch(y){r.getLogger(this).warnOncePerTick(\"Failed to unify filter mask polygons. Polygon will be ignored.\");continue}p.pop(),e&&(p.forEach(e=>m.delete(e)),t=e)}m.add(t)}return m.forEach(e=>c.push(e)),c.length>0?{spatialRelationship:e.spatialRelationship,geometries:c}:null}get _filterNeedsProjectionEngine(){const e=this.layer.filter;if(null==e||e.geometries.length<=1)return!1;const t=e.geometries.at(0).spatialReference;return e.geometries.some(({spatialReference:e})=>!e.equals(t)&&!y(e,t))}get layerFilterUpdating(){return l(this._layerFilter)}initialize(){const{signal:e}=this._abortController;m(()=>this.destroyed||!this._geometryOperators&&this.layer?.filter?.geometries?.length,e).then(async()=>{s(e),this._geometryOperators=await Promise.all([import(\"../../geometry/operators/intersectsOperator.js\"),import(\"../../geometry/operators/simplifyOperator.js\"),import(\"../../geometry/operators/unionOperator.js\")])}).catch(a),this._projectionEngineLoaded=g(),m(()=>this.destroyed||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine,e).then(async()=>{s(e),await h(),this._projectionEngineLoaded=!0}).catch(a)}destroy(){this._abortController=o(this._abortController)}highlight(e,t){throw new Error(\"Not implemented\")}queryFeatures(e,t){throw new Error(\"Not implemented\")}queryObjectIds(e,t){throw new Error(\"Not implemented\")}queryFeatureCount(e,t){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,t){throw new Error(\"Not implemented\")}};e([p()],f.prototype,\"layer\",void 0),e([p()],f.prototype,\"availableFields\",null),e([p()],f.prototype,\"maximumNumberOfFeatures\",null),e([p({readOnly:!0})],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([p()],f.prototype,\"filter\",void 0),e([p({readOnly:!0})],f.prototype,\"layerFilter\",null),e([p({readOnly:!0})],f.prototype,\"_layerFilter\",null),e([p()],f.prototype,\"_geometryOperators\",void 0),e([p()],f.prototype,\"_projectionEngineLoaded\",void 0),e([p()],f.prototype,\"_filterNeedsProjectionEngine\",null),e([p()],f.prototype,\"layerFilterUpdating\",null),f=e([c(\"esri.views.layers.SceneLayerView\")],f);export{f as default};\n"],"names":["a","s","d","constructor","super","arguments","this","_updatingHandles","p","_numUpdating","updating","destroy","autoUpdateAsync","t","e","r","async","o","destroyed","_set","getLogger","warn","concat","String","add","n","prototype","readOnly","i","layer","layerView","requiredFields","fieldsIndex","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","l","initialize","addHandles","renderer","_getFieldsAsync","collectRequiredFields","labelsVisible","mergedFilter","Set","Array","from","sort","error","type","availableFields","get","outFields","c","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","length","associatedLayer","push","u","Map","_e$s$getObjectId","set","getObjectId","h","whenGraphicAttributes","catch","then","_e$getObjectId","_u$get","_t$getObjectId","_u$get2","setAttribute","rollback","commit","attributes","objectIdField","sessions","i3sOverrides","createInteractiveEditSession","indexOf","f","attributeStorageInfo","findIndex","name","Error","forEachNode","getAttributeData","index","setAttributeData","clearMemCache","remove","delete","_ref","gidToFeatureInfo","oidToFeatureInfo","globalIdField","featureOrIdentifierList","featuresResolved","_e$objectId","feature","oid","gid","_n$e","normalizeFieldName","objectId","globalId","undefined","_d$objectId","_ref2","_i$get","result","edits","_t$edits","_t$edits2","_t$edits3","addedFeatures","addFeatures","updatedFeatures","updateFeatures","deletedFeatures","deleteFeatures","globalIdToObjectId","size","createQuery","where","values","map","_ref3","join","returnGeometry","cacheHint","ok","value","features","adds","filter","updates","deletes","geometry","updateGeometry","_l$layer$associatedLa","b","featureIndex","featureId","g","_t$geometry","forEach","updateAttributeValue","infoFor3D","Object","assetMapFieldRoles","transformFieldRoles","featureAdded","has","m","I","_geometryOperators","_projectionEngineLoaded","_abortController","AbortController","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","layerFilter","_layerFilter","_this$layer","geometries","_filterNeedsProjectionEngine","at","spatialReference","toArray","execute","warnOncePerTick","equals","extent","xmin","xmax","ymin","ymax","executeMany","y","pop","spatialRelationship","some","layerFilterUpdating","signal","_this$layer2","Promise","all","highlight","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent"],"sourceRoot":""}