{"version":3,"file":"static/js/16004.5e661418.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/lyr3dTypeConversions.js","../node_modules/@arcgis/core/views/3d/layers/support/Tiles3DIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../../../core/maybe.js\";import{isPromiseLike as t}from\"../../../../../core/promiseUtils.js\";class s{constructor(s,r){this._textures=s,this.loadPromise=null,this._disposed=!1;const i=this._textures.acquire(r);t(i)?(i.then((t=>{this._disposed?e(t):this._textureRef=t})),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return null!=this._textureRef?this._textureRef.glTexture:null}}export{s as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../core/mathUtils.js\";import{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getProjectorClassification as t,copy3 as n,ProjectionID as o,projectionTable as s,wgs84ToWebMercator as i}from\"./projectors.js\";import{earth as c}from\"../support/Ellipsoid.js\";function l(e,r,l,f){if(null==r||null==f)return!1;const p=t(r,f);if(null==p?.projector)return!1;if(p.projector===n)return l[0]=e[0],l[1]=e[1],l[2]=e[2],l[3]=e[3],!0;const{source:E,dest:m,projector:R}=p;if(m.spatialReferenceId===o.WEB_MERCATOR){const r=s[E.spatialReferenceId][o.WGS84];return null!=r&&(r(e,0,u,0),i(u,0,l,0),l[3]=a(u[1],e[2],e[3],c.radius),!0)}if(E.spatialReferenceId!==o.WGS84&&E.spatialReferenceId!==o.CGCS2000||m.spatialReferenceId!==o.PLATE_CARREE){R(e,0,l,0);const r=E.metersPerUnit??1,t=m.metersPerUnit??1;l[3]=e[3]*r/t}else{const r=s[E.spatialReferenceId][o.SPHERICAL_ECEF],t=s[o.SPHERICAL_ECEF][o.PLATE_CARREE];let n=e[3];null!=r&&null!=t&&(n=a(e[1],e[2],e[3],c.radius)),R(e,0,l,0),l[3]=n}return!0}function a(e,r,t,n){const o=n+r;if(o<n/2||t>o)return Number.MAX_VALUE;const s=Math.abs(f*e)+Math.asin(t/o);return s>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(s)}const u=r(),f=e(1);export{l as projectBoundingSphere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,h,c){super(e,0,0,0,t),this.nodesCached=s,this.vboMB=r,this.textureMB=o,this.vboMBCached=h,this.textureMBCached=c}}export{t as IntegratedMesh3DTilesViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Lyr3DPrimitiveType as e,Lyr3DAlphaMode as t,Lyr3DFaceCullingMode as n,Lyr3DUvWrapMode as E,Lyr3DType as r}from\"../../../../layers/ILyr3DWasmPerSceneView.js\";import{AlphaDiscardMode as s,CullFaceOptions as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{PrimitiveType as i,TextureWrapMode as a}from\"../../../webgl/enums.js\";const l={[e.Points]:null,[e.Lines]:null,[e.LineStrip]:null,[e.Triangles]:i.TRIANGLES,[e.TriangleStrip]:i.TRIANGLE_STRIP,[e.NotSet]:null},T={[t.Opaque]:s.Opaque,[t.Mask]:s.Mask,[t.Blend]:s.Blend},P={[n.Back]:o.Back,[n.Front]:o.Front,[n.None]:o.None,[n.NotSet]:o.Back},_={[E.WrapYBit]:{s:a.CLAMP_TO_EDGE,t:a.REPEAT},[E.WrapXBit]:{s:a.REPEAT,t:a.CLAMP_TO_EDGE},[E.WrapXy]:{s:a.REPEAT,t:a.REPEAT},[E.None]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE},[E.NotSet]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE}},A={[r.U8]:1,[r.I8]:1,[r.U16]:2,[r.I16]:2,[r.U32]:4,[r.I32]:4,[r.F32]:4,[r.F64]:8,[r.Utf8String]:1,[r.NotSet]:1};export{T as alphaModeConversion,P as faceCullingConversion,A as lyr3DTypeToByteSize,l as primTypeConversion,_ as wrapModeConversion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{Tiles3DTarget as i}from\"../i3s/Intersector.js\";import{StoreResults as t}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{IntersectorResult as r}from\"../../webgl-engine/lib/IntersectorResult.js\";import{IntersectorType as s}from\"../../webgl-engine/lib/IntersectorType.js\";import{MeshIntersectionOptions as n}from\"../../webgl-engine/lib/RayIntersections.js\";class o{constructor(e){this.type=s.TILES3D,this.slicePlaneEnabled=!1,this.isGround=!0,this.layerView=e,this.layerViewUid=e.uid}intersect(e,s,o,l,a,c){if(e.options.filteredLayerViewUids.includes(this.layerView.uid))return;const u=e.results,d=e.options.store===t.ALL,m=this.layerView.view.stage.renderView.componentObjectCollection,p=new n(c,e.options.normalRequired);this.layerView.objects.forEach((t=>{t.visible&&t.intersectionGeometry&&m.intersect(t,o,l,e.tolerance,null,p,((t,n,a,c)=>{if(n>=0){if(null!=s&&!s(o,l,n))return;const t=e=>{const t=new i(this.layerView.layer.uid,(()=>this._createTiles3DGraphic(this.layerView.layer,{})));e.set(this.type,t,n,a)};if(this.isGround&&(null==u.ground.distance||n<u.ground.distance)&&t(u.ground),e.options.isFiltered)return;if((null==u.min.distance||n<u.min.distance)&&t(u.min),(null==u.max.distance||n>u.max.distance)&&t(u.max),d){const i=new r(e.ray);t(i),e.results.all.push(i)}}}))}))}_createTiles3DGraphic(i,t){return new e({layer:i,sourceLayer:i,attributes:t})}}export{o as Tiles3DIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{initial as s,watch as o}from\"../../../core/reactiveUtils.js\";import{schedule as n}from\"../../../core/scheduling.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as c,invert as m}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as d,IDENTITY as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as u,getTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as g}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{f as b,o as y}from\"../../../chunks/vec32.js\";import{fromArray as _,create as w}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as v}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{SphericalECEFSpatialReferenceLike as x}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as C}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{localLinearScaleFactors as j}from\"../../../geometry/projection/localLinearScaleFactors.js\";import{projectVectorToVector as M}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as T}from\"../../../geometry/support/aaBoundingRect.js\";import{BufferViewVec2f as P,BufferViewVec4f as O,BufferViewVec4u8 as U,BufferViewVec4u16 as E,BufferViewVec3f as A,BufferViewVec3u8 as H,BufferViewVec3u16 as I,BufferViewInt16 as V,BufferViewUint32 as R,BufferViewUint16 as S}from\"../../../geometry/support/buffer/BufferView.js\";import{Lyr3DLightingModel as F,Lyr3DUvWrapMode as k,Lyr3DImageFormat as D,Lyr3DPixelFormat as B,Lyr3DVtxAtrbSemantic as L,Lyr3DType as N}from\"../../../layers/ILyr3DWasmPerSceneView.js\";import G from\"../../../layers/support/SceneModification.js\";import{getElevationOffsetInMeters as z}from\"../../../support/elevationInfoUtils.js\";import{ViewingMode as W}from\"../../ViewingMode.js\";import{toWasmModification as $}from\"./I3SMeshWorkerHandle.js\";import{IntegratedMesh3DTilesViewPerformanceInfo as J}from\"./IntegratedMesh3DTilesViewPerformanceInfo.js\";import{DrapeTargetType as q}from\"./interfaces.js\";import{LayerView3D as K}from\"./LayerView3D.js\";import{addLayerViewToWasm as X,removeLayerViewFromWasm as Q,getLyr3DWasm as Y}from\"./Lyr3DWasm.js\";import{LayerElevationProvider as Z}from\"./i3s/LayerElevationProvider.js\";import{primTypeConversion as ee,alphaModeConversion as te,faceCullingConversion as re,wrapModeConversion as ie,lyr3DTypeToByteSize as se}from\"./support/lyr3dTypeConversions.js\";import{Tiles3DIntersectionHandler as oe}from\"./support/Tiles3DIntersectionHandler.js\";import{ElevationRange as ne}from\"../support/ElevationRange.js\";import{toBoundingRect as ae}from\"../support/extentUtils.js\";import{Obb as le,compute as ce}from\"../support/orientedBoundingBox.js\";import{ObjectParameters as me}from\"../webgl-engine/collections/Component/ObjectParameters.js\";import{GeometryParameters as de,createVertexBufferLayout as he}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{Transform as ue}from\"../webgl-engine/collections/Component/Transform.js\";import{ComponentParameterSummary as pe}from\"../webgl-engine/collections/Component/Material/ComponentMaterial.js\";import{RenderTexture as fe}from\"../webgl-engine/core/material/RenderTexture.js\";import{TextureCoordinateType as ge}from\"../webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{getEllipsoidMode as be}from\"../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Attribute as ye}from\"../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as _e,AlphaDiscardMode as we,TextureEncodingMimeType as ve}from\"../webgl-engine/lib/basicInterfaces.js\";import{compressAndTransformNormals as xe}from\"../webgl-engine/lib/Normals.js\";import{Texture as Ce}from\"../webgl-engine/lib/Texture.js\";import{VertexAttribute as je}from\"../webgl-engine/lib/VertexAttribute.js\";import{writeDefaultAttribute as Me,writeBufferVec2 as Te}from\"../webgl-engine/materials/internal/bufferWriterUtils.js\";import Pe from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as Oe}from\"../../support/layerViewUtils.js\";import{TextureCompressionTracker as Ue}from\"../../support/TextureCompressionTracker.js\";import{alphaCutoff as Ee}from\"../../../webscene/support/AlphaCutoff.js\";var Ae;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(Ae||(Ae={}));class He{constructor(){this.handle=0,this.isVisible=!1,this.components=[],this.textureMemoryUsage=0,this.vboMemoryUsage=0,this.cpuMemoryUsage=0,this.textures=[]}get usedMemory(){return this.textureMemoryUsage+this.vboMemoryUsage+this.cpuMemoryUsage}get cachedMemory(){return this.usedMemory}}function Ie(e){return Math.round(e/1048.576)/1e3}let Ve=class extends(K(Pe)){constructor(){super(...arguments),this.type=\"integrated-mesh-3dtiles\",this._compressionTracker=new Ue,this._modifications=new Array,this._visibleGeometryChangedSchedulerHandle=null,this._wasmLayerId=-1,this.ignoresMemoryFactor=!1,this.drapeTargetType=q.WithoutRasterImage,this._applySSAO=!has(\"disable-feature:im-ssao\"),this._shadeNormals=!!has(\"enable-feature:im-shading\"),this._lyrHandleToObjects=new Map,this._initialCullFace=new Map,this._suspendedHandle=null,this._dbgFlags=new Set}get hasModifications(){return this._modifications&&this._modifications.length>0}initialize(){if(this._dbgFlags.add(Ae.Error),this._dbg(Ae.VerboseAPI,\"Tiles3DLayerView3D initialize() called\"),this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),s),!this._canProjectWithoutEngine())throw new t(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});const e=X(this).then((e=>{this._wasmLayerId=e,this._intersectionHandler=new oe(this),this.view.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(e))),this._updatingHandles.add((()=>this._modifications),(()=>this._modificationsChanged()),s),this._updatingHandles.add((()=>this.view.clippingArea),(()=>this._clippingAreaChanged()),s),this._elevationProvider=new Z({view:this.view,layerElevationSource:this,intersectionHandler:this._intersectionHandler}),this.view.elevationProvider.register(\"im\",this._elevationProvider),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this);const t=this.view.resourceController.memoryController.newCache(`t3d-${this.uid}`,(e=>this._onRemoveFromCache(e)));this._memCache=t,this.addHandles([o((()=>this.layer.elevationInfo),(e=>this._elevationInfoChanged(e)))]),this._suspendedHandle=o((()=>this.suspended),(e=>this._wasm?.setEnabled(this,!e)),s)}));this.addResolvingPromise(e)}destroy(){this._dbg(Ae.VerboseAPI,\"Tiles3DLayerView3D destroy() called\"),Q(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null),this._intersectionHandler&&(this.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null),this._elevationProvider&&(this._elevationProvider.objectsChanged(this._obbs),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this),this._lyrHandleToObjects.forEach((e=>this.freeObject(e))),this._lyrHandleToObjects.clear(),this._initialCullFace.clear(),this._memCache=i(this._memCache),this._updatingHandles=i(this._updatingHandles),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}_modificationsChanged(){const e=this.layer.spatialReference,t=$(this._layerClippingArea,this._modifications,e);this._wasm?.setMeshModifications(this,t,e.wkid)}_clippingAreaChanged(){const e=this.layer.spatialReference,t=T();this._layerClippingArea=ae(this.view.clippingArea,t,e)?t:null,this._modificationsChanged()}_visibleGeometryChanged(){this._visibleGeometryChangedSchedulerHandle??=n((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),this.objects.forEach((t=>{const r=this._collection.getMaterial(t);r.commonMaterialParameters.hasSlicePlane=e,r.commonMaterialParameters.cullFace=e?_e.None:this._initialCullFace.get(t)}))}_elevationInfoChanged(e){this._wasm?.setLayerOffset(this,z(e))}get _obbs(){return this.objects.map((e=>this._collection.getComponentObb(e)))}get _wasm(){return Y(this.view)}get wasmLayerId(){return this._wasmLayerId}get usedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible&&(e+=t.usedMemory)})),e}get unloadedMemory(){return 0}get cachedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible||(e+=t.usedMemory)})),e}get visibleAtCurrentScale(){return Oe(this.layer.effectiveScaleRange,this.view.scale)}get performanceInfo(){let e=0,t=0,r=0,i=0,s=0,o=0;return this._lyrHandleToObjects.forEach((n=>{n.isVisible?(e+=n.textureMemoryUsage,t+=n.vboMemoryUsage,s++):(r+=n.textureMemoryUsage,i+=n.vboMemoryUsage,o++)})),new J(this.usedMemory,s,o,Ie(t),Ie(e),Ie(i),Ie(r))}_canProjectWithoutEngine(){if(this.view.state.viewingMode===W.Local){const e=this.view.renderSpatialReference?.isWebMercator?3857:this.view.renderSpatialReference?.wkid??-1;if(3857!==e&&32662!==e)return!1}return!0}get _stage(){return this.view.stage}get _collection(){return this._stage.renderView.componentObjectCollection}get elevationOffset(){return z(this.layer.elevationInfo)}get elevationRange(){const e=this.fullExtent;return e?.zmin&&e?.zmax?new ne(e.zmin,e.zmax):null}getElevationRange(e){return null}get fullExtent(){return this.layer.fullExtent}get objects(){return Array.from(this._lyrHandleToObjects.values()).reduce(((e,t)=>e.concat(t.components)),new Array)}isUpdating(){const e=this._wasm;return!(this._wasmLayerId<0||null==e)&&(e.isUpdating(this._wasmLayerId)||this._compressionTracker.compressing)}updatingFlagChanged(){this.notifyChange(\"updating\")}async createRenderable(e){const t=e.meshData;if(null==t.data)throw new Error(\"meshData.data undefined\");if(t.desc=JSON.parse(t.desc),null==t.desc)throw new Error(\"meshData.desc undefined\");const r=_(t.desc.origin),i=new Array,s=new Map,o=new He;o.handle=e.handle,this._lyrHandleToObjects.set(e.handle,o);const n=this.view.basemapTerrain.spatialReference;let a,l;if(\"global\"===this.view.viewingMode){const e=f();C(x,r,e,n),a=c(d(),e),l=m(d(),a)}else a=h,l=h;const T=f();u(T,T,r);const O=p(w(),T);let U=null;const E=w();if(t.desc.obb){const e=t.desc.obb.quaternion;U=new le(t.desc.obb.center,t.desc.obb.halfSize,g(e[0],e[1],e[2],e[3]))}for(let c=0;c<t.desc.prims.length;c++){const e=t.desc.prims[c];this._dbg(Ae.VerboseAPI,JSON.stringify(e));if(null==ee[e.ptype]||null==t.data){this._dbg(Ae.VerboseAPI,\"[Unsupported Feature] Unsupported primitive mode (\"+e.ptype+\"). Skipping primitive.\");continue}const m=t.desc?.materials&&null!=e.materialId?t.desc.materials[e.materialId]:null,d=null!=m?m.lightingModel:F.Unlit,{positionView:u,positionAttr:p,normalsView:f,normalsAttr:g,colorAttr:_,texCoord0Attr:x,indicesView:C}=this.getBufferViews(e,t.data.buffer,a);if(null==p||null==u||null==C)continue;const T=new de(null!=_,x?ge.Default:ge.None,null!=f,this._shadeNormals,this._applySSAO),A=p.data.length/p.size,H=(e,t)=>!e||e.data.length/e.size===A||(this._dbg(Ae.Error,`${t} !== numPos. Skipping primitive.`),!1);if(!H(x,\"numTexcoord\")||!H(_,\"numColors\")||!H(g,\"normals\"))continue;const I=he(T);if(null!=U?U=U.clone():(U=ce(p),b(E,U.center,r),U.center=E),a!==h)for(let t=0;t<u.count;t++)u.getVec(t,E),y(E,E,a),u.setVec(t,E);const V=I.createBuffer(p.data.length);if(Me(je.POSITION,p,null,null,V,0),null!=x){const e=V.getField(je.UV0,P);Te(x,e,0)}null!=_&&Me(je.COLOR,p,null,null,V,0),null!=g&&Me(je.NORMALCOMPRESSED,g,null,null,V,0);const R=new Uint32Array([0,C.typedBuffer.length]),S={vertices:{data:V.buffer,count:V.byteLength/I.stride,layoutParameters:T},positionData:{positions:u.typedBuffer,indices:C.typedBuffer},indices:C.typedBuffer,componentOffsets:R};o.cpuMemoryUsage+=u.count,o.cpuMemoryUsage+=C.count;const k=this.view.renderSpatialReference,D=w(),B=[1,1,1];j(O,k,B,n)||this._dbg(Ae.Error,\"Unsupported coordinate system for IM overlay\"),M(O,k,D,n);const L=this._collection.createObject(new me(v(D[0],D[1],B[0],B[1]),new ue(O,l),U,S));m&&this._collection.updateMaterial(L,(e=>{e.baseColor=m.baseColorFactor,e.usePBR=d===F.Pbr,e.hasParametersFromSource=!1,e.baseColorTexture=this._getTexture(m.baseColorTex,t,s,o),e.usePBR&&(e.mrrFactors=[m.metallicFactor,m.roughnessFactor,0],e.emissiveBaseColor=m.emissiveFactor??[0,0,0],e.metallicRoughnessTexture=this._getTexture(m.metalTex,t,s,o),e.emissionTexture=this._getTexture(m.emissiveTex,t,s,o),e.occlusionTexture=this._getTexture(m.occlusionTex,t,s,o),e.normalTexture=this._getTexture(m.normalTex,t,s,o)),e.objectOpacity=0,e.alphaDiscardMode=we.Mask;const r=[];e.baseColorTexture&&r.push(e.baseColorTexture.loadPromise),e.usePBR&&e.metallicRoughnessTexture&&r.push(e.metallicRoughnessTexture.loadPromise),e.usePBR&&e.emissionTexture&&r.push(e.emissionTexture.loadPromise),e.usePBR&&e.occlusionTexture&&r.push(e.occlusionTexture.loadPromise),e.usePBR&&e.normalTexture&&r.push(e.normalTexture.loadPromise);const n=Promise.all(r);i.push(n),n.then((()=>{e.alphaDiscardMode=te[m.alphaMode],e.objectOpacity=1,o.textureMemoryUsage+=e.baseColorTexture?.glTexture?.usedMemory||0,e.usePBR&&(o.textureMemoryUsage+=e.metallicRoughnessTexture?.glTexture?.usedMemory||0,o.textureMemoryUsage+=e.emissionTexture?.glTexture?.usedMemory||0,o.textureMemoryUsage+=e.occlusionTexture?.glTexture?.usedMemory||0,o.textureMemoryUsage+=e.normalTexture?.glTexture?.usedMemory||0)})),e.commonMaterialParameters.doubleSided=m.isDoubleSided,e.commonMaterialParameters.cullFace=m.faceCulling?re[m.faceCulling]:_e.Back,this._initialCullFace.set(L,e.commonMaterialParameters.cullFace),e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.componentParameters.castShadows=pe.All,e.textureAlphaCutoff=m.alphaCutoff??Ee,e.alphaDiscardMode=te[m.alphaMode],e.isIntegratedMesh=!0,e.polygonOffsetEnabled=!1,e.hasOccludees=!1,e.ellipsoidMode=be(this.view.spatialReference)})),o.components.push(L),o.vboMemoryUsage+=this._collection.getObjectGPUMemoryUsage(L)}if(await Promise.all(i),s.forEach((e=>{o.textures.push(e)})),!this._memCache)throw new Error(\"no memCache\");return this._memCache.put(`${o.handle}`,o),{memUsageBytes:o.usedMemory}}freeRenderable(e){const t=this._lyrHandleToObjects.get(e);t&&(this.freeObject(t),this._lyrHandleToObjects.delete(e))}freeObject(e){this._memCache&&this._memCache.pop(`${e.handle}`),e.components.forEach((t=>{e.textures.forEach((e=>{this._stage.removeTexture(e)})),this._collection.destroyObject(t),this._initialCullFace.delete(t)}))}setRenderableVisibility(e,t,r){if(this._memCache){for(let i=0;i<r;++i){const r=e[i],s=t[i];if(!s)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=s,o.components.forEach((e=>{this._collection.setObjectVisibility(e,s),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.pop(`${r}`))}for(let i=0;i<r;++i){const r=e[i],s=t[i];if(s)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=s,o.components.forEach((e=>{this._collection.setObjectVisibility(e,s),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.put(`${r}`,o))}}}_getTexture(e,t,r,i){let s=null;if(e&&t.desc?.images&&t.data?.buffer){const o=t.desc.images[e?.imageId];if(s=r.get(o),!s&&o){const n=this._stage.renderView.renderingContext.parameters.maxMaxAnisotropy,a=!!o.mipCount||n>1,l=ie[e.wrapMode??k.None];let c=o.alpha?4:3;const m=new Uint8Array(t.data.buffer,o.data.byteOffset,o.data.byteCount);let d=null,h=null,u=null;switch(o.format){case D.Raw:o.pixelFormat===B.R8?(d=m,c=1,h=\"\"):o.pixelFormat===B.Rgb8?(d=m,c=3,h=\"\"):o.pixelFormat===B.Rgba8&&(d=m,c=4,h=\"\");break;case D.Dxt1:d=m,c=3,h=ve.DDS_ENCODING;break;case D.Dxt5:d=m,c=4,h=ve.DDS_ENCODING;break;case D.Basis:d=m,c=3,h=ve.KTX2_ENCODING;break;case D.Png:h=\"image/png\",u=document.createElement(\"img\");break;case D.Jpeg:h=\"image/jpeg\",u=document.createElement(\"img\");break;case D.Etc2:h=\"image/ktx\",u=document.createElement(\"img\");break;case D.Astc:this._dbg(Ae.Error,\"Astc texture not supported\");break;case D.Pvrtc:this._dbg(Ae.Error,\"Pvrtc texture not supported\")}if(u&&h){const e=new Blob([m],{type:h});u.src=URL.createObjectURL(e),d=u}if(d&&null!=h){const e=has(\"enable-feature:esri-compress-IM-textures\")?{compressionTracker:this._compressionTracker,compressionCallback:e=>{e&&e>0&&(i.textureMemoryUsage-=e)}}:void 0;s=new Ce(d,{mipmap:a,maxAnisotropy:n,encoding:h,wrap:l,components:c,compressionOptions:e,noUnpackFlip:!0,width:o.mip0Width,height:o.mip0Height}),this._stage.addTexture(s),r.set(o,s)}}}return s?new fe(this.view.stage.renderView.textures,s.id):null}getBufferViews(e,t,r){let i,s,o,n,a,l,c,m=null;for(let h=0;h<e.atrbs.length;h++){const c=e.atrbs[h],u=c.view,p=void 0,f=u.byteOffset+u.byteCount,g=u.byteCount/se[u.type],b=[...Array(g).keys()].map((e=>e));try{switch(c.sem){case L.Position:3!==u.ncomp||u.type!==N.F32?this._dbg(Ae.Error,\"[Unsupported Feature] Unsupported view for Position (\"+u+\")\"):(i=new A(t,u.byteOffset,p,f),s=new ye(i.typedBuffer,b,3));break;case L.Normal:if(3!==u.ncomp||u.type!==N.F32)this._dbg(Ae.Error,\"[Unsupported Feature] Unsupported view for Normal (\"+u+\")\");else{const e=new A(t,u.byteOffset,p,f),i=xe(e.typedBuffer,r);a=new V(i),l=new ye(a.typedBuffer,b,2)}break;case L.TexCoord:2!==u.ncomp||u.type!==N.F32?this._dbg(Ae.Error,\"[Unsupported Feature] Unsupported view for Texcoord (\"+u+\")\"):void 0===n&&(n=new ye(new P(t,u.byteOffset,p,f).typedBuffer,b,2));break;case L.Color:4===u.ncomp?(u.type===N.F32&&(m=new O(t,u.byteOffset,p,f)),u.type===N.U8&&(m=new U(t,u.byteOffset,p,f)),u.type===N.U16&&(m=new E(t,u.byteOffset,p,f))):3===u.ncomp&&(u.type===N.F32&&(m=new A(t,u.byteOffset,p,f)),u.type===N.U8&&(m=new H(t,u.byteOffset,p,f)),u.type===N.U16&&(m=new I(t,u.byteOffset,p,f))),null==m?this._dbg(Ae.VerboseAPI,\"[Unsupported Feature] Unsupported view for Color (\"+u+\")\"):o=new ye(m.typedBuffer,b,u.ncomp);break;case L.FeatureIndex:break;default:this._dbg(Ae.VerboseAPI,\"[Unsupported Feature] Unsupported semantic (\"+c.sem+\"). Skipping vertex attribute.\")}}catch(d){this._dbg(Ae.VerboseAPI,\"Error Creating buffer (\"+d+\"). Skipping vertex attribute.\")}}if(e.index){const r=e.index.view,i=void 0,s=r.byteOffset+r.byteCount;switch(e.index.view.type){case N.U16:c=new S(t,r.byteOffset,i,s);break;case N.U32:c=new R(t,r.byteOffset,i,s);break;case N.U8:default:this._dbg(Ae.Error,\"[Unsupported Feature] index type not supported (\"+r.type+\").\")}}if(null==c&&null!=i){const e=i.count;if(e<65535){const t=new Uint16Array(e);c=new S(t)}else{const t=new Uint32Array(e);c=new R(t)}for(let t=0;t<e;t++)c.set(t,t)}return{positionView:i,positionAttr:s,colorAttr:o,texCoord0Attr:n,indicesView:c,normalsView:a,normalsAttr:l}}_loadModifications(){if(this.removeHandles(\"modifications\"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),s),\"modifications\")}_onRemoveFromCache(e){this._wasm?.onRenderableEvicted(this,e.handle,e.usedMemory),this.freeRenderable(e.handle)}_dbg(e,t){this._dbgFlags.has(e)&&(e===Ae.Error?r.getLogger(this).error(t):r.getLogger(this).warn(t))}};e([a({type:[G]})],Ve.prototype,\"_modifications\",void 0),e([a()],Ve.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([a()],Ve.prototype,\"layer\",void 0),e([a({readOnly:!0})],Ve.prototype,\"visibleAtCurrentScale\",null),e([a()],Ve.prototype,\"elevationOffset\",null),Ve=e([l(\"esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D\")],Ve);const Re=Ve;export{Re as default};\n"],"names":["s","constructor","r","this","_textures","loadPromise","_disposed","i","acquire","t","then","e","_textureRef","dispose","glTexture","l","f","p","projector","n","source","E","dest","m","R","spatialReferenceId","o","WEB_MERCATOR","WGS84","u","a","c","radius","CGCS2000","PLATE_CARREE","_E$metersPerUnit","_m$metersPerUnit","metersPerUnit","SPHERICAL_ECEF","Number","MAX_VALUE","Math","abs","asin","PI","cos","h","super","nodesCached","vboMB","textureMB","vboMBCached","textureMBCached","Points","Lines","LineStrip","Triangles","TRIANGLES","TriangleStrip","TRIANGLE_STRIP","NotSet","T","Opaque","Mask","Blend","P","Back","Front","None","_","WrapYBit","CLAMP_TO_EDGE","REPEAT","WrapXBit","WrapXy","A","U8","I8","U16","I16","U32","I32","F32","F64","Utf8String","type","TILES3D","slicePlaneEnabled","isGround","layerView","layerViewUid","uid","intersect","options","filteredLayerViewUids","includes","results","d","store","ALL","view","stage","renderView","componentObjectCollection","normalRequired","objects","forEach","visible","intersectionGeometry","tolerance","layer","_createTiles3DGraphic","set","ground","distance","isFiltered","min","max","ray","all","push","sourceLayer","attributes","Ae","API","VerboseAPI","Error","He","handle","isVisible","components","textureMemoryUsage","vboMemoryUsage","cpuMemoryUsage","textures","usedMemory","cachedMemory","Ie","round","Ve","K","Pe","arguments","_compressionTracker","Ue","_modifications","Array","_visibleGeometryChangedSchedulerHandle","_wasmLayerId","ignoresMemoryFactor","drapeTargetType","q","WithoutRasterImage","_applySSAO","has","_shadeNormals","_lyrHandleToObjects","Map","_initialCullFace","_suspendedHandle","_dbgFlags","Set","hasModifications","length","initialize","add","_dbg","_updatingHandles","modifications","_loadModifications","_canProjectWithoutEngine","X","_intersectionHandler","oe","sceneIntersectionHelper","addIntersectionHandler","_slicePlaneEnabledChange","_modificationsChanged","clippingArea","_clippingAreaChanged","_elevationProvider","Z","layerElevationSource","intersectionHandler","elevationProvider","register","basemapTerrain","overlayManager","registerDrapeTarget","resourceController","memoryController","newCache","concat","_onRemoveFromCache","_memCache","addHandles","elevationInfo","_elevationInfoChanged","suspended","_this$_wasm","_wasm","setEnabled","addResolvingPromise","destroy","Q","remove","removeIntersectionHandler","objectsChanged","_obbs","unregister","unregisterDrapeTarget","freeObject","clear","emit","_this$_wasm2","spatialReference","$","_layerClippingArea","setMeshModifications","wkid","ae","_visibleGeometryChanged","_this$_visibleGeometr","_collection","getMaterial","commonMaterialParameters","hasSlicePlane","cullFace","_e","get","_this$_wasm3","setLayerOffset","z","map","getComponentObb","Y","wasmLayerId","unloadedMemory","visibleAtCurrentScale","Oe","effectiveScaleRange","scale","performanceInfo","J","state","viewingMode","W","Local","_this$view$renderSpat","_this$view$renderSpat2","_this$view$renderSpat3","renderSpatialReference","isWebMercator","_stage","elevationOffset","elevationRange","fullExtent","zmin","zmax","ne","getElevationRange","from","values","reduce","isUpdating","compressing","updatingFlagChanged","notifyChange","createRenderable","meshData","data","desc","JSON","parse","origin","C","x","O","w","U","obb","quaternion","le","center","halfSize","g","prims","_t$desc","stringify","ee","ptype","materials","materialId","lightingModel","F","Unlit","positionView","positionAttr","normalsView","normalsAttr","colorAttr","texCoord0Attr","indicesView","getBufferViews","buffer","de","ge","Default","size","H","I","he","clone","ce","b","count","getVec","y","setVec","V","createBuffer","Me","je","POSITION","getField","UV0","Te","COLOR","NORMALCOMPRESSED","Uint32Array","typedBuffer","S","vertices","byteLength","stride","layoutParameters","positionData","positions","indices","componentOffsets","k","D","B","j","M","L","createObject","me","v","ue","updateMaterial","_m$emissiveFactor","_m$alphaCutoff","baseColor","baseColorFactor","usePBR","Pbr","hasParametersFromSource","baseColorTexture","_getTexture","baseColorTex","mrrFactors","metallicFactor","roughnessFactor","emissiveBaseColor","emissiveFactor","metallicRoughnessTexture","metalTex","emissionTexture","emissiveTex","occlusionTexture","occlusionTex","normalTexture","normalTex","objectOpacity","alphaDiscardMode","we","Promise","_e$baseColorTexture","_e$metallicRoughnessT","_e$emissionTexture","_e$occlusionTexture","_e$normalTexture","te","alphaMode","doubleSided","isDoubleSided","faceCulling","re","componentParameters","castShadows","pe","All","textureAlphaCutoff","alphaCutoff","Ee","isIntegratedMesh","polygonOffsetEnabled","hasOccludees","ellipsoidMode","be","getObjectGPUMemoryUsage","put","memUsageBytes","freeRenderable","delete","pop","removeTexture","destroyObject","setRenderableVisibility","setObjectVisibility","objectChanged","_t$desc2","_t$data","images","imageId","_e$wrapMode","renderingContext","parameters","maxMaxAnisotropy","mipCount","ie","wrapMode","alpha","Uint8Array","byteOffset","byteCount","format","Raw","pixelFormat","R8","Rgb8","Rgba8","Dxt1","ve","DDS_ENCODING","Dxt5","Basis","KTX2_ENCODING","Png","document","createElement","Jpeg","Etc2","Astc","Pvrtc","Blob","src","URL","createObjectURL","compressionTracker","compressionCallback","Ce","mipmap","maxAnisotropy","encoding","wrap","compressionOptions","noUnpackFlip","width","mip0Width","height","mip0Height","addTexture","fe","id","atrbs","se","keys","sem","Position","ncomp","N","ye","Normal","xe","TexCoord","Color","FeatureIndex","index","Uint16Array","removeHandles","addOnCollectionChange","toArray","_this$_wasm4","onRenderableEvicted","getLogger","error","warn","G","prototype","readOnly","Re"],"sourceRoot":""}