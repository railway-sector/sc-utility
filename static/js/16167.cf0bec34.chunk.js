"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[16167],{20578:(t,e,n)=>{n.d(e,{r:()=>o});n(81806),n(76460);var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e,n){super(n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.n.ALL),this.lineStart=t,this.lineEnd=e}equals(t){return t instanceof o&&(0,r.q)(this.lineStart,t.lineStart)&&(0,r.q)(this.lineEnd,t.lineEnd)}}},23543:(t,e,n)=>{n.d(e,{c:()=>o});n(81806),n(76460);var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.n.ALL,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];super(r,s),this.type=t,this.lineStart=e,this.lineEnd=n,this.fadeLeft=o,this.fadeRight=l}equals(t){return t instanceof o&&this.type===t.type&&(0,r.q)(this.lineStart,t.lineStart)&&(0,r.q)(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return(0,r.j)(this.lineStart,this.lineEnd)}}},23862:(t,e,n)=>{n.d(e,{Ex:()=>p,FH:()=>m,Hh:()=>u,Lp:()=>v,Xz:()=>c,_7:()=>a,de:()=>f,fA:()=>h,io:()=>y,o8:()=>d,vf:()=>g,vt:()=>l,xF:()=>L});var r,i=n(9392),s=n(18117),o=n(12482);function l(t,e,n){return u(t,e,n)}function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,i.fA)(t,e,n)}function a(t){return t}function c(t){return t}function h(t,e,n){return(0,i.fA)(t,e,n)}function d(t){const[e,n,r]=t;return t.length>3?[e,n,r,t[3]]:[e,n,r]}function f(t){var e;return t[3]=(null!==(e=t.length>3?t[3]:void 0)&&void 0!==e?e:r.NONE)|r.TARGET,t}function p(t){var e;return Boolean((null!==(e=t.length>3?t[3]:void 0)&&void 0!==e?e:r.NONE)&r.TARGET)}function v(t,e,n,r){let{coordinateHelper:i,elevationInfo:s}=n;return t?g(i.vectorToDehydratedPoint(t,_),e,s,r):null}function g(t,e,n){var r,i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u();return s[0]=t.x,s[1]=t.y,s[2]=null!==(r=t.z)&&void 0!==r?r:0,null==e||("2d"===e.type?s[2]=0:s[2]=null!==(i=(0,o.wS)(e,t,n,o.qt))&&void 0!==i?i:0),s}function y(t,e,n){return n?((0,s.J)(n,t[0],t[1],t[2],e),n):(0,s.T)(t[0],t[1],t[2],e)}function L(t,e,n,r,i){let{z:l,m:u}=n;const{spatialReference:a,elevationInfo:c}=r;let h;if(null==l&&null==u)h=void 0;else if(null==e||"2d"===e.type)h=null!==l&&void 0!==l?l:void 0;else{var d;h=null!==(d=(0,o.xS)(e,t,a,o.qt,c))&&void 0!==d?d:0}const[f,p]=t;return i?(0,s.J)(i,f,p,h,a):i=(0,s.T)(f,p,h,a),null!=u&&(i.m=u,i.hasM=!0),i}function m(t,e,n,i){var s,l;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u();const[c,h]=t;return a[0]=c,a[1]=h,t.length>3&&(a[3]=null!==(s=t[3])&&void 0!==s?s:r.NONE),"3d"!==(null===n||void 0===n?void 0:n.type)?(a[2]=e.value,a):(a[2]=null!==(l=(0,o.Fo)(n,c,h,e.value,i,e.elevationInfo,o.qt))&&void 0!==l?l:0,a)}!function(t){t[t.NONE=0]="NONE",t[t.TARGET=1]="TARGET"}(r||(r={}));const _=(0,s.T)(0,0,0,null)},29772:(t,e,n)=>{n.d(e,{Ce:()=>p,NH:()=>f,Of:()=>y,Qc:()=>L,Xg:()=>h,cL:()=>N,e5:()=>g,ll:()=>v,sT:()=>_,vp:()=>m});var r,i=n(24648),s=n(31633),o=n(20664),l=n(9392),u=n(14487),a=n(80963),c=n(41868);function h(t){return d(t,r.Horizontal)}function d(t,e){const{hasZ:n,spatialReference:o}=t,l=(0,c.l)(o);let u=0;const a=(0,s._H)(l);if(null==a)return null;const h=e===r.Direct?m:_;for(const r of t.paths){if(r.length<2)continue;const t=r.length-1;for(let e=0;e<t;++e){const t=r[e];A[0]=t[0],A[1]=t[1],A[2]=n?t[2]:0;const i=r[e+1];b[0]=i[0],b[1]=i[1],b[2]=n?i[2]:0;const s=h(A,b,o);if(null==s)return null;u+=s.value}}return(0,i.d_)(u,a)}function f(t,e){const{spatialReference:n}=t;return(0,a.aI)(n,e.spatialReference)?(A[0]=t.x,A[1]=t.y,A[2]=t.hasZ?t.z:0,b[0]=e.x,b[1]=e.y,b[2]=e.hasZ?e.z:0,function(t,e,n){const r=E(t,e,n);return null!=r?{direct:(0,i.d_)(r.direct,r.unit),horizontal:(0,i.d_)(r.horizontal,r.unit),vertical:(0,i.d_)(r.vertical,r.unit)}:null}(A,b,n)):null}function p(t,e){const{spatialReference:n}=t;return(0,a.aI)(n,e.spatialReference)?(A[0]=t.x,A[1]=t.y,A[2]=t.hasZ?t.z:0,b[0]=e.x,b[1]=e.y,b[2]=e.hasZ?e.z:0,m(A,b,n)):null}function v(t,e){const{spatialReference:n}=t;return(0,a.aI)(n,e.spatialReference)?(A[0]=t.x,A[1]=t.y,A[2]=t.hasZ?t.z:0,b[0]=e.x,b[1]=e.y,b[2]=e.hasZ?e.z:0,_(A,b,n)):null}function g(t,e){const{spatialReference:n}=t;return(0,a.aI)(n,e.spatialReference)?(A[0]=t.x,A[1]=t.y,A[2]=t.hasZ?t.z:0,b[0]=e.x,b[1]=e.y,b[2]=e.hasZ?e.z:0,N(A,b,n)):null}function y(t){return null!=t?L(t.hasZ?t.z:0,t.spatialReference):null}function L(t,e){const n=(0,s.mq)(e);return null!=n?(0,i.d_)(null!==t&&void 0!==t?t:0,n):null}function m(t,e,n){const s=E(t,e,n,r.Direct);return null!=s?(0,i.d_)(s.direct,s.unit):null}function _(t,e,n){const s=E(t,e,n,r.Horizontal);return null!=s?(0,i.d_)(s.horizontal,s.unit):null}function N(t,e,n){const s=E(t,e,n,r.Vertical);return null!=s?(0,i.d_)(s.verticalSigned,s.unit):null}function E(t,e,n,i){const l=(0,c.l)(n),a=(0,s._H)(l);if(null==a)return null;const h=e[2]-t[2];if(i===r.Vertical)return{verticalSigned:h,unit:a};if(!(0,u.F)(t,n,x,l)||!(0,u.F)(e,n,M,l))return null;if(i===r.Direct)return{direct:(0,o.j)(M,x),unit:a};if((0,o.i)(T,t[0],t[1],e[2]),!(0,u.F)(T,n,T,l))return null;const d=(0,o.j)(T,M);return i===r.Horizontal?{horizontal:d,unit:a}:{direct:(0,o.j)(M,x),horizontal:d,vertical:Math.abs(h),unit:a}}!function(t){t[t.Direct=0]="Direct",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical"}(r||(r={}));const A=(0,l.vt)(),b=(0,l.vt)(),x=(0,l.vt)(),M=(0,l.vt)(),T=(0,l.vt)()},30484:(t,e,n)=>{n.d(e,{v:()=>o});var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.n.ALL),this.intersectionPoint=t}equals(t){return t instanceof o&&(0,r.q)(this.intersectionPoint,t.intersectionPoint)}}},41868:(t,e,n)=>{n.d(e,{l:()=>o});var r=n(34111),i=n(98510),s=n(80963);function o(t){return(0,s.B3)(t)?(0,s.oT)(t)||(0,s.K8)(t)||(0,s.x1)(t)||(0,r.jA)(t)?i.Y0:t:(0,i.lO)(t)}},56572:(t,e,n)=>{n.d(e,{l:()=>o});n(81806),n(76460);var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e,n,r){super(r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.n.ALL),this.previousVertex=t,this.centerVertex=e,this.nextVertex=n}equals(t){return t instanceof o&&(0,r.q)(this.previousVertex,t.previousVertex)&&(0,r.q)(this.centerVertex,t.centerVertex)&&(0,r.q)(this.nextVertex,t.nextVertex)}}},63078:(t,e,n)=>{n.d(e,{N:()=>c});var r=n(35143),i=n(69539),s=n(42553),o=n(46053),l=n(85842);let u=class extends s.A{constructor(){super(...arguments),this.enabled=!0}};(0,r._)([(0,o.MZ)({type:Boolean})],u.prototype,"enabled",void 0),u=(0,r._)([(0,l.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],u);let a=class extends s.A{constructor(t){super(t),this.lineSnapper=new u,this.parallelLineSnapper=new u,this.rightAngleSnapper=new u,this.rightAngleTriangleSnapper=new u,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new i.A([255,127,0]),this.orangeTransparent=new i.A([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,r._)([(0,o.MZ)({type:u,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"lineSnapper",void 0),(0,r._)([(0,o.MZ)({type:u,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"parallelLineSnapper",void 0),(0,r._)([(0,o.MZ)({type:u,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"rightAngleSnapper",void 0),(0,r._)([(0,o.MZ)({type:u,constructOnly:!0,nonNullable:!0,json:{write:!0}})],a.prototype,"rightAngleTriangleSnapper",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],a.prototype,"shortLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],a.prototype,"distance",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"pointThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"intersectionParallelLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"parallelLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],a.prototype,"verticalLineThresholdMeters",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"touchSensitivityMultiplier",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],a.prototype,"pointOnLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:i.A,nonNullable:!0})],a.prototype,"orange",void 0),(0,r._)([(0,o.MZ)({type:i.A,nonNullable:!0})],a.prototype,"orangeTransparent",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"lineHintWidthReference",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"lineHintWidthTarget",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],a.prototype,"lineHintFadedExtensions",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],a.prototype,"parallelLineHintWidth",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],a.prototype,"parallelLineHintLength",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],a.prototype,"parallelLineHintOffset",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],a.prototype,"rightAngleHintSize",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],a.prototype,"rightAngleHintOutlineSize",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],a.prototype,"satisfiesConstraintScreenThreshold",void 0),a=(0,r._)([(0,l.$)("esri.views.interactive.snapping.Settings.Defaults")],a);const c=new a},64753:(t,e,n)=>{n.d(e,{m:()=>r});class r{constructor(t,e){this.isDraped=t,this.domain=e}}},70330:(t,e,n)=>{n.d(e,{BY:()=>A,H3:()=>L,Mo:()=>g,Tu:()=>b,io:()=>p,is:()=>N,nf:()=>_,pM:()=>v,xX:()=>y});var r=n(68134),i=n(41289),s=n(34154),o=n(18288),l=n(20664),u=n(18117),a=n(68295),c=n(57308),h=n(82307),d=n(23862),f=n(42052);const p=Symbol("grid-placement-graphic");function v(t,e){const n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function g(t,e){return Math.sqrt(v(t,e))}function y(t,e){e.sort((e,n)=>(0,l.s)(e.targetPoint,t)-(0,l.s)(n.targetPoint,t))}var L,m;function _(t){var e;let{parameters:{point:n,distance:r,returnEdge:l,vertexMode:c,coordinateHelper:{spatialReference:h},filter:d},mode:f,returnZ:p,filter:v}=t;const g=null!==(e=null===v||void 0===v?void 0:v.clone())&&void 0!==e?e:new a.A({where:"1=1"});return g.returnZ=null!==p&&void 0!==p?p:"3d"===f,d&&(g.geometry=d.geometry,g.distance=d.distance,g.spatialRelationship=d.spatialRelationship,g.where=(0,s.mA)(g.where,d.where),g.timeExtent=(0,o.pJ)(g.timeExtent,d.timeExtent),g.objectIds=function(t,e){return t||e?e?t?Array.from((0,i.E$)(new Set(t),new Set(e))):e:t:null}(g.objectIds,d.objectIds)),{point:(0,u.T)(n[0],n[1],n[2],h.toJSON()),mode:f,distance:r,returnEdge:l,vertexMode:c,query:g.toJSON()}}function N(t,e,n){return{left:(0,d.Lp)(t.leftVertex.pos,e,n),right:(0,d.Lp)(t.rightVertex.pos,e,n)}}(m=L||(L={}))[m.TARGET=0]="TARGET",m[m.REFERENCE=1]="REFERENCE",m[m.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION";const E=Symbol("snapping-toggle");function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=(0,r.wB)(()=>({view:t.view,snappingOptions:t.snappingOptions}),n=>{let{view:r,snappingOptions:i}=n;if(t.removeHandles(E),!r||!i)return;const s=c.o.TOOL,o=[r.on("key-down",t=>{t.key!==h.fn.toggle||t.repeat||(i.enabledToggled=!0,e())},s),r.on("key-up",t=>{t.key===h.fn.toggle&&(i.enabledToggled=!1,e())},s),r.on("pointer-move",t=>{const n=t.native.ctrlKey;i.enabledToggled!==n&&(i.enabledToggled=n,e())},s)];t.addHandles(o,E)},r.pc);t.addHandles(n)}function b(t){var e;return(0,f.r)(t)&&"utilityNetworks"in t&&!(null===(e=t.utilityNetworks)||void 0===e||!e.length)}},74050:(t,e,n)=>{n.d(e,{Dh:()=>u,IB:()=>c,Vv:()=>r,fg:()=>l,jI:()=>a});n(15941);var r,i=n(19555),s=n(72745);function o(t,e){return t[0]*e[1]-t[1]*e[0]}function l(t,e,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;return(0,i.Re)(d,r,n),(0,i.Re)(p,e,s),function(t,e,n){const r=(0,i.Om)(n,e)/(0,i.m3)(n);(0,i.hs)(t,n,r)}(v,p,d),(0,i.WQ)(t,s,v)}function u(t,e,n,r){(0,i.Re)(d,e,n);const s=r/(0,i.Bw)(d);return(0,i.Ln)(t,n,d,s)}function a(t,e){const n=t.start,s=t.end,l=e.start,u=e.end,a=(0,i.Re)(d,s,n),c=(0,i.Re)(f,u,l),g=o(a,c);if(Math.abs(g)<=h)return[];const y=(0,i.Re)(p,n,l),L=o(c,y)/g,m=o(a,y)/g;if(L>=0){if(m>=0||e.type===r.LINE)return[(0,i.Ln)(v,n,a,L)]}else if(t.type===r.LINE&&(m>=0||e.type===r.LINE))return[(0,i.Ln)(v,n,a,L)];return[]}function c(t,e,n){const s=[],o=(0,i.Re)(d,t.end,t.start),l=(0,i.Re)(f,t.start,e),u=(0,i.m3)(o),a=2*(0,i.Om)(o,l),c=a*a-4*u*((0,i.m3)(l)-n*n);if(0===c){const e=-a/(2*u);(t.type===r.LINE||e>=0)&&s.push((0,i.Ln)(v,t.start,o,e))}else if(c>0){const e=Math.sqrt(c),n=(-a+e)/(2*u);(t.type===r.LINE||n>=0)&&s.push((0,i.Ln)(v,t.start,o,n));const l=(-a-e)/(2*u);(t.type===r.LINE||l>=0)&&s.push((0,i.Ln)(p,t.start,o,l))}return s}!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(r||(r={}));const h=1e-6,d=(0,s.vt)(),f=(0,s.vt)(),p=(0,s.vt)(),v=(0,s.vt)()},75543:(t,e,n)=>{n.d(e,{FX:()=>P,Mn:()=>E,QT:()=>F,WG:()=>O,ej:()=>x,en:()=>V,fT:()=>st,i7:()=>_,jf:()=>D,qR:()=>Z,xW:()=>rt});var r=n(18690),i=n(15941),s=n(19555),o=n(72745),l=n(20664),u=n(9392),a=n(43047),c=n(55855),h=n(63885),d=n(7137),f=n(13927),p=n(78315),v=n(94966),g=n(23862),y=n(79337),L=n(74050);class m{intersect(t){return Y(this,t)}closestPoints(t){return[this.closestTo(t)]}}class _ extends m{constructor(t){super(),this.point=t}equals(t){return this===t||st(t)&&(0,l.q)(this.point,t.point)}closestTo(){return(0,g.o8)(this.point)}}class N extends m{constructor(t,e,n){super(),this.start=t,this.end=e,this.lineLike={start:t,end:e,type:n}}equals(t){return this===t||ot(t)&&this.lineLike.type===t.lineLike.type&&(0,l.q)(this.start,t.start)&&(0,l.q)(this.end,t.end)}closestTo(t){const e=(0,g.Hh)();return(0,y.Yv)(t,this.lineLike,e),e}}class E extends N{constructor(t,e){super(t,e,L.Vv.LINE)}}class A extends N{constructor(t,e){super(t,e,L.Vv.RAY)}}class b extends m{constructor(t){super(),this.constraints=t}equals(t){return this===t||it(t)&&(0,r.aI)(this.constraints,t.constraints,(t,e)=>t.equals(e))}closestTo(t){let e,n=1/0;for(const r of this.constraints){const i=r.closestTo(t),s=(0,l.s)(t,i);s<n&&(n=s,e=i)}return(0,g.o8)(null!==e&&void 0!==e?e:t)}closestPoints(t){return this.constraints.flatMap(e=>e===this?[]:e.closestPoints(t))}}class x extends m{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||at(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const e=(0,g.Hh)();return(0,y.Nm)(t,this.center,this.radius,e),e}}class M extends m{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||ct(t)&&(0,l.q)(this.center,t.center)&&this.radius===t.radius}closestTo(t){const e=(0,g.Hh)();return(0,y.Nm)(t,this.center,this.radius,e),e[2]=this.center[2],e}asCircle(){return new T((0,g.o8)(this.center),this.radius,(0,g.fA)(0,0,1))}}class T extends m{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;super(),this.center=t,this.radius=e,this.normal=n,this.slicePlane=r}equals(t){return this===t||ht(t)&&(0,l.q)(this.center,t.center)&&(0,l.q)(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:e,radius:n}=this;(0,f._I)(this.getPlane(R),t,w);const r=(0,l.a)(w,w,e),i=(0,l.k)(r);if((0,y.Zj)(i,0))return(0,g.o8)(t);const s=n/Math.sqrt(i),o=(0,g.Hh)();(0,l.b)(o,e,r,s);const{slicePlane:u}=this;if(u&&!(0,y.F2)(u,o)){var a;const e=J(u,this);return null!==(a=null===e||void 0===e?void 0:e.closestTo(t))&&void 0!==a?a:(0,g.o8)(t)}return o}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.vt)();return(0,f.O_)(this.center,this.normal,t)}}const w=(0,u.vt)(),R=(0,f.vt)();class Z extends m{constructor(t){super(),this.z=t}equals(t){return this===t||lt(t)&&this.z===t.z}closestTo(t){return(0,g.fA)(t[0],t[1],this.z)}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.vt)();return(0,l.i)(z,0,0,this.z),(0,f.O_)(z,u.Cb,t)}}const z=(0,u.vt)();class j extends m{constructor(t,e,n){super(),this.start=t,this.end=e,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(e),type:n}}equals(t){return this===t||ut(t)&&this.planeLike.type===t.planeLike.type&&(0,l.q)(this.start,t.start)&&(0,l.q)(this.end,t.end)}closestTo(t){const e=(0,g.Hh)();return(0,y.r2)(t,this.planeLike,e),e}closestEndTo(t){const{start:e,end:n}=this.planeLike;return Math.sign((0,s.Om)((0,s.Re)(q,n,e),(0,s.Re)(H,(0,g.Xz)(t),e)))>0?this.end:this.start}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.vt)();const e=(0,l.c)(S,this.end);return e[2]+=1,(0,f.Cr)(this.start,this.end,e,t)}getSlicePlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.vt)();const{start:e,end:n,type:r}=this.planeLike;if(r===y.pJ.PLANE)return;const i=(0,l.i)(S,e[0],e[1],0),s=(0,l.i)(I,n[0],n[1],0),o=(0,l.d)(I,s,i);return(0,f.O_)(i,o,t),t}}const q=(0,o.vt)(),H=(0,o.vt)(),S=(0,u.vt)(),I=(0,u.vt)();class P extends j{constructor(t,e){super(t,e,y.pJ.HALF_PLANE)}}class O extends j{constructor(t,e){super(t,e,y.pJ.PLANE)}}class k extends m{constructor(t,e){super(),this.sphere=(0,p.l)(t,e)}equals(t){return this===t||dt(t)&&(0,p.n)(this.sphere,t.sphere)}closestTo(t){const e=(0,g.Hh)();return(0,p.p)(this.sphere,t,e),e}get center(){return(0,p.a)(this.sphere)}get radius(){return this.sphere[3]}}class V extends m{constructor(t,e,n){super(),this.start=t,this.end=e,this.getZ=n,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(e),type:y.pJ.PLANE}}equals(t){return this===t||ft(t)&&(0,l.q)(this.start,t.start)&&(0,l.q)(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return function(t,e){var n;const r=(0,g.Hh)();return(0,y.r2)(e,t.planeLike,r),r[2]=null!==(n=t.getZ(r[0],r[1]))&&void 0!==n?n:pt,r}(this,t)}addIfOnTheGround(t,e){for(const r of e){var n;const e=null!==(n=this.getZ(r[0],r[1]))&&void 0!==n?n:0;(0,y.Zj)(r[2],e)&&(r[2]=e,t.push(r))}}}class F extends m{constructor(t,e,n){super(),this._x=t,this._y=e,this._z=n}equals(t){return this===t||function(t){return t instanceof F}(t)&&this._x===t._x&&this._y===t._y&&this._z===t._z}closestTo(t){var e,n,r;let[i,s,o]=t;return(0,g.vt)(null!==(e=this._x)&&void 0!==e?e:i,null!==(n=this._y)&&void 0!==n?n:s,null!==(r=this._z)&&void 0!==r?r:o)}}class D extends m{constructor(t,e,n,r,i){super(),this._origin=t,this._spatialReference=e,this._distanceMeters=n,this._z=r,this._directionDegrees=i}equals(t){return this===t||function(t){return t instanceof D}(t)&&(0,s.t2)(this._origin,t._origin)&&this._spatialReference===t._spatialReference&&this._distanceMeters===t._distanceMeters&&this._z===t._z&&this._directionDegrees===t._directionDegrees}closestTo(t){var e;let[n,r,i]=t;return(0,s.hZ)(X,n,r),(0,s.t2)(X,this._origin)||this._applyDirectionAndDistance(X),(0,g.vt)(X[0],X[1],null!==(e=this._z)&&void 0!==e?e:i)}_applyDirectionAndDistance(t){if(null!=this._directionDegrees&&null!=this._distanceMeters)(0,d.vN)(t,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)!function(t,e,n,r,i){let{azimuth:s,distance:o}=(0,d._3)(B,e,r,i);null!==s&&void 0!==s||(s=0);let l=o*Math.cos((s-n)*h.eh);l=Math.max(0,l),(0,d.vN)(t,e,n,l,i)}(t,this._origin,this._directionDegrees,t,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:e}=(0,d._3)(G,this._origin,t,this._spatialReference);(0,d.vN)(t,this._origin,null!==e&&void 0!==e?e:0,this._distanceMeters,this._spatialReference)}}}const X=[0,0],G=new d.Zj;const B=new d.Zj;function Y(t,e){if(it(t)){const n=[];for(const r of t.constraints){const t=r.intersect(e);t&&n.push(t)}return rt(n)}if(it(e))return Y(e,t);if(ft(t))return $(t,e);if(ft(e))return $(e,t);if(st(t)){const{point:n}=t;if(st(e))return(0,l.q)(n,e.point)?t:void 0;const r=e.closestTo(n);return(0,l.G)(r,n)?t:void 0}if(ot(t)){if(st(e))return Y(e,t);if(ot(e))return et((0,y.SO)(t.lineLike,e.lineLike));if(lt(e))return C(t,e);if(ut(e))return et((0,y.Mc)(e.planeLike,t.lineLike));if(at(e))return et((0,y.K4)(t.lineLike,e.center,e.radius));if(ht(e))return et((0,y.IB)(t.lineLike,e));if(ct(e))return function(t,e){let{lineLike:n}=t,{center:r,radius:i}=e;const s=r[2];return et((0,y.K4)(n,r,i).filter(t=>(0,y.Zj)(t[2],s)))}(t,e);if(dt(e))return function(t,e){let{lineLike:n}=t,{sphere:r}=e;return et((0,p.m)(r,n.start,n.end))}(t,e)}else if(lt(t)){if(st(e)||ot(e))return Y(e,t);if(lt(e))return function(t,e){return(0,y.Zj)(t.z,e.z)?t:void 0}(t,e);if(ut(e))return function(t,e){let{z:n}=t,{planeLike:r}=e;const[i,s]=r.start,[o,l]=r.end,u=(0,g.fA)(i,s,n),a=(0,g.fA)(o,l,n);return r.type===y.pJ.PLANE?new E(u,a):new A(u,a)}(t,e);if(at(e))return function(t,e){const[n,r]=e.center;return new M((0,g.fA)(n,r,t.z),e.radius)}(t,e);if(ht(e))return W(t,e);if(ct(e))return function(t,e){return(0,y.Zj)(e.center[2],t.z)?e:void 0}(t,e);if(dt(e))return function(t,e){let{center:n,radius:r}=e;const i=Math.abs(n[2]-t.z);if(i>r&&!(0,y.Zj)(i,r))return;const s=(0,g.fA)(n[0],n[1],t.z),o=Math.sqrt(r**2-i**2);return(0,y.Zj)(o,0)?void 0:new M(s,o)}(t,e)}else if(ut(t)){if(st(e)||ot(e)||lt(e))return Y(e,t);if(ut(e))return tt((0,y.b_)(t.planeLike,e.planeLike));if(at(e))return tt((0,y.Bn)(t.planeLike,e.center,e.radius));if(ht(e))return K(t,e);if(ct(e))return U(t,e);if(dt(e))return Q(t,e)}else if(at(t)){if(st(e)||ot(e)||lt(e)||ut(e))return Y(e,t);if(at(e))return tt((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius));if(ht(e))return;if(ct(e))return function(t,e){const n=(0,s.hG)((0,g.Xz)(t.center),(0,g.Xz)(e.center));return(0,y.Zj)(n,0)&&(0,y.Zj)(t.radius,e.radius)?e:nt((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius),e.center[2])}(t,e);if(dt(e))return}else if(ht(t)){if(st(e)||ot(e)||lt(e)||ut(e)||at(e))return Y(e,t);if(ht(e))return;if(ct(e))return void e.asCircle();if(dt(e))return}else if(ct(t)){if(st(e)||ot(e)||lt(e)||ut(e)||at(e)||ht(e))return Y(e,t);if(ct(e))return function(t,e){if(!(0,y.HG)(t.center,e.center))return;const n=(0,s.hG)((0,g.Xz)(t.center),(0,g.Xz)(e.center));return(0,y.Zj)(n,0)&&(0,y.Zj)(t.radius,e.radius)?t:nt((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius),t.center[2])}(e,t);if(dt(e))return}else if(dt(t)){if(st(e)||ot(e)||lt(e)||ut(e)||at(e)||ct(e))return Y(e,t);if(dt(e))return}}const C=(()=>{const t=(0,f.vt)();return(e,n)=>{const{start:r,end:i}=e;if((0,y.HG)(r,i)&&(0,y.Zj)(r[2],n.z))return e;const s=(0,g.Hh)();return(0,f.U5)(n.getPlane(t),r,i,s)?new _(s):void 0}})();const J=(()=>{const t=(0,c.vt)(),e=(0,u.vt)(),n=(0,u.vt)();return(r,s,o)=>{const{normal:c,center:h,radius:d}=s;(0,v.VV)(c,e,n);const p=(0,f.Qj)(r),L=d*(0,l.e)(p,e),m=d*(0,l.e)(p,n);(0,a.s)(t,h[0],h[1],h[2],1);const N=(0,a.h)(r,t),E=Math.hypot(L,m),A=(0,y.Zj)(E,0);if((0,y.Zj)((0,f.Io)(r,h),0)){if(A)return s;if((0,y.Zj)(d,0))return!o||(0,y.F2)(o,h)?new _((0,g.o8)(h)):void 0;(0,l.h)(e,p,c),(0,l.n)(e,e);const t=new Array,n=(0,u.o8)(h);(0,l.b)(n,n,e,d),o&&!(0,y.F2)(o,n)||t.push(n);const r=(0,u.o8)(h);return(0,l.b)(r,r,e,-d),o&&!(0,y.F2)(o,r)||t.push(r),et(t)}if(A)return;const b=-N/E;if(Math.abs(b)>1||(0,y.Zj)(b,1))return;const x=Math.atan(L/m),M=(0,i.YN)(b)-x,T=Math.PI-M,w=new Array,R=(0,u.vt)();(0,l.b)(R,h,e,d*Math.cos(M)),(0,l.b)(R,R,n,d*Math.sin(M)),w.push(R);const Z=(0,u.vt)();return(0,l.b)(Z,h,e,d*Math.cos(T)),(0,l.b)(Z,Z,n,d*Math.sin(T)),w.push(Z),et(o?(0,y.UL)(o,w):w)}})();const W=(()=>{const t=(0,f.vt)();return(e,n)=>J(e.getPlane(t),n,n.slicePlane)})();const U=(()=>{const t=(0,f.vt)();return(e,n)=>{let{center:r,radius:i}=n;const s=(0,y.Bn)(e.planeLike,r,i),o=r[2];e.getSlicePlane(t);const l=new Array;for(const[u,a]of s){const e=[u,a,o];(0,y.F2)(t,e)&&l.push(e)}return et(l)}})(),K=(()=>{const t=(0,f.vt)(),e=(0,f.vt)();return(n,r)=>J(n.getPlane(t),r,n.getSlicePlane(e))})(),Q=(()=>{const t=(0,f.vt)();return(e,n)=>{let{center:r,radius:i}=n;const s=e.getPlane(t),o=(0,f.mN)(s,r),a=Math.abs(o);if(a>i&&!(0,y.Zj)(a,i))return;const c=Math.sqrt(i**2-o**2);if((0,y.Zj)(c,0)){const t=(0,g.Hh)();return(0,f._I)(s,r,t),new _(t)}const h=(0,g.Hh)(),d=(0,u.o8)((0,f.Qj)(s));return(0,l.b)(h,r,d,o),new T(h,c,d,e.getSlicePlane())}})();function $(t,e){const{planeLike:n,getZ:r}=t,i=new Array;if(st(e))t.addIfOnTheGround(i,(0,y.VT)(n,e.point));else if(ot(e))t.addIfOnTheGround(i,(0,y.Mc)(n,e.lineLike));else if(at(e))for(const[o,l]of(0,y.Bn)(n,e.center,e.radius)){const t=r(o,l);null!=t&&i.push((0,u.fA)(o,l,t))}else if(ut(e)||ft(e))for(const[o,l]of(0,y.b_)(n,e.planeLike)){var s;const t=null!==(s=r(o,l))&&void 0!==s?s:pt;i.push((0,u.fA)(o,l,t))}return et(i)}function tt(t){return rt(t.map(t=>{let[e,n]=t;const r=(0,g.fA)(e,n,0),i=(0,g.fA)(e,n,1);return new E(r,i)}))}function et(t){return rt(t.map(t=>t?new _((0,g._7)(t)):void 0))}function nt(t,e){return et(t.map(t=>{let[n,r]=t;return[n,r,e]}))}function rt(t){var e;if(0!==t.length)return 1===t.length?null!==(e=t[0])&&void 0!==e?e:void 0:new b(t.filter(r.Ru))}function it(t){return t instanceof b}function st(t){return t instanceof _}function ot(t){return t instanceof N}function lt(t){return t instanceof Z}function ut(t){return t instanceof j}function at(t){return t instanceof x}function ct(t){return t instanceof M}function ht(t){return t instanceof T}function dt(t){return t instanceof k}function ft(t){return t instanceof V}const pt=0},79337:(t,e,n)=>{n.d(e,{Bn:()=>d,F2:()=>T,HG:()=>b,IB:()=>m,K4:()=>_,Mc:()=>f,Nm:()=>y,SO:()=>N,UL:()=>M,VT:()=>p,Yv:()=>L,Zj:()=>x,b_:()=>v,pJ:()=>w,r2:()=>g,t1:()=>E});var r=n(15941),i=n(19555),s=n(72745),o=n(20664),l=n(9392),u=n(53494),a=n(13927),c=n(94966),h=n(74050);function d(t,e,n){let{start:r,end:o,type:l}=t;const u=[],a=(0,i.Re)(Z,o,r),c=(0,i.Re)(z,r,e),h=(0,i.m3)(a),d=2*(0,i.Om)(a,c),f=d*d-4*h*((0,i.m3)(c)-n*n);if(0===f){const t=-d/(2*h);(l===w.PLANE||t>=0)&&u.push((0,i.Ln)((0,s.vt)(),r,a,t))}else if(f>0){const t=Math.sqrt(f),e=(-d+t)/(2*h);(l===w.PLANE||e>=0)&&u.push((0,i.Ln)((0,s.vt)(),r,a,e));const n=(-d-t)/(2*h);(l===w.PLANE||n>=0)&&u.push((0,i.Ln)((0,s.vt)(),r,a,n))}return u}function f(t,e){const n=t.start,r=t.end,s=(0,i.Re)(Z,r,n),a=(0,o.i)(q,-s[1],s[0],0),c=e.start,d=e.end,f=(0,o.a)(H,d,c),p=(0,o.e)(f,a),v=(0,o.i)(S,n[0],n[1],0),g=(0,o.a)(I,v,c),y=(0,o.e)(g,a),L=(0,u.FD)();if(Math.abs(p)<L)return Math.abs(y),[];const m=(0,o.b)(P,c,f,y/p);if(e.type===h.Vv.RAY){const t=(0,o.a)(O,m,c);if((0,o.e)(t,f)<-L)return[]}if(t.type===w.HALF_PLANE){const t=(0,i.jb)(z,m,n);if((0,i.Om)(t,s)<-L)return[]}return[(0,l.o8)(m)]}function p(t,e){return function(t,e){let{start:n,end:r,type:i}=t;const s=(0,o.a)(j,e,n),a=(0,o.a)(q,r,n),c=(0,o.h)(H,a,s),d=(0,o.y)(c)/(0,o.y)(a),f=(0,u.FD)();if(d<f)switch(i){case h.Vv.LINE:return[(0,l.o8)(e)];case h.Vv.RAY:return(0,o.e)(a,s)<-f?[]:[(0,l.o8)(e)]}return[]}(A(V,e[2],t),e)}function v(t,e){return N(A(V,0,t),A(F,0,e)).map(t=>{let[e,n]=t;return(0,s.fA)(e,n)})}function g(t,e,n){return L(t,A(V,t[2],e),n)}function y(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,l.vt)();const s=(0,i.Re)(Z,t,e),o=(0,i.Bw)(s);return(0,i.Ln)(r,e,s,0===o?1:n/o),r[2]=t[2],r}function L(t,e){let{start:n,end:r,type:i}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.vt)();const u=(0,o.a)(j,t,n),a=(0,o.a)(q,r,n),c=(0,o.e)(u,a)/(0,o.e)(a,a);return(0,o.b)(s,n,a,i===h.Vv.RAY?Math.max(c,0):c)}const m=(()=>{const t=(0,l.vt)(),e=(0,l.vt)(),n=(0,l.vt)();return(r,u)=>{let{start:d,end:f}=r,{center:p,radius:v,normal:g,slicePlane:y}=u;const L=(0,a.O_)(p,g,k);if(x((0,a.Io)(L,d),0)&&x((0,a.Io)(L,f),0)){(0,c.VV)(g,t,e);const r=(r,s)=>((0,o.d)(n,s,p),(0,i.hZ)(r,(0,o.e)(n,t),(0,o.e)(n,e)),r),u=(0,h.IB)({start:r(Z,d),end:r(z,f),type:h.Vv.LINE},s.uY,v),a=[];for(const[n,i]of u){const r=(0,o.c)((0,l.vt)(),p);(0,o.b)(r,r,t,n),(0,o.b)(r,r,e,i),y&&!T(y,r)||a.push(r)}return a}const m=(0,l.vt)();return(0,a.U5)(L,d,f,m)?!x((0,o.j)(m,p),v)||y&&!T(y,m)?[]:[m]:[]}})();function _(t,e,n){let{start:r,end:s,type:u}=t;const a=[],c=(0,o.d)(j,s,r),d=(0,i.Re)(z,r,e),f=(0,i.m3)(c),p=2*(0,i.Om)(c,d),v=p*p-4*f*((0,i.m3)(d)-n*n);if(0===v){const t=-p/(2*f);(u===h.Vv.LINE||t>=0)&&a.push((0,o.b)((0,l.vt)(),r,c,t))}else if(v>0){const t=Math.sqrt(v),e=(-p+t)/(2*f);(u===h.Vv.LINE||e>=0)&&a.push((0,o.b)((0,l.vt)(),r,c,e));const n=(-p-t)/(2*f);(u===h.Vv.LINE||n>=0)&&a.push((0,o.b)((0,l.vt)(),r,c,n))}return a}function N(t,e){const n=t.start,r=t.end,i=e.start,s=e.end,a=(0,o.a)(j,r,n),c=(0,o.a)(q,s,i),d=(0,o.a)(H,i,n),f=(0,o.h)(S,a,c);if(!x((0,o.e)(d,f),0))return[];const p=(0,o.y)(f);if(x(p,0))return[];const v=(0,o.h)(I,d,c),g=(0,o.e)(v,f)/p,y=(0,o.b)(P,n,a,g);if(t.type===h.Vv.RAY){const t=(0,o.a)(O,y,n);if((0,o.e)(a,t)<-(0,u.FD)())return[]}if(e.type===h.Vv.RAY){const t=(0,o.a)(O,y,i);if((0,o.e)(c,t)<-(0,u.FD)())return[]}return[(0,l.o8)(y)]}function E(t,e,n,r){const[o,l]=t,[u,a]=n,c=u-o,h=a-l,d=c*c+h*h,f=Math.sqrt(d);if(f>e+r)return[];if(f<Math.abs(e-r))return[];if(x(f,0)&&x(e,r))return[];const p=(e*e-r*r+d)/(2*f),v=Math.sqrt(e*e-p*p),g=v*h/f,y=v*c/f,[L,m]=(0,i.Cc)(Z,t,n,p/f);return x(g,y)?[(0,s.fA)(L,m)]:[(0,s.fA)(L+g,m-y),(0,s.fA)(L-g,m+y)]}function A(t,e,n){let{start:r,end:i,type:s}=n;return(0,o.i)(t.start,r[0],r[1],e),(0,o.i)(t.end,i[0],i[1],e),t.type=R[s],t}function b(t,e){return x(t[2],e[2])}function x(t,e){return(0,r.Sp)(Math.abs(t-e),0,(0,u.FD)())}function M(t,e){return e.filter(e=>T(t,e))}function T(t,e){return(0,a.Tj)(t,e)}var w;!function(t){t[t.PLANE=0]="PLANE",t[t.HALF_PLANE=1]="HALF_PLANE"}(w||(w={}));const R={[w.PLANE]:h.Vv.LINE,[w.HALF_PLANE]:h.Vv.RAY},Z=(0,s.vt)(),z=(0,s.vt)(),j=(0,l.vt)(),q=(0,l.vt)(),H=(0,l.vt)(),S=(0,l.vt)(),I=(0,l.vt)(),P=(0,l.vt)(),O=(0,l.vt)(),k=(0,a.vt)(),V={start:(0,l.vt)(),end:(0,l.vt)(),type:h.Vv.LINE},F={start:(0,l.vt)(),end:(0,l.vt)(),type:h.Vv.LINE}},99791:(t,e,n)=>{var r;n.d(e,{n:()=>r}),function(t){t[t.FEATURE=1]="FEATURE",t[t.SELF=2]="SELF",t[t.ALL=3]="ALL"}(r||(r={}))}}]);
//# sourceMappingURL=16167.cf0bec34.chunk.js.map