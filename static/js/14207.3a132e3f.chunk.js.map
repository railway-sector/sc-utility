{"version":3,"file":"static/js/14207.3a132e3f.chunk.js","mappings":"iaAIioD,IAAIA,EAAE,cAAcC,EAAAA,EAAEC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,0BAA0B,EAAED,KAAKE,KAAK,cAAcF,KAAKG,aAAa,KAAKH,KAAKI,gBAAgB,EAAEJ,KAAKK,wBAAuB,EAAGL,KAAKM,0BAAyB,EAAGN,KAAKO,qBAAqB,KAAKP,KAAKQ,iBAAiB,IAAIC,EAAAA,CAAC,CAACC,UAAAA,GAAa,MAAMC,MAAMb,GAAGE,KAAKY,EAAE,wBAAwBd,EAAEA,EAAE,KAAKF,IAAGiB,EAAAA,EAAAA,MAAKb,KAAKK,wBAAwB,MAAMO,EAAEE,EAAE,IAAIC,EAAAA,EAAE,CAACC,MAAMhB,KAAKW,MAAMX,KAAKgB,MAAML,MAAMM,sBAAsB,EAAEC,wBAAuB,EAAGC,mBAAmB,CAACC,mBAAmBA,CAACtB,EAAEc,IAAI,IAAIS,EAAAA,EAAE,CAACC,kBAAkBtB,KAAKG,aAAaL,EAAEyB,yBAAyBX,EAAEY,kBAAkBxB,KAAKyB,KAAKD,oBAAoBE,gBAAgB9B,EAAE,CAACE,EAAEF,IAAI,IAAI+B,EAAAA,EAAE,CAACL,kBAAkBtB,KAAKW,MAAMC,EAAEW,yBAAyB3B,EAAEO,aAAaL,EAAE8B,eAAe5B,KAAKgB,MAAMS,KAAKG,iBAAiB,KAAKC,aAAa/B,GAAG,IAAIgC,EAAAA,EAAEhC,MAAM,GAAGE,KAAK+B,KAAK,eAAejB,GAAGd,KAAKM,0BAA0BN,KAAK+B,KAAK,oBAAoB,IAAIC,EAAAA,EAAE,CAACV,kBAAkBtB,QAAQ,gBAAgBA,KAAKgB,MAAM,CAAC,MAAMlB,EAAEE,KAAKgB,MAAMhB,KAAKQ,iBAAiByB,IAAI,IAAInC,EAAEoC,YAAY,IAAIlC,KAAKG,aAAagC,gBAAgB,CAAC,GAAG,kBAAkBrC,EAAE,CAAC,MAAMc,EAAEd,EAAEE,KAAKQ,iBAAiByB,IAAI,IAAIrB,EAAEwB,cAAc,CAACtC,EAAEc,MAAKyB,EAAAA,EAAAA,IAAEvC,EAAEc,IAAIZ,KAAKQ,iBAAiB8B,WAAWtC,KAAKG,aAAaoC,wBAAwB,CAACvC,KAAK+B,KAAK,oBAAoB/B,KAAKwC,oBAAoBxC,KAAKQ,iBAAiB8B,WAAWtC,KAAKyC,kBAAkB,CAAC,sBAAMD,GAAmB,UAAUxC,KAAKG,aAAasC,iBAAiB,CAAC,MAAM3C,GAAG,IAAG4C,EAAAA,EAAAA,IAAE5C,GAAG,OAAO,MAAMA,CAAC,CAACE,KAAK2C,YAAY3C,KAAK4C,YAAWC,EAAAA,EAAAA,IAAE,IAAI7C,KAAKyB,KAAKqB,aAAa,IAAI9C,KAAK+C,wBAAwBC,EAAAA,KAAIhD,KAAK+C,wBAAwB/C,KAAKiD,4BAA4BjD,KAAKG,aAAa+C,sBAAsB,CAACC,OAAAA,GAAUnD,KAAKQ,iBAAiB2C,UAAUnD,KAAK+B,KAAK,qBAAoBqB,EAAAA,EAAAA,IAAEpD,KAAKqD,oBAAoBrD,KAAK+B,KAAK,gBAAeqB,EAAAA,EAAAA,IAAEpD,KAAKG,cAAc,CAAC,SAAIQ,GAAQ,OAAOX,KAAKgB,MAAML,KAAK,CAAC,gBAAI2C,GAAe,OAAOtD,KAAKgB,MAAMuC,GAAG,CAAC,QAAI9B,GAAO,OAAOzB,KAAKgB,MAAMS,IAAI,CAAC,mBAAIC,GAAiB,IAAA8B,EAAC,OAAwB,QAAxBA,EAAOxD,KAAKG,oBAAY,IAAAqD,OAAA,EAAjBA,EAAmB9B,eAAe,CAAC,sBAAIN,GAAoB,IAAAqC,EAAC,OAAwB,QAAxBA,EAAOzD,KAAKG,oBAAY,IAAAsD,OAAA,EAAjBA,EAAmBrC,kBAAkB,CAAC,4BAAIsC,GAA2B,QAAQ,MAAM1D,KAAK0B,kBAAkB1B,KAAK0B,gBAAgBiC,UAAU,CAAC,8BAAIC,GAA6B,OAAO,MAAM5D,KAAKqD,mBAAmBrD,KAAKqD,kBAAkBM,SAAS,CAAC,aAAIA,GAAW,IAAAE,EAAC,OAA2B,QAA3BA,EAAO7D,KAAKgB,MAAM2C,iBAAS,IAAAE,GAAAA,CAAI,CAAC,YAAIC,GAAU,IAAAC,EAAC,SAA0B,QAAjBA,EAAA/D,KAAKG,oBAAY,IAAA4D,GAAjBA,EAAmBD,UAAU,MAAM9D,KAAK0B,iBAAiB1B,KAAK0B,gBAAgBoC,UAAU,MAAM9D,KAAKqD,mBAAmBrD,KAAKqD,kBAAkBS,UAAU9D,KAAKQ,iBAAiBsD,SAAS,CAAC,sBAAIE,GAAoB,IAAAC,EAAC,OAAwB,QAAxBA,EAAOjE,KAAKG,oBAAY,IAAA8D,OAAA,EAAjBA,EAAmBD,kBAAkB,CAAC,gCAAIE,GAA8B,IAAAC,EAAC,OAAwB,QAAxBA,EAAOnE,KAAKG,oBAAY,IAAAgE,OAAA,EAAjBA,EAAmBD,4BAA4B,CAAC,kBAAIE,GAAiB,OAAOpE,KAAKgB,MAAMoD,cAAc,CAAC,eAAIlC,GAAa,IAAAmC,EAAC,OAA6B,QAA7BA,EAAOrE,KAAKgB,MAAMkB,mBAAW,IAAAmC,EAAAA,EAAE,CAAC,CAAC,qBAAIC,GAAoB,OAAOtE,KAAKgB,MAAMsD,iBAAiB,CAAC,gBAAIC,GAAe,OAAOvE,KAAKgB,MAAMuD,YAAY,CAACC,4BAAAA,CAA6B1E,GAAGE,KAAKG,aAAaqE,6BAA6B1E,EAAE,CAAC2E,8BAAAA,CAA+B3E,GAAGE,KAAKG,aAAasE,+BAA+B3E,EAAE,CAAC4E,2BAAAA,GAA6B,IAAAC,EAAAC,EAAuC,QAAtCD,GAAAC,EAAA5E,KAAKgB,OAAM0D,mCAA2B,IAAAC,GAAtCA,EAAAE,KAAAD,EAA0C,CAACE,gBAAAA,CAAiBhF,EAAEc,EAAEhB,GAAG,MAAMkB,GAAEiE,EAAAA,EAAAA,IAAEjF,EAAE,CAACkF,SAASpE,EAAEqE,OAAOrF,IAAI,GAAI,OAADkB,QAAC,IAADA,GAAAA,EAAGoE,MAAM,CAAC,MAAMpF,EAAEgB,EAAEoE,MAAMpF,EAAE,GAAGA,EAAE,GAAG,IAAIA,EAAE,GAAGA,EAAE,GAAG,IAAIA,EAAE,GAAGA,EAAE,GAAG,GAAG,CAAC,OAAOgB,CAAC,CAACqE,qBAAAA,CAAsBrF,EAAEc,EAAEhB,EAAEkB,GAAG,OAAOsE,EAAAA,EAAAA,IAAEtF,GAACuF,EAAAA,EAAAA,GAAA,CAAEL,SAASpE,EAAEqE,OAAOrF,GAAKkB,GAAG,CAACwE,MAAAA,CAAOxF,EAAEc,GAAG,GAAGZ,KAAKgB,MAAMoD,eAAe,CAAC,MAAMxE,EAAEI,KAAKgB,MAAMoD,eAAemB,KAAK3E,GAAGA,EAAE2C,MAAMzD,GAAG,GAAGF,EAAE,CAAC,MAAME,EAAEE,KAAKW,iBAAiB6E,EAAAA,EAAExF,KAAKW,MAAM,KAAKG,GAAE2E,EAAAA,EAAAA,IAAE7F,EAAEE,EAAEc,GAAG,MAAM,CAACV,KAAK,UAAUwF,QAAQ5E,EAAEH,MAAMG,EAAEH,MAAM,CAAC,CAAC,OAAO,IAAI,CAACgF,iBAAAA,CAAkB7F,EAAEc,GAAG,OAAOZ,KAAKG,aAAaH,KAAKG,aAAawF,kBAAkB7F,EAAEc,GAAGgF,QAAQC,QAAQ,CAACC,uBAAAA,CAAwBhG,EAAEc,GAAG,OAAOZ,KAAKG,aAAaH,KAAKG,aAAa2F,wBAAwBhG,EAAEc,GAAG,IAAI,CAACmF,kBAAAA,CAAmBjG,EAAEc,GAAG,OAAOZ,KAAKG,aAAaH,KAAKG,aAAa4F,mBAAmBjG,EAAEc,GAAG,IAAI,CAACoF,YAAAA,CAAalG,GAAE,IAAAmG,EAAC,MAAMrF,EAAmB,QAAlBqF,EAACjG,KAAKG,oBAAY,IAAA8F,OAAA,EAAjBA,EAAmBpE,aAAa,IAAIjB,EAAE,OAAOE,EAAAA,EAAAA,MAAI,MAAMoF,IAAItG,EAAEuG,OAAO/C,GAAGxC,EAAEwF,mBAAmB,MAAM,OAAOxF,EAAEyF,OAAOzG,EAAEE,EAAEyD,KAAKH,CAAC,CAACkD,SAAAA,CAAUxG,EAAEF,GAAE,IAAA2G,EAAC,MAAMzF,EAAmB,QAAlByF,EAACvG,KAAKG,oBAAY,IAAAoG,OAAA,EAAjBA,EAAmB1E,aAAa,IAAIf,EAAE,OAAO0F,EAAE,MAAMpD,GAAEqD,EAAAA,EAAAA,IAAE3G,GAAG,GAAG,IAAIsD,EAAEsD,OAAO,OAAOF,EAAE,GAAGpD,EAAE,aAAaxC,EAAAA,EAAE,CAAC,MAAMd,EAAEsD,EAAEuD,IAAI7G,GAAGA,EAAEyD,MAAM2C,IAAItF,EAAEuF,OAAOzD,GAAG5B,EAAE8F,oBAAoBhH,EAAE,MAAM,OAAOkB,EAAE+F,QAAQjG,EAAEd,GAAG4C,CAAC,CAAC,GAAG,iBAAiBU,EAAE,GAAG,CAAC,MAAMtD,EAAEsD,GAAG8C,IAAItF,EAAEuF,OAAOzD,GAAG5B,EAAE8F,oBAAoBhH,EAAE,MAAM,OAAOkB,EAAEgG,aAAalG,EAAEd,GAAG4C,CAAC,CAAC,OAAO8D,CAAC,CAACvD,yBAAAA,GAA4B,MAAMvB,gBAAgB5B,EAAEuD,kBAAkBzC,GAAGZ,KAAK,GAAG,MAAMF,GAAG,MAAMc,EAAE,OAAO,MAAMhB,EAAEmH,IAAsC,IAApCC,eAAepH,EAAEqH,cAAcnG,GAAEiG,EAAI/G,KAAKO,sBAAqB2G,EAAAA,EAAAA,IAAEtH,EAAEI,KAAKO,qBAAqB4G,EAAAA,GAAErG,GAAG,MAAMhB,GAAGA,EAAEsH,UAAUpH,KAAKO,sBAAsB,MAAMK,GAAGA,EAAEwG,UAAUpH,KAAKO,uBAAuBP,KAAK4C,YAAWC,EAAAA,EAAAA,IAAE,SAAAwE,EAAAC,EAAA,MAAK,CAACN,eAAgC,QAAlBK,EAACrH,KAAKG,oBAAY,IAAAkH,OAAA,EAAjBA,EAAmBL,eAAeC,cAA+B,QAAlBK,EAACtH,KAAKG,oBAAY,IAAAmH,OAAA,EAAjBA,EAAmBL,gBAAgBnH,GAAGF,EAAEE,GAAGyH,EAAAA,IAAG,CAACxE,qBAAAA,GAAwB,MAAMjD,EAAEE,KAAKyB,KAAKqB,aAAa9C,KAAKG,aAAaqH,kBAAkB1H,EAAEE,KAAKyB,KAAKgG,mBAAmBzH,KAAKG,aAAauH,qBAAqB,IAAG5H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,iCAA4B,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,YAAO,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,IAAE,CAACE,eAAc,KAAMlI,EAAEiI,UAAU,aAAQ,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,QAAQ,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,eAAe,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,OAAO,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,IAAE,CAACE,eAAc,KAAMlI,EAAEiI,UAAU,oBAAe,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,kBAAkB,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,IAAE,CAACE,eAAc,KAAMlI,EAAEiI,UAAU,yBAAoB,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,qBAAqB,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,2BAA2B,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,IAAE,CAACG,UAAS,KAAMnI,EAAEiI,UAAU,6BAA6B,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,YAAY,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,IAAE,CAACG,UAAS,KAAMnI,EAAEiI,UAAU,WAAW,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,iBAAiB,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,cAAc,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,oBAAoB,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,uBAAkB,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,eAAe,OAAM9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,IAAE,CAACE,eAAc,KAAMlI,EAAEiI,UAAU,8BAAyB,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,IAAE,CAACE,eAAc,KAAMlI,EAAEiI,UAAU,gCAA2B,IAAQ9H,EAAAA,EAAAA,IAAE,EAAC6H,EAAAA,EAAAA,OAAKhI,EAAEiI,UAAU,yBAAoB,GAAQjI,GAAEG,EAAAA,EAAAA,IAAE,EAACiI,EAAAA,EAAAA,GAAE,oDAAoDpI,GAAG,MAAM6G,GAAE1F,EAAAA,EAAAA,K,iJCA5jP,MAAMF,UAAUwC,EAAAA,GAAEvD,WAAAA,GAAcE,QAAQC,KAAKE,KAAK,yBAAyBF,KAAKgI,GAAGhI,KAAKuD,GAAG,E,uBCAyf,IAAIlB,EAAE,eAAcQ,EAAAA,EAAAA,IAAEjD,EAAAA,KAAIC,WAAAA,CAAYiB,GAAGf,MAAMe,GAAGd,KAAKC,0BAA0B,EAAED,KAAKiI,UAAU,KAAKjI,KAAKsE,mBAAkB,EAAGtE,KAAKW,MAAM,IAAIgH,EAAE3H,KAAK2D,WAAU,CAAE,CAACjD,UAAAA,GAAaV,KAAK+B,KAAK,YAAY,IAAIgG,EAAAA,EAAE,CAAC/G,MAAMhB,KAAKC,0BAA0BD,KAAKC,4BAA4B,CAACkD,OAAAA,GAAUnD,KAAK+B,KAAK,aAAYnB,EAAAA,EAAAA,IAAEZ,KAAKiI,WAAW,CAAC,kBAAI7D,GAAiB,OAAOpE,KAAKkI,aAAa,CAAC,YAAIpE,GAAU,IAAAqE,EAAC,QAAsB,QAAfA,EAACnI,KAAKiI,iBAAS,IAAAE,IAAdA,EAAgBrE,SAAQ,CAAC,oBAAIsE,GAAmB,OAAOpI,KAAKiI,UAAU9H,aAAaiI,gBAAgB,CAAC9C,MAAAA,CAAOxE,EAAElB,GAAG,OAAOI,KAAKiI,UAAU3C,OAAOxE,EAAE,KAAK,CAAC6E,iBAAAA,CAAkB7E,EAAElB,GAAG,OAAOI,KAAKiI,UAAUtC,kBAAkB7E,EAAElB,EAAE,CAACyI,cAAAA,CAAevH,GAAGd,KAAKiI,UAAU9H,aAAamI,qBAAqBxH,EAAE,CAAC,gBAAIyD,GAAe,OAAOvE,KAAKiI,UAAU9H,aAAaoI,qBAAqB,CAAC,mBAAMC,GAAgB,OAAOxI,KAAKoE,cAAc,CAACkC,SAAAA,CAAUxF,EAAElB,GAAG,OAAOI,KAAKiI,UAAU3B,UAAUxF,GAAEkC,EAAAA,EAAAA,GAAEpD,GAAG,CAACoG,YAAAA,CAAalF,GAAG,OAAOd,KAAKiI,UAAUjC,aAAalF,EAAE,CAAC4D,2BAAAA,GAA8B1E,KAAKyI,KAAK,2BAA2B,CAAC,QAAIC,GAAO,MAAM,CAACC,oBAAoB3I,KAAKiI,UAAU,IAAGnH,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,IAAE,CAACyE,eAAc,KAAMxF,EAAEuF,UAAU,YAAO,IAAQ9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,IAAE,CAACyE,eAAc,KAAMxF,EAAEuF,UAAU,mBAAc,IAAQ9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,OAAKf,EAAEuF,UAAU,iBAAiB,OAAM9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,OAAKf,EAAEuF,UAAU,iCAA4B,IAAQ9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,IAAE,CAAC0E,UAAS,KAAMzF,EAAEuF,UAAU,WAAW,OAAM9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,OAAKf,EAAEuF,UAAU,iBAAY,IAAQ9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,IAAE,CAAClD,KAAK0I,WAAWvG,EAAEuF,UAAU,yBAAoB,IAAQ9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,OAAKf,EAAEuF,UAAU,aAAQ,IAAQ9G,EAAAA,EAAAA,IAAE,EAACsC,EAAAA,EAAAA,OAAKf,EAAEuF,UAAU,iBAAY,GAAQvF,GAAEvB,EAAAA,EAAAA,IAAE,EAAChB,EAAAA,EAAAA,GAAE,wCAAwCuC,GAAG,MAAMK,EAAEL,C","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsProcessor.js","../node_modules/@arcgis/core/views/3d/layers/GraphicsView3DDummyLayer.js","../node_modules/@arcgis/core/views/3d/layers/GraphicsView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import t from\"../../../../Graphic.js\";import e from\"../../../../core/Accessor.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{watch as o,sync as a,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as h}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as u}from\"../../../../core/support/UpdatingHandles.js\";import d from\"../../../../layers/Layer.js\";import{hydrateGraphic as y}from\"../../../../layers/graphics/hydratedFeatures.js\";import{getRenderingInfo as g,getRenderingInfoAsync as m}from\"../../../../renderers/support/renderingInfoUtils.js\";import{suspendResumeExtentOptimism as f}from\"./constants.js\";import{Graphics3DCore as b}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as C}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as w}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as V}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as j}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as v}from\"./graphicUtils.js\";import{normalizeHighlightTarget as G}from\"../support/highlightUtils.js\";import{hasLayerBasedScaleVisibility as E}from\"../../../support/layerViewUtils.js\";let S=class extends e{constructor(i){super(i),this.drapeSourcePriorityOffset=0,this.type=\"graphics-3d\",this.graphicsCore=null,this.drapeSourceType=1,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null,this._updatingHandles=new u}initialize(){const{layer:i}=this,t=\"effectiveScaleRange\"in i?i:null,e=!E()&&this.scaleVisibilityEnabled&&null!=t,r=new b({owner:this,layer:this.owner.layer,preferredUpdatePolicy:1,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:(i,t)=>new C({graphicsCoreOwner:this,graphicsCore:i,queryGraphicUIDsInExtent:t,elevationProvider:this.view.elevationProvider}),scaleVisibility:e?(i,e)=>new j({graphicsCoreOwner:this,layer:t,queryGraphicUIDsInExtent:e,graphicsCore:i,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:i=>new V(i)}});if(this._set(\"graphicsCore\",r),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new w({graphicsCoreOwner:this})),\"fullOpacity\"in this.owner){const i=this.owner;this._updatingHandles.add(()=>i.fullOpacity,()=>this.graphicsCore.opacityChange())}if(\"elevationInfo\"in i){const t=i;this._updatingHandles.add(()=>t.elevationInfo,(i,t)=>{h(i,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})}this._set(\"initializePromise\",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){try{await this.graphicsCore.initializePromise}catch(i){if(n(i))return;throw i}this.destroyed||(this.addHandles(o(()=>this.view.clippingArea,()=>this._updateClippingExtent(),a)),this._updateClippingExtent(),this._setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",s(this.frustumVisibility)),this._set(\"graphicsCore\",s(this.graphicsCore))}get layer(){return this.owner.layer}get layerViewUid(){return this.owner.uid}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get scaleVisibilitySuspended(){return!(null==this.scaleVisibility||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return null!=this.frustumVisibility&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||null!=this.scaleVisibility&&this.scaleVisibility.updating||null!=this.frustumVisibility&&this.frustumVisibility.updating||this._updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(i){this.graphicsCore.notifyGraphicGeometryChanged(i)}notifyGraphicVisibilityChanged(i){this.graphicsCore.notifyGraphicVisibilityChanged(i)}notifyContentGeometryUpdate(){this.owner.notifyContentGeometryUpdate?.()}getRenderingInfo(i,t,e){const r=g(i,{renderer:t,arcade:e});if(r?.color){const i=r.color;i[0]=i[0]/255,i[1]=i[1]/255,i[2]=i[2]/255}return r}getRenderingInfoAsync(i,t,e,r){return m(i,{renderer:t,arcade:e,...r})}getHit(i,t){if(this.owner.loadedGraphics){const e=this.owner.loadedGraphics.find(t=>t.uid===i);if(e){const i=this.layer instanceof d?this.layer:null,r=y(e,i,t);return{type:\"graphic\",graphic:r,layer:r.layer}}}return null}whenGraphicBounds(i,t){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(i,t):Promise.reject()}computeAttachmentOrigin(i,t){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(i,t):null}getSymbolLayerSize(i,t){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(i,t):null}maskOccludee(i){const t=this.graphicsCore?.objectStates;if(!t)return r();const{set:e,handle:s}=t.acquireOccludeeSet(null);return t.setUid(e,i.uid),s}highlight(i,e){const r=this.graphicsCore?.objectStates;if(!r)return O;const s=G(i);if(0===s.length)return O;if(s[0]instanceof t){const i=s.map(i=>i.uid),{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setUids(t,i),n}if(\"number\"==typeof s[0]){const i=s,{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setObjectIds(t,i),n}return O}_setupSuspendResumeExtent(){const{scaleVisibility:i,frustumVisibility:t}=this;if(null==i&&null==t)return;const e=({computedExtent:e,extentPadding:r})=>{this._suspendResumeExtent=v(e,this._suspendResumeExtent,f,r),null!=i&&i.setExtent(this._suspendResumeExtent),null!=t&&t.setExtent(this._suspendResumeExtent)};this.addHandles(o(()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding}),i=>e(i),l))}_updateClippingExtent(){const i=this.view.clippingArea;this.graphicsCore.setClippingExtent(i,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};i([p()],S.prototype,\"drapeSourcePriorityOffset\",void 0),i([p()],S.prototype,\"type\",void 0),i([p({constructOnly:!0})],S.prototype,\"owner\",void 0),i([p()],S.prototype,\"layer\",null),i([p()],S.prototype,\"layerViewUid\",null),i([p()],S.prototype,\"view\",null),i([p({constructOnly:!0})],S.prototype,\"graphicsCore\",void 0),i([p()],S.prototype,\"scaleVisibility\",null),i([p({constructOnly:!0})],S.prototype,\"frustumVisibility\",void 0),i([p()],S.prototype,\"elevationAlignment\",null),i([p()],S.prototype,\"scaleVisibilitySuspended\",null),i([p({readOnly:!0})],S.prototype,\"frustumVisibilitySuspended\",null),i([p()],S.prototype,\"suspended\",null),i([p({readOnly:!0})],S.prototype,\"updating\",null),i([p()],S.prototype,\"loadedGraphics\",null),i([p()],S.prototype,\"fullOpacity\",null),i([p()],S.prototype,\"slicePlaneEnabled\",null),i([p()],S.prototype,\"drapeSourceType\",void 0),i([p()],S.prototype,\"updatePolicy\",null),i([p({constructOnly:!0})],S.prototype,\"scaleVisibilityEnabled\",void 0),i([p({constructOnly:!0})],S.prototype,\"frustumVisibilityEnabled\",void 0),i([p()],S.prototype,\"initializePromise\",void 0),S=i([c(\"esri.views.3d.layers.graphics.GraphicsProcessor\")],S);const O=r();export{S as GraphicsProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Identifiable as s}from\"../../../core/Identifiable.js\";class t extends s{constructor(){super(),this.type=\"graphics-view-3d-dummy\",this.id=this.uid}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{EventedAccessor as e}from\"../../../core/Evented.js\";import{IdentifiableMixin as o}from\"../../../core/Identifiable.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"./GraphicsView3DDummyLayer.js\";import{GraphicsProcessor as c}from\"./graphics/GraphicsProcessor.js\";import{getHighlightName as a}from\"../../support/highlightOptionsUtils.js\";let h=class extends(o(e)){constructor(r){super(r),this.drapeSourcePriorityOffset=0,this.processor=null,this.slicePlaneEnabled=!1,this.layer=new p,this.suspended=!1}initialize(){this._set(\"processor\",new c({owner:this,drapeSourcePriorityOffset:this.drapeSourcePriorityOffset}))}destroy(){this._set(\"processor\",t(this.processor))}get loadedGraphics(){return this.getGraphics()}get updating(){return!!this.processor?.updating}get symbolUpdateType(){return this.processor.graphicsCore.symbolUpdateType}getHit(r,e){return this.processor.getHit(r,null)}whenGraphicBounds(r,e){return this.processor.whenGraphicBounds(r,e)}graphicChanged(r){this.processor.graphicsCore.graphicUpdateHandler(r)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}async queryGraphics(){return this.loadedGraphics}highlight(r,e){return this.processor.highlight(r,a(e))}maskOccludee(r){return this.processor.maskOccludee(r)}notifyContentGeometryUpdate(){this.emit(\"visible-geometry-changed\")}get test(){return{graphics3DProcessor:this.processor}}};r([s({constructOnly:!0})],h.prototype,\"view\",void 0),r([s({constructOnly:!0})],h.prototype,\"getGraphics\",void 0),r([s()],h.prototype,\"loadedGraphics\",null),r([s()],h.prototype,\"drapeSourcePriorityOffset\",void 0),r([s({readOnly:!0})],h.prototype,\"updating\",null),r([s()],h.prototype,\"processor\",void 0),r([s({type:Boolean})],h.prototype,\"slicePlaneEnabled\",void 0),r([s()],h.prototype,\"layer\",void 0),r([s()],h.prototype,\"suspended\",void 0),h=r([i(\"esri.views.3d.layers.GraphicsView3D\")],h);const n=h;export{n as default};\n"],"names":["S","e","constructor","i","super","this","drapeSourcePriorityOffset","type","graphicsCore","drapeSourceType","scaleVisibilityEnabled","frustumVisibilityEnabled","_suspendResumeExtent","_updatingHandles","u","initialize","layer","t","E","r","b","owner","preferredUpdatePolicy","graphicSymbolSupported","componentFactories","elevationAlignment","C","graphicsCoreOwner","queryGraphicUIDsInExtent","elevationProvider","view","scaleVisibility","j","basemapTerrain","objectStates","V","_set","w","add","fullOpacity","opacityChange","elevationInfo","h","addPromise","elevationInfoChange","_initializeAsync","initializePromise","n","destroyed","addHandles","o","clippingArea","_updateClippingExtent","a","_setupSuspendResumeExtent","startCreateGraphics","destroy","s","frustumVisibility","layerViewUid","uid","_this$graphicsCore","_this$graphicsCore2","scaleVisibilitySuspended","suspended","frustumVisibilitySuspended","_this$owner$suspended","updating","_this$graphicsCore3","graphics3DGraphics","_this$graphicsCore4","graphics3DGraphicsByObjectID","_this$graphicsCore5","loadedGraphics","_this$owner$fullOpaci","slicePlaneEnabled","updatePolicy","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","notifyContentGeometryUpdate","_this$owner$notifyCon","_this$owner","call","getRenderingInfo","g","renderer","arcade","color","getRenderingInfoAsync","m","_objectSpread","getHit","find","d","y","graphic","whenGraphicBounds","Promise","reject","computeAttachmentOrigin","getSymbolLayerSize","maskOccludee","_this$graphicsCore6","set","handle","acquireOccludeeSet","setUid","highlight","_this$graphicsCore7","O","G","length","map","acquireHighlightSet","setUids","setObjectIds","_ref","computedExtent","extentPadding","v","f","setExtent","_this$graphicsCore8","_this$graphicsCore9","l","setClippingExtent","spatialReference","recreateAllGraphics","p","prototype","constructOnly","readOnly","c","id","processor","getGraphics","_this$processor","symbolUpdateType","graphicChanged","graphicUpdateHandler","effectiveUpdatePolicy","queryGraphics","emit","test","graphics3DProcessor","Boolean"],"sourceRoot":""}