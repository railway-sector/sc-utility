"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[2259,50698,96141],{2259:(t,e,n)=>{n.d(e,{o6:()=>I,extractComponentsEdgeLocationsLayout:()=>k,hx:()=>A,Jb:()=>S});var r=n(77176);function i(t,e,n){const r=e/3,i=new Uint32Array(n+1),o=new Uint32Array(n+1),s=(t,e)=>{t<e?i[t+1]++:o[e+1]++};for(let v=0;v<r;v++){const e=t[3*v],n=t[3*v+1],r=t[3*v+2];s(e,n),s(n,r),s(r,e)}let a=0,c=0;for(let v=0;v<n;v++){const t=i[v+1],e=o[v+1];i[v+1]=a,o[v+1]=c,a+=t,c+=e}const u=new Uint32Array(6*r),f=i[n],l=(t,e,n)=>{if(t<e){const r=i[t+1]++;u[2*r]=e,u[2*r+1]=n}else{const r=o[e+1]++;u[2*f+2*r]=t,u[2*f+2*r+1]=n}};for(let v=0;v<r;v++){const e=t[3*v],n=t[3*v+1],r=t[3*v+2];l(e,n,v),l(n,r,v),l(r,e,v)}const d=(t,e)=>{const n=2*t,r=e-t;for(let i=1;i<r;i++){const t=u[n+2*i],e=u[n+2*i+1];let r=i-1;for(;r>=0&&u[n+2*r]>t;r--)u[n+2*r+2]=u[n+2*r],u[n+2*r+3]=u[n+2*r+1];u[n+2*r+2]=t,u[n+2*r+3]=e}};for(let v=0;v<n;v++)d(i[v],i[v+1]),d(f+o[v],f+o[v+1]);const p=new Int32Array(3*r),g=(e,n)=>e===t[3*n]?0:e===t[3*n+1]?1:e===t[3*n+2]?2:-1,h=(t,e)=>{const n=g(t,e);p[3*e+n]=-1},m=(t,e,n,r)=>{const i=g(t,e);p[3*e+i]=r;const o=g(n,r);p[3*r+o]=e};for(let v=0;v<n;v++){let t=i[v];const e=i[v+1];let n=o[v];const r=o[v+1];for(;t<e&&n<r;){const e=u[2*t],r=u[2*f+2*n];e===r?(m(v,u[2*t+1],r,u[2*f+2*n+1]),t++,n++):e<r?(h(v,u[2*t+1]),t++):(h(r,u[2*f+2*n+1]),n++)}for(;t<e;)h(v,u[2*t+1]),t++;for(;n<r;)h(u[2*f+2*n],u[2*f+2*n+1]),n++}return p}var o=n(48549),s=n(96141),a=n(47249),c=n(20664),u=n(9392),f=n(25672);class l{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?m:h}write(t,e,n){L.seed=this._edgeHashFunction(n);const r=L.getIntRange(0,255),i=L.getIntRange(0,this.settings.variants-1),o=L.getFloat(),s=255*(.5*function(t,e){return Math.abs(t)**e*Math.sign(t)}(-(1-Math.min(o/.7,1))+Math.max(0,o-.7)/(1-.7),1.2)+.5);t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex),t.variantOffset.set(e,r),t.variantStroke.set(e,i),t.variantExtension.set(e,s)}}const d=new Float32Array(6),p=new Uint32Array(d.buffer),g=new Uint32Array(1);function h(t){return d[0]=t.position0[0],d[1]=t.position0[1],d[2]=t.position0[2],d[3]=t.position1[0],d[4]=t.position1[1],d[5]=t.position1[2],g[0]=31*(31*(31*(31*(31*(166811+p[0])+p[1])+p[2])+p[3])+p[4])+p[5],g[0]}function m(t){const e=d;e[0]=y(t.position0[0]),e[1]=y(t.position0[1]),e[2]=y(t.position0[2]),e[3]=y(t.position1[0]),e[4]=y(t.position1[1]),e[5]=y(t.position1[2]),g[0]=5381;for(let n=0;n<p.length;n++)g[0]=31*g[0]+p[n];return g[0]}const v=1e4;function y(t){return Math.round(t*v)/v}const w=(0,u.vt)(),L=new a.A;var b=n(7150);function I(t){const e=A(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return B.updateSettings(t.writerSettings),U.updateSettings(t.writerSettings),(0,b.K)(e,B,U)}function A(t,e,n,o){if(e){const e=i(n,o,t.count);return new x(n,o,e,t)}const a=(0,r.b)(t.buffer,t.stride/4,{originalIndices:n}),c=i(a.indices,o,a.uniqueCount);return{faces:a.indices,facesLength:a.indices.length,neighbors:c,vertices:s.EdgeInputBufferLayout.createView(a.buffer)}}class x{constructor(t,e,n,r){this.faces=t,this.facesLength=e,this.neighbors=n,this.vertices=r}}const B=new class{constructor(){this._commonWriter=new l}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return s.gr.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n),(0,c.g)(w,n.faceNormal0,n.faceNormal1),(0,c.n)(w,w);const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;(0,f.aT)(r,e,w[0],w[1],w[2],i)}},U=new class{constructor(){this._commonWriter=new l}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return s.In.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n);{const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;(0,f.aT)(r,e,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],i)}{const{typedBuffer:r,typedBufferStride:i}=t.normal2Compressed;(0,f.aT)(r,e,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],i)}}},S=(0,o.BP)().vec3f("position0").vec3f("position1"),k=(0,o.BP)().vec3f("position0").vec3f("position1").u16("componentIndex")},12580:(t,e,n)=>{n.d(e,{L:()=>i,s:()=>o});var r=n(48549);function i(t,e){return e.push(t.buffer),{buffer:t.buffer,layout:new r.l5(t.layout)}}function o(t){return new r.q3(t.layout).createView(t.buffer)}},50698:(t,e,n)=>{n.r(e),n.d(e,{default:()=>a});var r=n(12580),i=n(96141),o=n(7150),s=n(2259);class a{async extract(t){const e=c(t),n=(0,s.o6)(e),r=[e.data.buffer];return{result:u(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const e=c(t),n=(0,s.hx)(e.data,e.skipDeduplicate,e.indices,e.indicesLength),i=(0,o.K)(n,l),a=[];return{result:(0,r.L)(i.regular.instancesData,a),transferList:a}}async extractEdgeLocations(t){const e=c(t),n=(0,s.hx)(e.data,e.skipDeduplicate,e.indices,e.indicesLength),i=(0,o.K)(n,f),a=[];return{result:(0,r.L)(i.regular.instancesData,a),transferList:a}}}function c(t){return{data:i.EdgeInputBufferLayout.createView(t.dataBuffer),indices:"Uint32Array"===t.indicesType?new Uint32Array(t.indices):"Uint16Array"===t.indicesType?new Uint16Array(t.indices):t.indices,indicesLength:t.indicesLength,writerSettings:t.writerSettings,skipDeduplicate:t.skipDeduplicate}}function u(t,e){return e.push(t.regular.lodInfo.lengths.buffer),e.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:(0,r.L)(t.regular.instancesData,e),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:(0,r.L)(t.silhouette.instancesData,e),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}const f=new class{allocate(t){return s.Jb.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,n){t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1)}},l=new class{allocate(t){return s.extractComponentsEdgeLocationsLayout.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,n){t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex)}}},77176:(t,e,n)=>{n.d(e,{b:()=>o});var r=n(15941),i=n(38496);function o(t,e,n){var o;const f=Array.isArray(t),l=f?t.length/e:t.byteLength/(4*e),d=f?t:new Uint32Array(t,0,l*e),p=null!==(o=null===n||void 0===n?void 0:n.minReduction)&&void 0!==o?o:0,g=(null===n||void 0===n?void 0:n.originalIndices)||null,h=g?g.length:0,m=(null===n||void 0===n?void 0:n.componentOffsets)||null;let v=0;if(m)for(let r=0;r<m.length-1;r++){const t=m[r+1]-m[r];t>v&&(v=t)}else v=l;const y=Math.floor(1.1*v)+1;(null==u||u.length<2*y)&&(u=new Uint32Array((0,r.cU)(2*y)));for(let r=0;r<2*y;r++)u[r]=0;let w=0;const L=!!m&&!!g,b=L?h:l;let I=(0,i.my)(l);const A=new Uint32Array(h),x=1.96;let B=0!==p?Math.ceil(4*x*x/(p*p)*p*(1-p)):b,U=1,S=m?m[1]:b;for(let r=0;r<b;r++){if(r===B){const t=1-w/r;if(t+x*Math.sqrt(t*(1-t)/r)<p)return null;B*=2}if(r===S){for(let t=0;t<2*y;t++)u[t]=0;if(g)for(let t=m[U-1];t<m[U];t++)A[t]=I[g[t]];S=m[++U]}const t=L?g[r]:r,n=t*e,i=c(d,n,e);let o=i%y,a=w;for(;0!==u[2*o+1];){if(u[2*o]===i){const t=u[2*o+1]-1;if(s(d,n,t*e,e)){a=I[t];break}}o++,o>=y&&(o-=y)}a===w&&(u[2*o]=i,u[2*o+1]=t+1,w++),I[t]=a}if(0!==p&&1-w/l<p)return null;if(L){for(let t=m[U-1];t<A.length;t++)A[t]=I[g[t]];I=(0,i.uW)(A)}const k=f?new Array(w):new Uint32Array(w*e);w=0;for(let r=0;r<b;r++)I[r]===w&&(a(d,(L?g[r]:r)*e,k,w*e,e),w++);if(g&&!L){const t=new Uint32Array(h);for(let e=0;e<t.length;e++)t[e]=I[g[e]];I=(0,i.uW)(t)}return{buffer:Array.isArray(k)?k:k.buffer,indices:I,uniqueCount:w}}function s(t,e,n,r){for(let i=0;i<r;i++)if(t[e+i]!==t[n+i])return!1;return!0}function a(t,e,n,r,i){for(let o=0;o<i;o++)n[r+o]=t[e+o]}function c(t,e,n){let r=0;for(let i=0;i<n;i++)r=t[e+i]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let u=null},96141:(t,e,n)=>{n.d(e,{EdgeInputBufferLayout:()=>s,In:()=>f,g6:()=>p,gr:()=>u,kU:()=>g,lX:()=>l,pz:()=>d,vJ:()=>a,wO:()=>c});var r=n(57481),i=n(48549),o=n(75757);const s=(0,i.BP)().vec3f("position").u16("componentIndex").freeze(),a=(0,i.BP)().vec2u8("sideness").freeze(),c=(0,r.U)(a),u=(0,i.BP)().vec3f("position0").vec3f("position1").vec2i16("normalCompressed").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).freeze(),f=(0,i.BP)().vec3f("position0").vec3f("position1").vec2i16("normalCompressed").vec2i16("normal2Compressed").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).freeze(),l=(0,r.U)(u,1),d=(0,r.U)(f,1),p=(0,o._u)([c,l]),g=(0,o._u)([c,d])}}]);
//# sourceMappingURL=50698.a1c0c9df.chunk.js.map