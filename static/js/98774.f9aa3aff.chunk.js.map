{"version":3,"file":"static/js/98774.f9aa3aff.chunk.js","mappings":"uNAIgW,MAAMA,EAAEA,IAAI,IAAIC,EAAE,cAAcD,EAAEE,UAAAA,GAAaC,KAAKC,YAAWC,EAAAA,EAAAA,IAAG,IAAIF,KAAKG,MAAO,UAAWC,IAAIJ,KAAKK,UAAUD,EAAEE,aAAaC,MAAOH,KAAII,EAAAA,EAAAA,IAAEJ,IAAIK,EAAAA,EAAEC,UAAUV,MAAMW,MAAMP,OAAS,uBAAuB,GAAG,OAAON,GAAEM,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,GAAE,2CAA2Cd,GAAGA,E,8NCA+rB,MAAMe,UAAUC,EAAAA,GAAG,SAASC,EAAED,GAAG,MAAMD,EAAE,IAAIG,EAAAA,IAAGC,OAAOF,EAAEG,SAASC,EAAEC,SAASC,GAAGR,GAAGS,OAAOC,EAAEC,yBAAyBC,GAAGX,EAAE,OAAOhB,EAAAA,EAAAA,IAAEiB,EAAED,GAAGD,EAAEa,QAAQ7B,EAAAA,EAAEiB,GAAGD,EAAEa,QAAQlB,EAAAA,EAAEM,GAAGD,EAAEK,SAASQ,QAAQtB,EAAAA,GAAEU,GAAGD,EAAEa,QAAQxB,EAAAA,EAAEY,GAAGD,EAAEa,QAAQC,EAAAA,EAAEb,GAAGD,EAAEe,WAAWC,IAAIC,EAAAA,EAAEC,SAAS,QAAQlB,EAAEe,WAAWC,IAAIC,EAAAA,EAAEE,IAAI,QAAQP,GAAGZ,EAAEe,WAAWC,IAAIC,EAAAA,EAAEG,kBAAkB,SAASlB,EAAEmB,KAAKL,KAAIM,EAAAA,EAAAA,GAACC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,6KAK5nDC,EAAAA,EAAAA,IAAEb,EAAE,uCAAwCJ,EAAEQ,IAAI,OAAO,OAAO,CAACU,WAAU,IAAKlB,EAAEQ,IAAI,YAAY,QAAQV,EAAEO,QAAQd,EAAAA,GAAGO,EAAEqB,SAASX,IAAI,IAAIY,EAAAA,EAAE,UAAWhC,GAAGA,EAAEiC,SAAU,IAAIC,EAAAA,EAAE,MAAOlC,GAAGA,EAAEmC,YAAaV,KAAKL,KAAIM,EAAAA,EAAAA,GAACU,IAAAA,GAAAR,EAAAA,EAAAA,GAAA,oMAG/MC,EAAAA,EAAAA,IAAEf,IAAId,EAAAA,EAAEqC,sBAAsB,2CAE6BjC,CAAC,CAAC,MAAMM,EAAE4B,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,4BAA4BtC,EAAEuC,MAAMrC,GAAGsC,OAAOC,YAAY,CAACC,MAAM,W,8QCV2mB,MAAM9B,UAAUrB,EAAAA,EAAEoD,WAAAA,CAAY/C,EAAEL,GAAGqD,MAAMhD,EAAEL,EAAE,IAAIQ,EAAAA,EAAEuB,EAAAA,EAAG,IAAI,kCAAoCuB,EAAE,CAACC,iBAAAA,CAAkB/C,EAAER,GAAG,MAAMwD,QAAQ9B,EAAER,OAAOa,EAAE0B,aAAapC,EAAEqC,SAASJ,GAAG9C,EAAEmD,EAAEjC,IAAIjC,EAAAA,EAAEmE,KAAK,OAAOzC,EAAAA,EAAAA,IAAE,CAAC0C,UAASxD,EAAAA,EAAAA,IAAE0B,GAAG4B,EAAEG,EAAAA,IAAEpE,EAAAA,EAAAA,IAAEgC,GAAG,KAAKqC,SAAQxB,EAAAA,EAAAA,IAAEe,GAAGU,UAAU,CAACC,MAAKnE,EAAAA,EAAAA,IAAE4B,IAAIwC,YAAWhC,EAAAA,EAAAA,IAAE1B,GAAG2D,aAAY/D,EAAAA,EAAAA,IAAEsB,EAAEK,GAAGqC,WAAWnD,EAAAA,GAAEoD,aAAahD,EAAEZ,EAAAA,GAAE,KAAK6D,YAAYjD,EAAErB,EAAEY,EAAAA,GAAEF,EAAAA,GAAE,KAAK6D,eAAclC,EAAAA,EAAAA,IAAE7B,IAAI,CAACgE,kBAAAA,CAAmBnE,GAAG,OAAOT,KAAK6E,kBAAkB7E,KAAK2D,kBAAkBlD,GAAE,GAAIT,KAAK2D,kBAAkBlD,GAAE,EAAG,CAACqE,WAAAA,CAAYrE,GAAG,OAAOA,EAAET,KAAK6E,kBAAkBpB,MAAMqB,aAAa,EAAE,MAAMpB,EAAE,IAAIqB,IAAI,CAAC,CAACjD,EAAAA,EAAEC,SAAS,GAAG,CAACD,EAAAA,EAAEE,IAAI,GAAG,CAACF,EAAAA,EAAEG,kBAAkB,K,0DCAt7B,MAAMnC,UAAUU,EAAAA,EAAEgD,WAAAA,CAAY/C,GAAGgD,QAAQzD,KAAKgF,OAAOvE,EAAET,KAAK8D,SAASjE,EAAAA,GAAEoF,KAAKjF,KAAKkF,cAAa,EAAGlF,KAAKmF,YAAW,EAAGnF,KAAK6D,cAAa,EAAG7D,KAAKoF,kBAAiB,EAAGpF,KAAKqF,kBAAiB,EAAGrF,KAAKwB,0BAAyB,EAAGxB,KAAKsF,sBAAsB1E,EAAAA,EAAEqE,KAAKjF,KAAKuF,eAAerF,EAAAA,GAAE+E,KAAKjF,KAAKwF,2BAA0B,EAAGxF,KAAKyF,eAAc,EAAGzF,KAAK0F,gCAA+B,EAAG1F,KAAK2F,WAAU,CAAE,GAAElF,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,GAAE,CAACwF,MAAM/F,EAAAA,GAAEgG,SAAS/F,EAAEgG,UAAU,gBAAW,IAAQrF,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,MAAKN,EAAEgG,UAAU,oBAAe,IAAQrF,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,MAAKN,EAAEgG,UAAU,kBAAa,IAAQrF,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,MAAKN,EAAEgG,UAAU,oBAAe,IAAQrF,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,MAAKN,EAAEgG,UAAU,wBAAmB,IAAQrF,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,MAAKN,EAAEgG,UAAU,wBAAmB,IAAQrF,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,MAAKN,EAAEgG,UAAU,gCAA2B,GCA3G,MAAMC,UAAU1E,EAAAA,EAAEmC,WAAAA,CAAY/C,GAAGgD,MAAMhD,EAAEuF,GAAGhG,KAAKiG,yBAAyB9D,EAAEnC,KAAKkG,eAAc,EAAGlG,KAAKmG,SAAS,IAAIpB,IAAI,CAAC,CAAClE,EAAAA,EAAEuF,gBAAgB3F,IAAGG,EAAAA,EAAAA,IAAEH,IAAI,CAACI,EAAAA,EAAEwF,qBAAqB5F,IAAGL,EAAAA,EAAAA,IAAEK,IAAIT,KAAKsG,WAAWnB,YAAY,CAACtE,EAAAA,EAAE0F,mCAAmC9F,IAAGL,EAAAA,EAAAA,IAAEK,KAAKT,KAAKsG,WAAWnB,YAAY,CAACtE,EAAAA,EAAE2F,gBAAgB/F,IAAGL,EAAAA,EAAAA,IAAEK,KAAIG,EAAAA,EAAAA,IAAEH,MAAMT,KAAKyG,eAAe,IAAI/C,EAAEjD,EAAEuE,OAAO,CAAC0B,OAAAA,GAAU1G,KAAK2G,cAAc,CAACC,aAAQ,GAAQ,CAACC,gBAAAA,CAAiBpG,EAAEG,GAAG,OAAO6C,MAAMoD,iBAAiBpG,EAAEG,EAAEZ,KAAKyG,gBAAgBzG,KAAKyG,eAAe3C,SAAS9D,KAAKsG,WAAWxC,SAAS9D,KAAKyG,eAAeK,cAAc9G,KAAKsG,WAAWQ,cAAc9G,KAAKyG,eAAetB,WAAWnF,KAAKsG,WAAWnB,WAAWnF,KAAKyG,eAAe5C,aAAajD,EAAEiD,aAAa7D,KAAKyG,eAAe7C,QAAQhD,EAAEgD,QAAQ5D,KAAKyG,eAAevB,aAAatE,EAAEmG,OAAOC,kBAAkB1E,EAAAA,GAAEtC,KAAKyG,eAAerB,iBAAiBxE,EAAEwE,iBAAiBpF,KAAKyG,eAAepB,iBAAiBzE,EAAEyE,iBAAiBrF,KAAKyG,eAAejF,yBAAyBxB,KAAKsG,WAAW9E,yBAAyBxB,KAAKyG,cAAc,CAAC,WAAIQ,GAAU,OAAM,CAAE,CAACC,gBAAAA,CAAiBzG,GAAG,OAAO,IAAIU,EAAEV,EAAE,CAAC0G,kBAAAA,GAAqB,IAAI1G,EAAEc,EAAAA,GAAE,OAAOvB,KAAKsG,WAAW9E,2BAA2Bf,EAAEA,EAAE2G,QAAQC,IAAI5E,EAAAA,EAAER,oBAAoB,IAAIqF,EAAE7G,EAAE,EAAE,MAAMU,UAAUX,EAAAA,EAAEgD,WAAAA,CAAY/C,GAAGgD,OAAK8D,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAG9G,GAAKA,EAAE+G,SAASlB,aAAatG,KAAKsG,WAAW7F,EAAE,MAAMG,EAAEZ,KAAKyH,UAAUnB,WAAWM,SAAQ9G,EAAAA,EAAAA,GAAEc,IAAIH,EAAEiH,SAASC,QAAQ9F,IAAIjB,EAAE,CAAC8F,OAAAA,GAAU1G,KAAKsG,WAAWoB,SAASC,QAAQC,OAAO5H,KAAKyH,UAAUnB,WAAWM,QAAQ,CAACiB,SAAAA,CAAUpH,GAAG,OAAOT,KAAK8H,aAAaC,EAAEtH,EAAE,EAAE,MAAM6G,UAAUxG,EAAAA,EAAEkH,KAAAA,CAAMpH,EAAER,EAAEP,EAAEW,EAAEV,EAAEI,GAAG,IAAI,MAAMoC,KAAKtC,KAAKiI,mBAAmBC,OAAOC,OAAO,CAAC,MAAM3H,EAAEX,EAAEuI,IAAI9F,GAAG,GAAG9B,EAAE,GAAG8B,IAAIG,EAAAA,EAAER,kBAAkB,EAACjB,EAAAA,EAAAA,IAAE,IAAIR,EAAE6H,MAAM,MAAMzH,EAAEd,EAAEwI,SAAShG,EAAE7B,EAAAA,IAAGG,IAAGkB,EAAAA,EAAAA,IAAEtB,EAAEI,EAAEV,EAAE,MAAMyC,EAAAA,EAAAA,IAAEL,EAAE9B,EAAEI,EAAER,EAAEN,EAAEI,EAAE,CAAC,OAAO,IAAI,EAAE,MAAM8F,UAAU9F,EAAAA,GAAEsD,WAAAA,CAAY/C,EAAEG,GAAG6C,QAAQzD,KAAK4G,QAAQnG,EAAET,KAAKgF,OAAOpE,EAAEZ,KAAKmF,YAAW,EAAGnF,KAAK8G,eAAc,EAAG9G,KAAK8D,SAASjE,EAAAA,GAAEoF,KAAKjF,KAAK0C,QAAQ,EAAE1C,KAAKwB,0BAAyB,CAAE,CAAC,aAAIoB,GAAY,OAAO5C,KAAK4G,QAAQhE,SAAS,E,sRCA9wE,SAASH,EAAE7B,EAAEH,GAAG,OAAOc,EAAAA,EAAAA,IAAEX,EAAE,CAAC,CAACH,EAAE,GAAGA,EAAE,IAAI,GAAG,CAACA,EAAE,GAAGA,EAAE,IAAI,GAAG,CAACA,EAAE,GAAGA,EAAE,IAAI,GAAG,CAACA,EAAE,GAAGA,EAAE,IAAI,IAAI,CAAC,SAASD,EAAEI,EAAEH,EAAEc,GAAG,KAAInB,EAAAA,EAAAA,IAAEK,EAAEc,GAAG,OAAOkB,EAAE7B,EAAEW,GAAG,MAAMV,EAAE,CAACJ,EAAE,GAAGc,EAAE,GAAGgH,KAAKC,IAAI/H,EAAE,GAAGc,EAAE,IAAIgH,KAAKE,IAAIhI,EAAE,GAAGc,EAAE,IAAIA,EAAE,GAAGd,EAAE,GAAG,QAAQD,EAAE,CAACC,EAAE,GAAGc,EAAE,GAAGgH,KAAKC,IAAI/H,EAAE,GAAGc,EAAE,IAAIgH,KAAKE,IAAIhI,EAAE,GAAGc,EAAE,IAAIA,EAAE,GAAGd,EAAE,GAAG,QAAQY,EAAEE,EAAE,GAAGA,EAAE,GAAGP,EAAEO,EAAE,GAAGA,EAAE,GAAGR,EAAEP,EAAE,GAAG,GAAGA,EAAE,GAAG,EAAE,EAAE,EAAEW,EAAEN,EAAE,GAAG,GAAGA,EAAE,GAAG,EAAE,EAAE,EAAEC,GAAGK,EAAE,IAAIJ,EAAE,GAAG2H,GAAExI,EAAAA,EAAAA,IAAE,EAAEY,GAAGqB,GAAEG,EAAAA,EAAAA,IAAE,EAAExB,GAAGW,EAAE,IAAIkH,MAAM,GAAGxH,EAAEJ,EAAE,IAAI,IAAI6H,EAAE,EAAEC,EAAE,EAAE7C,EAAE,EAAE8C,EAAE,EAAEC,EAAE,EAAE,IAAI,IAAI3I,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMQ,EAAEC,EAAET,GAAG,GAAGQ,GAAG,EAAE,SAAS,IAAIH,EAAE,EAAE,IAAI,IAAIP,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAMU,EAAEJ,EAAEN,GAAGU,GAAG,IAAI8H,EAAEG,KAAKtH,EAAE,GAAGd,EAAEiI,EAAEG,KAAKtH,EAAE,GAAGqH,EAAEF,EAAEG,MAAM,EAAE1G,EAAE6D,KAAKvF,EAAEY,EAAEc,EAAE6D,KAAK4C,EAAE5H,EAAEd,EAAE,GAAGE,EAAE,IAAI,IAAIF,GAAG,IAAIE,KAAKqB,EAAEsH,KAAKD,EAAErH,EAAEsH,KAAKD,EAAE,EAAErH,EAAEsH,KAAKD,EAAE/H,EAAE,EAAEU,EAAEsH,KAAKD,EAAE,EAAErH,EAAEsH,KAAKD,EAAE/H,EAAE,EAAEU,EAAEsH,KAAKD,EAAE/H,EAAE,GAAG+H,IAAIrI,GAAGG,EAAE,CAACgI,GAAGhI,CAAC,CAAC,MAAM8C,EAAE,IAAIiF,MAAMlH,EAAEuH,QAAQ,OAAO,IAAIlH,EAAAA,EAAElB,EAAE,CAAC,CAAC+B,EAAAA,EAAEZ,SAAS,IAAIlC,EAAAA,EAAE6I,EAAEjH,EAAE,GAAE,IAAK,CAACkB,EAAAA,EAAEsG,OAAO,IAAIpJ,EAAAA,EAAEC,EAAE4D,EAAE,GAAE,IAAK,CAACf,EAAAA,EAAEX,IAAI,IAAInC,EAAAA,EAAEsC,EAAEV,EAAE,GAAE,KAAM,CAAC,MAAM3B,EAAE,CAAC,EAAE,EAAE,G,0FCAQ,IAAIoJ,EAAE,cAAcC,EAAAA,EAAE3F,WAAAA,CAAY/C,GAAGgD,MAAMhD,GAAGT,KAAKoJ,gBAAgBjI,EAAAA,GAAEkI,YAAYrJ,KAAKsJ,aAAaC,EAAAA,EAAEC,KAAKxJ,KAAKyJ,KAAK,SAASzJ,KAAK0J,sBAAsB,KAAK1J,KAAK2J,QAAQ,IAAIhB,MAAM3I,KAAK4J,SAAS,IAAIjB,MAAM3I,KAAK6J,UAAU,IAAIlB,MAAM3I,KAAK8J,qBAAqB,IAAI,CAAC/J,UAAAA,GAAaC,KAAK8J,qBAAqB9J,KAAK+J,KAAKC,eAAeC,eAAeC,4BAA4BlK,MAAMA,KAAKC,YAAWJ,EAAAA,EAAAA,IAAG,IAAIG,KAAK+J,KAAKC,eAAeC,eAAeE,sBAAsBnK,OAAQ,CAACoK,gBAAAA,CAAiB3J,EAAEG,GAAGZ,KAAKqK,kBAAkBzJ,EAAEH,EAAE6J,QAAS,CAAC7J,EAAEG,KAAKZ,KAAK6J,UAAUjJ,GAAGH,EAAET,KAAKuK,mBAAmB9J,EAAEG,IAAK,CAAC4J,OAAAA,GAAUxK,KAAKyK,OAAO,CAAC,oBAAIC,GAAmB,OAAO1K,KAAKqK,iBAAiB,CAACE,kBAAAA,CAAmB9J,EAAEG,GAAG,MAAMR,EAAEJ,KAAK2K,eAAelK,EAAEmK,OAAO9B,GAAG,GAAG,MAAM1I,EAAE,OAAO,MAAMP,EDA5vD,SAAWO,EAAEF,EAAEoC,GAAG,MAAMzC,GAAEe,EAAAA,EAAAA,IAAER,IAAGK,EAAAA,EAAAA,IAAEL,GAAG0B,EAAE,CAAC+I,MAAMvI,EAAEwI,OAAOxI,GAAG,OAAOzC,EAAE,OAAOiC,EAAEgJ,OAAOxI,EAAEzC,EAAEA,EAAE,QAAQiC,EAAE+I,MAAMvI,EAAEzC,GAAGiC,EAAE+I,MAAMtC,KAAKwC,MAAMjJ,EAAE+I,QAAOjK,EAAAA,EAAAA,IAAER,IAAGQ,EAAAA,EAAAA,IAAEV,KAAK4B,EAAEgJ,OAAOvC,KAAKwC,MAAMjJ,EAAEgJ,SAAQrK,EAAAA,EAAAA,IAAEL,IAAGK,EAAAA,EAAAA,IAAEP,KAAK4B,CAAC,CCA8jDwF,CAAE7G,EAAEmK,OAAOxK,EAAEK,EAAEuK,YAAY,IAAIxK,EAAEC,EAAEwK,WAAWjL,KAAK+J,KAAKmB,MAAMD,WAAW,MAAM9K,MAAMmC,GAAGtC,KAAK,GAAG,kBAAkBsC,GAAG,MAAMA,EAAE6I,eAAe,mBAAmB7I,GAAG,MAAMA,EAAE8I,eAAe,CAAC,MAAM3K,EAAE6B,EAAE6I,cAAcvK,EAAE0B,EAAE8I,eAAe,GAAGvL,EAAEgL,MAAMpK,EAAE,CAAC,MAAMG,EAAEH,EAAEZ,EAAEgL,MAAMhL,EAAEiL,OAAOvC,KAAK8C,MAAMxL,EAAEiL,OAAOlK,GAAGf,EAAEgL,MAAMpK,EAAED,GAAGI,CAAC,CAAC,GAAGf,EAAEiL,OAAOlK,EAAE,CAAC,MAAMH,EAAEG,EAAEf,EAAEiL,OAAOjL,EAAEgL,MAAMtC,KAAK8C,MAAMxL,EAAEgL,MAAMpK,GAAGZ,EAAEiL,OAAOlK,EAAEJ,GAAGC,CAAC,CAAC,CAAC,MAAMgC,EAAEzC,KAAK4J,SAAShJ,GAAG6B,IAAGpB,EAAAA,EAAAA,IAAEoB,EAAEmI,OAAOxK,IAAIJ,KAAKsL,iBAAiBlL,EAAEqC,EAAE8I,UAAU1L,KAAKG,KAAK4J,SAAShJ,GAAG,CAACgK,QAAO5J,EAAAA,EAAAA,IAAEZ,GAAGmL,UAAU1L,EAAEoL,WAAWzK,GAAGR,KAAKwL,WAAWxL,KAAKyL,OAAO7K,GAAGL,MAAOE,KAAIP,EAAAA,EAAAA,IAAEO,IAAIX,EAAAA,EAAEY,UAAUV,MAAMW,MAAMF,KAAM,CAACgK,KAAAA,GAAQ,IAAI,IAAIhK,EAAE,EAAEA,EAAET,KAAK2J,QAAQX,OAAOvI,IAAIT,KAAK0L,YAAYjL,EAAE,CAAC,eAAMJ,CAAUI,GAAG,MAAMG,EAAE,GAAG,IAAI,IAAIR,EAAE,EAAEA,EAAEJ,KAAK4J,SAASZ,OAAO5I,IAAIJ,KAAK4J,SAASxJ,IAAIQ,EAAE+K,KAAK3L,KAAKyL,OAAOrL,EAAEK,UAAUmL,QAAQC,WAAWjL,EAAE,CAAC,mBAAMkL,CAAcrL,EAAEG,EAAER,IAAIQ,aAAamL,kBAAkBnL,aAAaoL,qBAAqBvL,EAAEwL,MAAMrL,EAAE,CAACsL,gBAAAA,CAAiBzL,GAAG,IAAI,MAAMG,KAAKZ,KAAK4J,SAAS,CAAC,MAAMxJ,EAAEQ,EAAEgK,OAAO,GAAG,IAAI/J,EAAAA,EAAET,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGJ,KAAKqK,mBAAmB8B,SAAS1L,GAAG,OAAOG,CAAC,CAAC,OAAO,IAAI,CAAC,YAAMwL,CAAO3L,EAAEL,SAASQ,EAAAA,EAAAA,IAAEZ,KAAK2J,QAAS0C,MAAMzL,EAAEf,KAAKe,UAAUH,EAAEG,EAAER,SAASJ,KAAKsM,oBAAoBzM,EAAEe,EAAEqL,MAAM7L,KAAM,CAACkL,gBAAAA,CAAiB7K,EAAEG,EAAER,GAAG,IAAIJ,KAAK0J,sBAAsB,OAAM,EAAG,MAAM7J,GAAE6I,EAAAA,EAAAA,IAAEjI,GAAGT,KAAK0J,sBAAsB1D,EAAElG,GAAEkG,EAAAA,EAAAA,IAAEvF,GAAGT,KAAK0J,sBAAsBhB,EAAElI,EAAEX,EAAEe,EAAEiK,MAAM3K,EAAEJ,EAAEc,EAAEkK,OAAOxI,EAAEzC,EAAEO,EAAEyK,MAAMpI,EAAE3C,EAAEM,EAAE0K,OAAOvJ,EAAEgH,KAAKgE,IAAI/L,EAAE8B,GAAGR,EAAEyG,KAAKgE,IAAIrM,EAAEuC,GAAGE,EAAEoB,EAAAA,EAAEyI,4BAA4B,EAAE,IAAI,OAAOjL,GAAGoB,GAAGb,GAAGa,CAAC,CAAC,YAAM8I,CAAOhL,EAAEG,GAAG,GAAGZ,KAAKwL,UAAU,OAAO,MAAMpL,EAAEJ,KAAK4J,SAASnJ,GAAGZ,EAAEO,EAAEwK,OAAO5K,KAAK2J,QAAQlJ,KAAKT,KAAK2J,QAAQlJ,GAAG,CAACmG,QAAQ,KAAKY,SAAS,KAAKiF,eAAe,KAAKC,eAAe,KAAKC,uBAAuB,KAAKV,MAAM,KAAKW,UAAU,KAAKC,cAAa7L,EAAAA,EAAAA,IAAEnB,KAAK,MAAM8C,EAAE3C,KAAK2J,QAAQlJ,GAAGkC,EAAEgK,wBAAuBnM,EAAAA,EAAAA,IAAEmC,EAAEgK,wBAAwB,MAAMxK,EAAE,IAAItB,EAAAA,EAAEhB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGG,KAAKqK,mBAAmB,GAAG,IAAIlI,EAAE0I,OAAO,IAAI1I,EAAE2I,OAAO,YAAY9K,KAAK0L,YAAYjL,GAAG,MAAMK,EAAE,IAAIgM,gBAAgBnK,EAAEgK,uBAAuB7L,GAAEwB,EAAAA,EAAAA,IAAE1B,EAAG,IAAIE,EAAEiM,SAAU,MAAM1L,EAAEP,EAAEkM,OAAOtE,EAAE1I,KAAKiN,gBAAgB5L,GAAG6L,KAAMb,WAAU5J,EAAAA,EAAAA,IAAEpB,GAAG,MAAMT,GAAC2G,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAAE4F,uBAAsB,EAAGlC,WAAWjL,KAAK6J,UAAUpJ,GAAGwK,YAAcjL,KAAKoN,UAAUC,mBAAiB,IAACL,OAAO3L,KAAIyJ,OAAOjL,EAAEgL,MAAM/K,GAAGM,EAAEmL,UAAU,OAAOvL,KAAKG,MAAM,YAAYH,KAAKG,MAAMsJ,KAAKzJ,KAAKG,MAAMmN,mBAAmBnL,EAAErC,EAAED,EAAEe,GAAGZ,KAAKG,MAAMoN,WAAWpL,EAAErC,EAAED,EAAEe,GAAG,OAAQsM,KAAMzM,IAAI,IAAGc,EAAAA,EAAAA,IAAEF,GAAG,MAAMvB,EAAAA,EAAEY,UAAUV,MAAMwN,SAAS,wIAAuI1L,EAAAA,EAAAA,MAAI,OAAO9B,KAAK8L,cAAcnJ,EAAElC,KAAMyM,KAAM,MAAKnM,EAAAA,EAAAA,GAAE4B,EAAEkK,aAAahN,KAAM8C,EAAE+J,eAAehE,QAAQ1I,KAAKyN,gBAAgBC,WAAWhF,EAAEwE,KAAMb,WAAU5J,EAAAA,EAAAA,IAAEpB,SAASrB,KAAKsM,oBAAoB7L,EAAEkC,EAAEsJ,MAAM5K,KAAMd,MAAOE,IAAI,MAAMA,KAAIP,EAAAA,EAAAA,IAAEO,IAAIX,EAAAA,EAAEY,UAAUV,MAAMW,MAAMF,GAAGA,IAAKkN,QAAS,KAAKjF,IAAI/F,EAAE+J,iBAAiB/J,EAAE+J,eAAe,KAAK/J,EAAEgK,uBAAuB,QAAS,CAACjB,WAAAA,CAAYjL,GAAG,MAAMG,EAAEZ,KAAK2J,QAAQlJ,GAAG,GAAGG,EAAE,CAAC,MAAMA,EAAE6L,iBAAiBzM,KAAK8J,qBAAqB8D,iBAAiB,CAAChN,EAAE6L,gBAAgB/I,EAAAA,EAAEmK,QAAQjN,EAAE6L,eAAe,MAAM,MAAMhM,EAAET,KAAK+J,KAAK+D,MAAM1N,EAAEQ,EAAEgG,QAAS,OAADxG,QAAC,IAADA,GAAAA,EAAG2N,SAAStN,EAAEuN,cAAc5N,GAAGQ,EAAEgG,QAAQ,KAAKhG,EAAE4G,SAAS,KAAK5G,EAAE+L,wBAAuBnM,EAAAA,EAAAA,IAAEI,EAAE+L,wBAAwB/L,EAAE8L,eAAe,KAAK9L,EAAEqL,MAAM,KAAKrL,EAAEgM,UAAU,IAAI,CAAC,CAAC,yBAAMN,CAAoB7L,EAAEG,EAAEf,GAAG,MAAMC,EAAEE,KAAK+J,KAAK+D,MAAMtN,EAAER,KAAK2J,QAAQlJ,GAAGP,EAAEA,KAAI,IAAA+N,EAAU,QAATA,EAAAzN,EAAEoG,eAAO,IAAAqH,GAATA,EAAWF,SAASjO,EAAEkO,cAAcxN,EAAEoG,SAASpG,EAAEoG,QAAQ,KAAKpG,EAAEiM,iBAAiBzM,KAAK8J,qBAAqB8D,iBAAiB,CAACpN,EAAEiM,gBAAgB/I,EAAAA,EAAEmK,QAAQrN,EAAEiM,eAAe,OAAO,GAAG7L,EAAE,KAAAsN,EAAC,MAAM5L,EAAE,IAAIyF,EAAAA,EAAEnH,EAAE,CAACiK,MAAMjK,EAAEiK,MAAMC,OAAOlK,EAAEkK,OAAOqD,kBAAiB,EAAGC,KAAK,CAAC5N,EAAE0D,EAAAA,GAAEmK,cAAczN,EAAEsD,EAAAA,GAAEmK,iBAAiB,SAASjO,EAAAA,EAAAA,IAAEJ,KAAK2J,QAAQlJ,IAAImI,EAAAA,GAAE0F,MAAM1F,EAAAA,GAAE2F,MAAM3F,EAAAA,GAAE0F,OAAO5B,iBAAgBjK,EAAAA,EAAAA,IAAE5C,GAAGK,UAAUJ,EAAE0O,SAAU,IAAIlM,EAAEmM,KAAK3O,EAAE4O,WAAWC,kBAAmB9O,IAAIyC,EAAEsM,OAAO,YAAY1O,IAAI,IAAIqB,EAAE,GAAGzB,EAAE+O,WAAWvM,GAAG9B,EAAEoG,QAAQtE,EAAY,QAAX4L,EAAC1N,EAAEgH,gBAAQ,IAAA0G,IAAV1N,EAAEgH,SAAW,IAAIuB,EAAAA,EAAE,CAAC/D,QAAO,EAAG4B,QAAQtE,KAAI9B,EAAEgH,SAASb,cAAc,CAACC,QAAQtE,IAAI7B,IAAImI,EAAAA,GAAE0F,MAAM/M,EAAEI,EAAEnB,EAAEgH,SAAShH,EAAEqM,kBAAkB,CAAC,MAAMpM,EAAET,KAAK2J,QAAQ,GAAGkD,aAAa,IAAIpM,EAAE,YAAYP,IAAIqB,EAAEE,EAAEjB,EAAEgH,SAAS/G,EAAED,EAAEqM,aAAa,CAACrM,EAAEiM,eAAe,IAAI5D,EAAAA,EAAEtH,GAAGf,EAAEiM,eAAeqC,YAAY9O,KAAK6J,UAAUpJ,GAAGsO,kBAAkB/O,KAAK8J,qBAAqBkF,cAAc,CAACxO,EAAEiM,gBAAgB/I,EAAAA,EAAEmK,OAAO,MAAM3N,IAAIM,EAAEgH,SAAS,IAAI,CAACmD,cAAAA,CAAelK,EAAEG,GAAG,GAAG,UAAUZ,KAAK+J,KAAKkF,YAAY,OAAOlO,EAAAA,EAAAA,GAAEH,EAAEH,GAAG,MAAML,EAAEJ,KAAK+J,KAAKC,eAAe,OAAO5J,EAAE8O,OAAMnJ,EAAAA,EAAAA,IAAEtF,EAAEL,EAAEwK,OAAOhK,IAAGG,EAAAA,EAAAA,GAAEH,EAAEH,EAAE,CAAC,qBAAMwM,CAAgBxM,SAASkC,EAAAA,EAAAA,IAAG,IAAI3C,KAAK+J,KAAKoF,WAAY1O,IAAGgC,EAAAA,EAAAA,IAAEhC,EAAE,IAAGA,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK+G,EAAEpD,UAAU,YAAO,GAAQoD,GAAEzI,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,GAAE,yCAAyCoI,GAAG,MAAMJ,GAAE9H,EAAAA,EAAAA,K,uECA7/M,MAAMZ,UAAUP,EAAAA,GAAE2D,WAAAA,GAAcC,SAAS2L,WAAWpP,KAAKqP,MAAKzO,EAAAA,EAAAA,IAAE,EAAE,EAAE,GAAGZ,KAAKsP,MAAK1O,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAE,CAAC2O,SAAAA,CAAU3O,EAAEf,EAAEO,EAAEI,EAAEC,EAAEP,GAAG,OAAOc,EAAAA,EAAAA,IAAEJ,EAAER,EAAEI,EAAEC,OAAE,EAAOP,EAAE,CAACsP,eAAAA,CAAgB5O,EAAEf,EAAEO,EAAEI,GAAG,OAAOR,KAAKqP,KAAK,GAAGrP,KAAKsP,KAAK,GAAGlP,EAAE,GAAGJ,KAAKqP,KAAK,GAAGrP,KAAKsP,KAAK,GAAGlP,EAAE,IAAGY,EAAAA,EAAAA,IAAEJ,EAAEf,EAAEG,KAAKqP,KAAKrP,KAAKsP,UAAK,EAAO9O,EAAE,E,2HCAjD,IAAIQ,EAAE,cAAcZ,EAAAA,EAAEoD,WAAAA,CAAY/C,GAAGgD,MAAMhD,GAAGT,KAAKyN,gBAAgB,IAAIjN,EAAAA,CAAC,CAACgK,OAAAA,GAAUxK,KAAKyN,gBAAgBjD,SAAS,CAAC,YAAIiF,GAAW,OAAOzP,KAAKyN,gBAAgBgC,QAAQ,CAAC,SAAItP,GAAQ,OAAOH,KAAKoN,UAAUjN,KAAK,CAAC,QAAI4J,GAAO,OAAO/J,KAAKoN,UAAUrD,IAAI,CAAC,aAAIyB,GAAY,OAAOxL,KAAKoN,UAAU5B,SAAS,CAAC,eAAIkE,GAAc,OAAO1P,KAAKoN,UAAUsC,WAAW,IAAGjP,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,IAAE,CAAC+O,eAAc,KAAM3O,EAAE8E,UAAU,iBAAY,IAAQrF,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,IAAE,CAACgP,UAAS,KAAM5O,EAAE8E,UAAU,uBAAkB,IAAQrF,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,OAAKI,EAAE8E,UAAU,WAAW,OAAMrF,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,OAAKI,EAAE8E,UAAU,QAAQ,OAAMrF,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,OAAKI,EAAE8E,UAAU,OAAO,OAAMrF,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,OAAKI,EAAE8E,UAAU,YAAY,OAAMrF,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,OAAKI,EAAE8E,UAAU,cAAc,MAAM9E,GAAEP,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,GAAE,mCAAmCc,E,iJCA9f,MAAMyB,EAAEA,IAAI,IAAIH,EAAE,cAAcG,EAAEe,WAAAA,GAAcC,SAAS2L,WAAWpP,KAAK6P,mBAAkB,EAAG7P,KAAK8P,8BAA6B,CAAE,CAACC,UAAAA,GAAatM,MAAMsM,cAAa/O,EAAAA,EAAAA,IAAEhB,KAAKG,QAAQH,KAAKgQ,oBAAoBhQ,KAAKiQ,2BAA2B,CAAC,8BAAMA,GAA2B,MAAM/P,EAAE,IAAI4M,gBAAgB1M,EAAEF,EAAE8M,OAAOhN,KAAKC,YAAWO,EAAAA,EAAAA,IAAG,IAAIN,EAAE6M,gBAAiBnM,EAAAA,EAAAA,IAAG,SAAAsP,EAAA,OAA6B,QAA7BA,EAAIlQ,KAAK+J,KAAKoG,uBAAe,IAAAD,OAAA,EAAzBA,EAA2BE,sBAAsBhQ,IAAGK,EAAAA,EAAAA,IAAEL,GAAG,MAAMP,GAAEC,EAAAA,EAAAA,IAAEE,KAAKG,MAAMH,KAAK+J,KAAKsG,gBAAgBrQ,KAAK8P,8BAA8B,GAAGjQ,EAAE,MAAMA,CAAC,GAAG,OAAOK,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAKkC,EAAEwD,UAAU,YAAO,IAAQ5F,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAKkC,EAAEwD,UAAU,yBAAoB,GAAQxD,GAAEpC,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,GAAE,qCAAqCyC,GAAGA,E,kGCA5lC,MAAMoB,GAAEjD,EAAAA,EAAAA,MAAI6P,MAAMxH,EAAAA,EAAE/G,UAAUjB,GAAEL,EAAAA,EAAAA,MAAI6P,MAAMxH,EAAAA,EAAE/G,UAAUwO,QAAQzH,EAAAA,EAAE9G,KAAKX,GAAEZ,EAAAA,EAAAA,MAAI6P,MAAMxH,EAAAA,EAAE/G,UAAUyO,OAAO1H,EAAAA,EAAE2H,OAAkE7P,IAAzDH,EAAAA,EAAAA,MAAI6P,MAAMxH,EAAAA,EAAE/G,UAAUwO,QAAQzH,EAAAA,EAAE9G,KAAKwO,OAAO1H,EAAAA,EAAE4H,YAAajQ,EAAAA,EAAAA,MAAI6P,MAAMxH,EAAAA,EAAE/G,UAAU4O,MAAM7H,EAAAA,EAAE9G,MAAK5B,GAAEK,EAAAA,EAAAA,MAAI6P,MAAMxH,EAAAA,EAAE/G,UAAU4O,MAAM7H,EAAAA,EAAE9G,KAAKwO,OAAO1H,EAAAA,EAAE4H,U,mLCAgQ,IAAI7P,EAAE,cAAchB,EAAAA,EAAE+Q,kBAAkBnO,EAAAA,EAAEoO,iBAAiBzQ,EAAAA,EAAE0Q,aAAalQ,EAAAA,MAAM,6BAAImQ,GAA4B,OAAM,CAAE,CAACvN,WAAAA,CAAY/C,GAAGgD,MAAMhD,GAAGT,KAAKgR,iBAAiB,IAAIhQ,EAAAA,EAAEhB,KAAKG,MAAM,KAAKH,KAAKiR,OAAO,IAAI,CAAClR,UAAAA,GAAaC,KAAKkR,OAAO3Q,MAAOE,IAAI,GAAG,2BAA2BA,EAAE0Q,KAAK,KAAAC,EAAC,MAAMxQ,EAAEZ,KAAKG,OAAOH,KAAKG,MAAMkR,IAAI,QAAQjR,GAAY,QAAVgR,EAAApR,KAAKG,aAAK,IAAAiR,OAAA,EAAVA,EAAYE,QAAO,WAAW9Q,EAAAA,EAAEE,UAAUV,MAAMW,MAAM,aAAY,+CAAA4Q,OAAgDnR,EAAC,YAAAmR,OAAW3Q,EAAC,MAAKH,EAAE,GAAI,CAAC+J,OAAAA,GAAUxK,KAAKgR,kBAAiB1O,EAAAA,EAAAA,IAAEtC,KAAKgR,iBAAiB,CAAC,eAAItB,GAAa,IAAA8B,EAAAC,EAAAC,EAAAC,EAAC,OAA0B,QAApBH,EAAW,QAAXC,EAACzR,KAAKG,aAAK,IAAAsR,OAAA,EAAVA,EAAY/O,eAAO,IAAA8O,EAAAA,EAAE,IAA4B,QAA3BE,EAAc,QAAdC,EAAG3R,KAAKiR,cAAM,IAAAU,OAAA,EAAXA,EAAajC,mBAAW,IAAAgC,EAAAA,EAAE,EAAE,CAAC,aAAIlG,GAAY,OAAOxL,KAAK4R,YAAY5R,KAAK6R,WAAW,CAAC,eAAIC,GAAc,OAAO9R,KAAK+R,gBAAgB,CAAC,iBAAIC,GAAe,IAAAC,EAAC,OAAOjS,KAAKwL,YAAW,KAAe,QAAbyG,EAAGjS,KAAKG,aAAK,IAAA8R,OAAA,EAAVA,EAAYD,cAAa,CAAC,YAAIvC,GAAU,IAAAyC,EAAC,SAA8B,QAAtBA,EAAClS,KAAKgR,wBAAgB,IAAAkB,IAArBA,EAAuBzC,YAAWzP,KAAKmS,aAAa,CAAC,oBAAIC,GAAmB,OAAOpS,KAAKyP,SAAS,EAAE,CAAC,CAAC,mBAAI4C,GAAkB,OAAOrS,KAAKwL,SAAS,CAAC,WAAIvE,GAAS,IAAAqL,EAAC,OAAM,KAAe,QAAbA,EAAGtS,KAAKG,aAAK,IAAAmS,OAAA,EAAVA,EAAYrL,QAAO,CAAC,WAAIA,CAAQxG,GAAGT,KAAKuS,gBAAgB,UAAU9R,EAAE,CAAC,yBAAI+R,GAAwB,OAAM,CAAE,CAAC,8BAAIC,GAA4B,IAAAC,EAAC,MAAMjS,EAAET,KAAK+J,KAAK4I,WAAW/R,EAAY,QAAX8R,EAAC1S,KAAKG,aAAK,IAAAuS,OAAA,EAAVA,EAAYE,qBAAqB,OAAOnS,IAAIG,IAAIH,EAAEoS,aAAajS,GAAGkS,OAAO,CAACjB,SAAAA,GAAW,IAAAkB,EAAAC,EAAC,MAAMvS,EAAET,KAAKG,OAAO,wBAAwBH,KAAKG,MAAMH,KAAKG,MAAM8S,oBAAoB,KAAK,OAAOjT,KAAKiH,UAAmB,QAAZ8L,EAAE/S,KAAKG,aAAK,IAAA4S,OAAA,EAAVA,EAAYnE,SAAQ5O,KAAKiR,SAASjR,KAAKiR,OAAOzF,YAAoB,QAAXwH,EAAEhT,KAAK+J,YAAI,IAAAiJ,OAAA,EAATA,EAAW9D,SAAO/M,EAAAA,EAAAA,IAAE1B,IAAIT,KAAKwS,uBAAuBxS,KAAKyS,6BAA4B,CAAE,CAACV,cAAAA,GAAgB,IAAAmB,EAAAC,EAAC,MAAM1S,EAAa,QAAXyS,EAAAlT,KAAKiR,cAAM,IAAAiC,GAAXA,EAAa1H,UAAUxL,KAAKiR,OAAOa,YAAY,CAAC,EAAe,QAANqB,EAALnT,KAAO+J,YAAI,IAAAoJ,GAANA,EAAQjE,QAAQzO,EAAE2S,cAAa,GAAIpT,KAAKG,OAAOH,KAAKG,MAAMyO,SAASnO,EAAE4S,gBAAe,GAAI,MAAMjT,EAAEJ,KAAKG,OAAO,wBAAwBH,KAAKG,MAAMH,KAAKG,MAAM8S,oBAAoB,KAAK,OAAO9Q,EAAAA,EAAAA,IAAE/B,IAAIJ,KAAKwS,wBAAwB/R,EAAE6S,mBAAkB,GAAItT,KAAKyS,6BAA6BhS,EAAE8S,6BAA4B,GAAIvT,KAAKiH,UAAUxG,EAAE+S,gBAAe,GAAI/S,CAAC,CAAC0R,UAAAA,GAAa,OAAM,CAAE,IAAG1R,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAM/O,EAAEiF,UAAU,4BAA4B,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKW,EAAEiF,UAAU,YAAO,IAAQrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKW,EAAEiF,UAAU,cAAc,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKW,EAAEiF,UAAU,aAAQ,IAAQrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKW,EAAEiF,UAAU,cAAS,IAAQrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAM/O,EAAEiF,UAAU,YAAY,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAM/O,EAAEiF,UAAU,cAAc,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAM/O,EAAEiF,UAAU,gBAAgB,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAACuJ,KAAKgK,QAAQ7D,UAAS,KAAM/O,EAAEiF,UAAU,WAAW,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAM/O,EAAEiF,UAAU,mBAAmB,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKW,EAAEiF,UAAU,kBAAkB,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKW,EAAEiF,UAAU,UAAU,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAM/O,EAAEiF,UAAU,wBAAwB,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAM/O,EAAEiF,UAAU,6BAA6B,MAAMjF,GAAEJ,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,GAAE,gCAAgCe,E,+LCAz/E,IAAIU,EAAE,eAAcY,EAAAA,EAAAA,IAAEnB,EAAAA,EAAAA,GAAEyB,EAAAA,KAAKe,WAAAA,GAAcC,SAAS2L,WAAWpP,KAAK0T,sCAAsC,KAAK1T,KAAK2T,kBAAiB9T,EAAAA,EAAAA,IAAGwM,UAAUrM,KAAK4R,iBAAiB5R,KAAK4T,WAAWnT,GAAGF,MAAOE,KAAIL,EAAAA,EAAAA,IAAEK,IAAID,EAAAA,EAAEE,UAAUV,MAAMW,MAAMF,MAAQ,IAAI,CAAC,yBAAI+R,GAAwB,MAAM/R,EAAET,KAAKG,MAAMK,EAAE,wBAAwBC,EAAEA,EAAEwS,oBAAoB,KAAK,OAAOnS,EAAAA,EAAAA,IAAEN,EAAER,KAAK+J,KAAK8J,MAAM,CAAC1B,UAAAA,GAAY,IAAA2B,EAAC,OAAOrQ,MAAM0O,eAA0B,QAAd2B,EAAE9T,KAAK+T,eAAO,IAAAD,OAAA,EAAZA,EAAcrE,SAAQ,CAAC1P,UAAAA,GAAaC,KAAKgU,eAAe,UAAUhU,KAAK+J,KAAKkF,aAAajP,KAAKgQ,oBAAoB,UAAUhQ,KAAK0T,4CAA4C7S,EAAAA,EAAAA,GAAEb,KAAKG,MAAM8T,WAAWjU,KAAK+J,KAAKW,kBAA7F,IAAmH1K,KAAKgR,iBAAiBnP,IAAK,IAAI7B,KAAKwL,UAAY,IAAIxL,KAAKkU,0BAA2B,CAAC1J,OAAAA,GAAUxK,KAAK+T,SAAQnT,EAAAA,EAAAA,IAAEZ,KAAK+T,QAAQ,CAACC,YAAAA,GAAehU,KAAK+T,QAAQ,IAAIzR,EAAAA,EAAE,CAAC8K,UAAUpN,MAAM,CAAC,eAAMK,GAAY,OAAOL,KAAK4T,YAAY,CAAC,gBAAMA,CAAWnT,GAAGT,KAAKwL,iBAAiBxL,KAAK+T,QAAQ1T,UAAUI,EAAE,CAAC4M,eAAAA,GAAkB,CAAC6G,uBAAAA,GAA0BlU,KAAKwL,UAAUxL,KAAK+T,QAAQtJ,QAAQzK,KAAK2T,kBAAkB,CAAC,QAAIQ,GAAO,IAAG1T,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKqB,EAAEuE,UAAU,aAAQ,IAAQrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKqB,EAAEuE,UAAU,iBAAY,IAAQrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKqB,EAAEuE,UAAU,6CAAwC,IAAQrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,IAAE,CAAC0P,UAAS,KAAMrO,EAAEuE,UAAU,wBAAwB,OAAMrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKqB,EAAEuE,UAAU,gBAAW,IAAQrF,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKqB,EAAEuE,UAAU,eAAU,GAAQvE,GAAEd,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,GAAE,4CAA4CyB,E","sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DrapedSubView3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/layers/SubView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{If as n,glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as m}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{NoParameters as c}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";class u extends c{}function w(c){const u=new p,{vertex:w,fragment:b,varyings:f}=u,{output:h,perspectiveInterpolation:j}=c;return a(w,c),u.include(i,c),u.include(s,c),u.fragment.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(m.POSITION,\"vec3\"),u.attributes.add(m.UV0,\"vec2\"),j&&u.attributes.add(m.PERSPECTIVEDIVIDE,\"float\"),w.main.add(d`\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${n(j,\"gl_Position *= perspectiveDivide;\")}`),f.add(\"vpos\",\"vec3\",{invariant:!0}),f.add(\"vTexCoord\",\"vec2\"),b.include(t),b.uniforms.add(new l(\"opacity\",(e=>e.opacity)),new g(\"tex\",(e=>e.glTexture))).main.add(d`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${n(h===e.ObjectAndLayerIdColor,\"fragColor = vec4(0, 0, 0, 1); return;\")}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),u}const b=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:u,build:w},Symbol.toStringTag,{value:\"Module\"}));export{b as I,u as a,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{oitPolygonOffset as l,getDrawBuffers as s,depthWrite as n,oitDepthTest as o,oitBlending as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as c,stencilWriteMaskOn as u}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as d}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,defaultColorWrite as f,cullingParams as g,premultipliedAlpha as P}from\"../../../webgl/renderState.js\";class j extends r{constructor(e,r){super(e,r,new t(d,(()=>import(\"./ImageMaterial.glsl.js\"))),I)}_getPipelineState(t,r){const{oitPass:m,output:d,hasOccludees:j,cullFace:I}=t,S=m===i.NONE;return h({blending:e(d)?S?P:a(m):null,culling:g(I),depthTest:{func:o(m)},depthWrite:n(t),drawBuffers:s(m,d),colorWrite:f,stencilWrite:j?u:null,stencilTest:j?r?p:c:null,polygonOffset:l(t)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const I=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{j as ImageMaterialTechnique,I as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(e){super(),this.draped=e,this.cullFace=i.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1,this.snowCover=!1}}e([r({count:i.COUNT})],a.prototype,\"cullFace\",void 0),e([r()],a.prototype,\"enableOffset\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0),e([r()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import s from\"../lib/GLMaterial.js\";import{isUpdatableTexture as a}from\"../lib/ITexture.js\";import{MaterialParameters as o}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{assert as p}from\"../lib/Util.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as c}from\"./DefaultBufferWriter.js\";import{PositionUvLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as f}from\"./TriangleMaterial.js\";import{writeBufferFloat as m,writeDefaultAttribute as g}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as d,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as I}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class _ extends f{constructor(e){super(e,x),this.vertexAttributeLocations=d,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,e=>t(e)],[u.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._configuration=new I(e.draped)}dispose(){this.setParameters({texture:void 0})}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<n,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new b(e)}createBufferWriter(){let e=h;return this.parameters.perspectiveInterpolation&&(e=e.clone().f32(l.PERSPECTIVEDIVIDE)),new E(e)}}class b extends s{constructor(e){super({...e,...e.material.parameters}),this.parameters=e;const t=this._material.parameters.texture;a(t)&&e.textures.updater.add(t)}dispose(){this.parameters.textures.updater.remove(this._material.parameters.texture)}beginSlot(e){return this.getTechnique(T,e)}}class E extends c{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===l.PERSPECTIVEDIVIDE){p(1===s.size);const t=a.getField(n,e);t&&m(s,t,o)}else g(n,s,t,r,a,o)}return null}}class x extends o{constructor(e,t){super(),this.texture=e,this.draped=t,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}get glTexture(){return this.texture.glTexture}}export{_ as ImageMaterial,x as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{abortMaybe as s}from\"../../../core/maybe.js\";import{isAbortError as o,onAbort as n,throwIfAborted as l,isAborted as h,createAbortError as m}from\"../../../core/promiseUtils.js\";import{whenOnce as g}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../geometry/Extent.js\";import{create as p,equals as f,width as y,height as x,copy as w,intersection as _}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as b}from\"./interfaces.js\";import R from\"./SubView3D.js\";import{computeImageExportSize as E,createGeometryForExtent as v,createOuterImageGeometry as j}from\"./support/overlayImageUtils.js\";import{debugFlags as S}from\"../support/debugFlags.js\";import{OverlayIndex as A}from\"../terrain/interfaces.js\";import{DirtyOperation as I}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as M}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as T}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as D}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as G}from\"../webgl-engine/materials/ImageMaterial.js\";import{TextureWrapMode as P}from\"../../webgl/enums.js\";let C=class extends R{constructor(e){super(e),this.drapeSourceType=b.RasterImage,this.updatePolicy=D.SYNC,this.type=\"draped\",this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this._drapeSourceRenderer=null}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this))))}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}destroy(){this.clear()}get spatialReference(){return this._spatialReference}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,O);if(null==r)return;const i=E(e.extent,r,e.resolution);let s=e.pixelRatio*this.view.state.pixelRatio;const{layer:n}=this;if(\"imageMaxWidth\"in n&&null!=n.imageMaxWidth||\"imageMaxHeight\"in n&&null!=n.imageMaxHeight){const e=n.imageMaxWidth,t=n.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,s*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,s*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:p(r),imageSize:i,pixelRatio:s},this.suspended||this._fetch(t).catch((e=>{o(e)||a.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(e){const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new u(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=y(e)/this.maximumDataResolution.x,a=x(e)/this.maximumDataResolution.y,s=i/t.width,o=a/t.height,n=i/r.width,l=a/r.height,h=Math.abs(s-n),m=Math.abs(o-l),g=S.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=g&&m<=g}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:p(i)});const g=this._images[e];g.loadingAbortController=s(g.loadingAbortController);const d=new u(i[0],i[1],i[2],i[3],this._spatialReference);if(0===d.width||0===d.height)return void this._clearImage(e);const c=new AbortController;g.loadingAbortController=c,n(t,(()=>c.abort()));const f=c.signal,y=this._waitFetchReady(f).then((async()=>{l(f);const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.layerView.getFetchOptions(),signal:f},{height:i,width:a}=r.imageSize;return this.layer?\"imagery\"===this.layer.type?this.layer.internalFetchImage(d,a,i,t):this.layer.fetchImage(d,a,i,t):null})).then((e=>{if(h(f))throw a.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(g,e)})).then((()=>{w(g.renderExtent,i)}));g.loadingPromise=y,await this.updatingHandles.addPromise(y.then((async()=>{l(f),await this._createStageObjects(e,g.image,f)})).catch((e=>{throw e&&!o(e)&&a.getLogger(this).error(e),e})).finally((()=>{y===g.loadingPromise&&(g.loadingPromise=null,g.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],I.UPDATE),t.renderGeometry=null);const e=this.view.stage,r=t.texture;r?.unload(),e.removeTexture(r),t.texture=null,t.material=null,t.loadingAbortController=s(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const a=this.view.stage,s=this._images[e],o=()=>{s.texture?.unload(),a.removeTexture(s.texture),s.texture=null,s.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([s.renderGeometry],I.UPDATE),s.renderGeometry=null)};if(t){const n=new T(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:P.CLAMP_TO_EDGE,t:P.CLAMP_TO_EDGE}});if(await r(this._images[e===A.INNER?A.OUTER:A.INNER].loadingPromise),l(i),o(),await a.schedule((()=>n.load(a.renderView.renderingContext)),i),!n.loaded)return void o();let h;if(a.addTexture(n),s.texture=n,s.material??=new G({draped:!0,texture:n}),s.material.setParameters({texture:n}),e===A.INNER)h=v(s.material,s.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void o();h=j(s.material,e,s.renderExtent)}s.renderGeometry=new M(h),s.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([s.renderGeometry],I.UPDATE)}else o(),s.material=null}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return w(t,e);const r=this.view.basemapTerrain;return r.ready?_(e,r.extent,t):w(t,e)}async _waitFetchReady(e){await g((()=>this.view.stationary),e),l(e)}};e([d()],C.prototype,\"type\",void 0),C=e([c(\"esri.views.3d.layers.DrapedSubView3D\")],C);const O=p();export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Material as i}from\"../lib/Material.js\";import{intersectTriangleGeometry as p}from\"../lib/RayIntersections.js\";class r extends i{constructor(){super(...arguments),this._pp0=t(0,0,1),this._pp1=t(0,0,0)}intersect(t,i,r,s,e,o){return p(t,r,s,e,void 0,o)}intersectDraped(t,i,r,s){return this._pp0[0]=this._pp1[0]=r[0],this._pp0[1]=this._pp1[1]=r[1],p(t,i,this._pp0,this._pp1,void 0,s)}}export{r as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as s}from\"../../../core/support/UpdatingHandles.js\";let p=class extends r{constructor(e){super(e),this.updatingHandles=new s}destroy(){this.updatingHandles.destroy()}get updating(){return this.updatingHandles.updating}get layer(){return this.layerView.layer}get view(){return this.layerView.view}get suspended(){return this.layerView.suspended}get fullOpacity(){return this.layerView.fullOpacity}};e([t({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([t({readOnly:!0})],p.prototype,\"updatingHandles\",void 0),e([t()],p.prototype,\"updating\",null),e([t()],p.prototype,\"layer\",null),e([t()],p.prototype,\"view\",null),e([t()],p.prototype,\"suspended\",null),e([t()],p.prototype,\"fullOpacity\",null),p=e([o(\"esri.views.3d.layers.SubView3D\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const I=e().vec3f(O.POSITION),c=e().vec3f(O.POSITION).vec2f16(O.UV0),f=e().vec3f(O.POSITION).vec4u8(O.COLOR),v=e().vec3f(O.POSITION).vec2f16(O.UV0).vec4u8(O.OLIDCOLOR),t=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OLIDCOLOR);export{f as PositionColorLayout,I as PositionLayout,c as PositionUvLayout,v as PositionUvOlidLayout,t as PositionUvf32Layout,r as PositionUvf32OlidLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import s from\"../../../core/Logger.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{debounce as i,isAbortError as r}from\"../../../core/promiseUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./DrapedSubView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import l from\"../../layers/LayerView.js\";import d from\"../../layers/RefreshableLayerView.js\";import{isInEffectiveScaleRange as c}from\"../../support/layerViewUtils.js\";import{projectWithZConversionSilent as u}from\"../../support/projectionUtils.js\";let h=class extends(d(p(l))){constructor(){super(...arguments),this.fullExtentInLocalViewSpatialReference=null,this.refreshDebounced=i((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{r(e)||s.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,s=\"effectiveScaleRange\"in e?e.effectiveScaleRange:null;return c(s,this.view.scale)}isUpdating(){return super.isUpdating()||this.subView?.updating}initialize(){this._initSubView(),\"local\"===this.view.viewingMode&&this.addResolvingPromise((async()=>this.fullExtentInLocalViewSpatialReference=await u(this.layer.fullExtent,this.view.spatialReference))()),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.subView=t(this.subView)}_initSubView(){this.subView=new n({layerView:this})}async doRefresh(){return this._doRefresh()}async _doRefresh(e){this.suspended||await this.subView.doRefresh(e)}getFetchOptions(){}_suspendedChangeHandler(){this.suspended?this.subView.clear():this.refreshDebounced()}get test(){}};e([o()],h.prototype,\"layer\",void 0),e([o()],h.prototype,\"suspended\",void 0),e([o()],h.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([o({readOnly:!0})],h.prototype,\"visibleAtCurrentScale\",null),e([o()],h.prototype,\"updating\",void 0),e([o()],h.prototype,\"subView\",void 0),h=e([a(\"esri.views.3d.layers.DynamicLayerView3D\")],h);export{h as default};\n"],"names":["i","a","initialize","this","addHandles","o","layer","r","doRefresh","dataChanged","catch","s","e","getLogger","error","t","u","c","w","p","vertex","fragment","b","varyings","f","output","h","perspectiveInterpolation","j","include","v","attributes","add","m","POSITION","UV0","PERSPECTIVEDIVIDE","main","d","_templateObject","_taggedTemplateLiteral","n","invariant","uniforms","l","opacity","g","glTexture","_templateObject2","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","ImageMaterialPassParameters","build","Symbol","toStringTag","value","constructor","super","I","_getPipelineState","oitPass","hasOccludees","cullFace","S","NONE","blending","P","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","Map","draped","None","enableOffset","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","snowCover","count","COUNT","prototype","_","x","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","_configuration","dispose","setParameters","texture","getConfiguration","hasSlicePlane","camera","relativeElevation","visible","createGLMaterial","createBufferWriter","clone","f32","E","_objectSpread","material","_material","textures","updater","remove","beginSlot","getTechnique","T","write","vertexBufferLayout","fields","keys","get","size","getField","Math","min","max","y","Array","A","M","O","G","length","NORMAL","C","R","drapeSourceType","RasterImage","updatePolicy","D","SYNC","type","maximumDataResolution","_images","_extents","_overlays","_drapeSourceRenderer","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","unregisterDrapeSource","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","destroy","clear","spatialReference","_clippedExtent","extent","width","height","round","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","suspended","_fetch","_clearImage","push","Promise","allSettled","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","redraw","async","_createStageObjects","abs","TESTS_DISABLE_OPTIMIZATIONS","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","then","requestAsImageElement","layerView","getFetchOptions","internalFetchImage","fetchImage","warnOnce","updatingHandles","addPromise","finally","removeGeometries","UPDATE","stage","unload","removeTexture","_s$texture","_s$material","preMultiplyAlpha","wrap","CLAMP_TO_EDGE","INNER","OUTER","schedule","load","renderView","renderingContext","loaded","addTexture","localOrigin","renderLocalOrigin","addGeometries","viewingMode","ready","stationary","arguments","_pp0","_pp1","intersect","intersectDraped","updating","fullOpacity","constructOnly","readOnly","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","vec3f","vec2f16","vec4u8","COLOR","OLIDCOLOR","vec2f","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","_updatingHandles","parent","when","name","_this$layer","id","title","concat","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","_this$_updatingHandle","isUpdating","updatingProgress","updateSuspended","_this$layer4","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","_this$layer5","timeExtent","visibilityTimeExtent","intersection","isEmpty","_this$layer6","_this$view","effectiveScaleRange","_this$parent2","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean","fullExtentInLocalViewSpatialReference","refreshDebounced","_doRefresh","scale","_this$subView","subView","_initSubView","fullExtent","_suspendedChangeHandler","test"],"sourceRoot":""}