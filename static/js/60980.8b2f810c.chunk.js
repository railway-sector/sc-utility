"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[60980],{60980:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var l=t(6326),s=t(46053),r=t(87990),a=t(92339);let n=class extends a.A{constructor(){super(...arguments),this.type="group"}};(0,l.Cg)([(0,s.MZ)()],n.prototype,"view",void 0),n=(0,l.Cg)([(0,r.$)("esri.views.3d.layers.GroupLayerView3D")],n);const d=n},91196:(e,i,t)=>{t.d(i,{A:()=>v});var l=t(6326),s=t(54099),r=t(5632),a=t(76460),n=t(30726),d=t(91291),y=t(46053),o=(t(81806),t(47249),t(87990)),u=t(19451),p=t(90992);let v=class extends((0,r.sA)((0,d.g)(s.nJ))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new u.U,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if("layerview:create-error"!==e.name){var i;const t=this.layer&&this.layer.id||"no id",l=(null===(i=this.layer)||void 0===i?void 0:i.title)||"no title";a.A.getLogger(this).error("#resolve()","Failed to resolve layer view (layer title: '".concat(l,"', id: '").concat(t,"')"),e)}})}destroy(){this._updatingHandles=(0,n.pR)(this._updatingHandles),this._set("parent",null)}get fullOpacity(){var e,i,t,l;return(null!==(e=null===(i=this.layer)||void 0===i?void 0:i.opacity)&&void 0!==e?e:1)*(null!==(t=null===(l=this.parent)||void 0===l?void 0:l.fullOpacity)&&void 0!==t?t:1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){var e;return!this.suspended&&!0===(null===(e=this.layer)||void 0===e?void 0:e.legendEnabled)}get updating(){var e;return!((null===(e=this._updatingHandles)||void 0===e||!e.updating)&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){var e;return!0===(null===(e=this.layer)||void 0===e?void 0:e.visible)}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){var e;const i=this.view.timeExtent,t=null===(e=this.layer)||void 0===e?void 0:e.visibilityTimeExtent;return!i||!t||!i.intersection(t).isEmpty}canResume(){var e,i;const t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&(null===(e=this.layer)||void 0===e?void 0:e.loaded)&&this.parent&&!this.parent.suspended&&(null===(i=this.view)||void 0===i?void 0:i.ready)&&(0,p.g7)(t)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){var e,i;const t=null!==(e=this.parent)&&void 0!==e&&e.suspended?this.parent.suspendInfo:{};null!==(i=this.view)&&void 0!==i&&i.ready||(t.viewNotReady=!0),this.layer&&this.layer.loaded||(t.layerNotLoaded=!0);const l=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,p.g7)(l)&&this.visibleAtCurrentScale||(t.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(t.outsideVisibilityTimeExtent=!0),this.visible||(t.layerInvisible=!0),t}isUpdating(){return!1}};(0,l.Cg)([(0,y.MZ)({readOnly:!0})],v.prototype,"spatialReferenceSupported",null),(0,l.Cg)([(0,y.MZ)()],v.prototype,"view",void 0),(0,l.Cg)([(0,y.MZ)()],v.prototype,"fullOpacity",null),(0,l.Cg)([(0,y.MZ)()],v.prototype,"layer",void 0),(0,l.Cg)([(0,y.MZ)()],v.prototype,"parent",void 0),(0,l.Cg)([(0,y.MZ)({readOnly:!0})],v.prototype,"suspended",null),(0,l.Cg)([(0,y.MZ)({readOnly:!0})],v.prototype,"suspendInfo",null),(0,l.Cg)([(0,y.MZ)({readOnly:!0})],v.prototype,"legendEnabled",null),(0,l.Cg)([(0,y.MZ)({type:Boolean,readOnly:!0})],v.prototype,"updating",null),(0,l.Cg)([(0,y.MZ)({readOnly:!0})],v.prototype,"updatingProgress",null),(0,l.Cg)([(0,y.MZ)()],v.prototype,"updateSuspended",null),(0,l.Cg)([(0,y.MZ)()],v.prototype,"visible",null),(0,l.Cg)([(0,y.MZ)({readOnly:!0})],v.prototype,"visibleAtCurrentScale",null),(0,l.Cg)([(0,y.MZ)({readOnly:!0})],v.prototype,"visibleAtCurrentTimeExtent",null),v=(0,l.Cg)([(0,o.$)("esri.views.layers.LayerView")],v)},92339:(e,i,t)=>{t.d(i,{A:()=>o});var l=t(6326),s=t(19276),r=t(3975),a=t(68134),n=t(46053),d=(t(81806),t(76460),t(47249),t(87990)),y=t(91196);let o=class extends y.A{constructor(e){super(e),this.type="group",this.layerViews=new s.A}destroy(){this.layerViews.length=0}_allLayerViewVisibility(e){this.layerViews.forEach(i=>{i.visible=e})}initialize(){this.addHandles([this.layerViews.on("change",e=>this._layerViewsChangeHandler(e)),(0,a.wB)(()=>{var e;return null===(e=this.layer)||void 0===e?void 0:e.visibilityMode},()=>{this.layer&&this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null))},a.OH),(0,a.wB)(()=>this.visible,e=>{this._applyVisibility(()=>this._allLayerViewVisibility(e),()=>{})},a.OH)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}get creatingLayerViews(){var e,i;return null!==(e=null===(i=this.view)||void 0===i||null===(i=i.layerViewManager)||void 0===i?void 0:i.isCreatingLayerViewsForLayer(this.layer))&&void 0!==e&&e}set layerViews(e){this._set("layerViews",(0,r.V)(e,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce((e,i)=>e+i.updatingProgress,0)/this.layerViews.length}isUpdating(){return this.creatingLayerViews||this.layerViews.some(e=>e.updating)}_hasLayerViewVisibleOverrides(){return this.layerViews.some(e=>e._isOverridden("visible"))}_findLayerViewForLayer(e){return e&&this.layerViews.find(i=>i.layer===e)}_firstVisibleOnLayerOrder(){const e=this.layer.layers.find(e=>{const i=this._findLayerViewForLayer(e);return!(null===i||void 0===i||!i.visible)});return e&&this._findLayerViewForLayer(e)}_applyExclusiveVisibility(e){null==e&&null==(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach(i=>{i.visible=i===e})}_layerViewsChangeHandler(e){this.removeHandles("grouplayerview:visible"),this.addHandles(this.layerViews.map(e=>(0,a.wB)(()=>e.visible,i=>this._applyVisibility(()=>{i!==this.visible&&(e.visible=this.visible)},()=>this._applyExclusiveVisibility(i?e:null)),a.OH)).toArray(),"grouplayerview:visible");const i=e.added[e.added.length-1];this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null!==i&&void 0!==i&&i.visible?i:null))}_applyVisibility(e,i){var t,l;this._hasLayerViewVisibleOverrides()&&("inherited"===(null===(t=this.layer)||void 0===t?void 0:t.visibilityMode)?e():"exclusive"===(null===(l=this.layer)||void 0===l?void 0:l.visibilityMode)&&i())}};(0,l.Cg)([(0,n.MZ)({readOnly:!0})],o.prototype,"creatingLayerViews",null),(0,l.Cg)([(0,n.MZ)({cast:r.H})],o.prototype,"layerViews",null),(0,l.Cg)([(0,n.MZ)({readOnly:!0})],o.prototype,"updatingProgress",null),(0,l.Cg)([(0,n.MZ)()],o.prototype,"view",void 0),o=(0,l.Cg)([(0,d.$)("esri.views.layers.GroupLayerView")],o)}}]);
//# sourceMappingURL=60980.8b2f810c.chunk.js.map