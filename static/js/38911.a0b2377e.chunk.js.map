{"version":3,"file":"static/js/38911.a0b2377e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as s}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as o,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projectionUtils.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(e,t,r){const{geometry:s}=t,i={...t.attributes};if(null!=r&&\"mesh\"===s?.type){const{transformFieldRoles:t}=r,{origin:c,spatialReference:p,vertexSpace:m}=s,f=s.transform??new u,g=\"local\"===m.type,b=e.spatialReference,y=b.isGeographic,R=d(b,p),h=o(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[t.originX]=I.x,i[t.originY]=I.y,i[t.originZ]=I.z??0,null!=f){const{translation:e,scale:r,rotation:s}=f,o=g?1:a(p)/a(b);i[t.translationX]=e[0]*o,i[t.translationY]=e[2]*o,i[t.translationZ]=-e[1]*o,i[t.scaleX]=r[0],i[t.scaleY]=r[2],i[t.scaleZ]=r[1],i[t.rotationX]=s[0],i[t.rotationY]=s[2],i[t.rotationZ]=-s[1],i[t.rotationDeg]=s[3]}return{attributes:i}}return null==s?{attributes:i}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:i}}async function f(e,t){const r=await Promise.all((t.addAttachments??[]).map(t=>g(e,t))),a=await Promise.all((t.updateAttachments??[]).map(t=>g(e,t))),s=t.deleteAttachments??[];return r.length||a.length||s.length?{adds:r,updates:a,deletes:[...s]}:null}async function g(e,t){const{feature:r,attachment:a}=t,{globalId:o,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:o};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[e.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const e=await s(i);e&&(d.contentType=e.mediaType,d.data=e.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(e,t,r){if(!t||0===t.length)return[];if(r&&c(t))return t.map(e=>e.globalId);if(p(t))return t.map(e=>e.objectId);const a=r?e.globalIdField:e.objectIdField;return a?t.map(e=>e.getAttribute(a)):[]}function y(e){const t=e?.assetMaps;if(t){for(const e of t.addResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of t.updateResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const a=e?.attachments,s={addFeatureResults:e?.addResults?.map(R)??[],updateFeatureResults:e?.updateResults?.map(R)??[],deleteFeatureResults:e?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return e?.editMoment&&(s.editMoment=e.editMoment),s}function R(e){const r=!0===e.success?null:e.error||{code:void 0,description:\"Feature edit failed\"};return{objectId:e.objectId,globalId:e.globalId,error:r?new t(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(t,r){return new e({attributes:t.attributes,geometry:i({...t.geometry,spatialReference:r})})}function I(e,t){return{adds:e?.adds?.map(e=>h(e,t))||[],updates:e?.updates?.map(e=>({original:h(e[0],t),current:h(e[1],t)}))||[],deletes:e?.deletes?.map(e=>h(e,t))||[],spatialReference:t}}function j(e){const t=e.details.raw,r=+t.code,a=+t.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then(t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)});const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter(e=>!e.error).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter(e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8);if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach(e=>T(e,t))}u.addFeatures.forEach(t=>O(t,e,p,c)),u.updateFeatures.forEach(t=>k(t,e,p,c)),u.deleteFeatures.forEach(t=>U(t,e,p,c)),u.addAttachments.forEach(t=>L(t,e)),u.updateAttachments.forEach(t=>L(t,e)),l&&await x(u,e);return{edits:await B(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function B(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map(e=>e.geometry),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach((e,a)=>t[a].geometry=e),s.slice(i,i+n).forEach((e,t)=>a[t].geometry=e),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!(e&&(s||i)||r?.usingTelecomOperations))throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,B as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n"],"names":["async","m","e","t","r","geometry","s","i","_objectSpread","attributes","type","_s$transform","_I$z","transformFieldRoles","origin","c","spatialReference","p","vertexSpace","f","transform","u","g","b","y","isGeographic","R","d","h","o","n","I","l","originX","x","originY","originZ","z","translation","scale","rotation","a","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","_t$addAttachments","_t$updateAttachments","_t$deleteAttachments","Promise","all","addAttachments","map","updateAttachments","deleteAttachments","length","adds","updates","deletes","_r$attributes","feature","attachment","globalId","name","contentType","data","uploadId","parentGlobalId","globalIdField","mediaType","File","objectId","objectIdField","getAttribute","_e$addResults$map","_e$addResults","_e$updateResults$map","_e$updateResults","_e$deleteResults$map","_e$deleteResults","assetMaps","addResults","success","getLogger","error","concat","updateResults","attachments","addFeatureResults","updateFeatureResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","editMoment","code","description","_e$adds","_e$updates","_e$deletes","original","current","j","details","raw","extendedCode","w","applyEdits","F","A","every","v","$","_s$gdbVersion","arguments","undefined","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","_i$editedFeatureResul","results","edits","_i$addFeatures","_i$updateFeatures","_i$deleteFeatures","_i$addAttachments","_i$updateAttachments","_i$deleteAttachments","load","layer","options","addFeatures","updateFeatures","deleteFeatures","infoFor3D","usingTelecomOperations","editing","supportsGlobalId","globalIdUsed","usingFeatureServiceEndpoint","V","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","_s$addFeatures","_s$updateFeatures","_s$deleteFeatures","_e$addFeatures2","_e$updateFeatures2","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","M","addAssetFeatures","G","fields","filter","forEach","T","O","supportsGeometryUpdate","k","U","L","_e$addAssetFeatures","_e$addFeatures3","push","_e$updateFeatures3","B","S","E","exceededTransferLimit","historicMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","Number","MAX_SAFE_INTEGER","_t$capabilities","_t$capabilities2","hasZ","capabilities","supportsZ","hasM","supportsM","_e$geometry","wkid","_t$capabilities3","supportsUploadWithItemId","isBase64","_e$addFeatures","_e$updateFeatures","slice","_e$geometry2","q","uploadAssets"],"sourceRoot":""}