"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[33808,34429],{4037:(t,e,o)=>{o.d(e,{Q:()=>s,m:()=>i});const i={linear:0,rectangular:1,circular:2},s={isAbsolute:0,isDiscrete:1}},23758:(t,e,o)=>{o.d(e,{KQ:()=>i,Q4:()=>a,Ss:()=>n});const i=8388607,s=8388608,a=t=>t&i;function n(t,e){return((e?s:0)|t)>>>0}},33817:(t,e,o)=>{o.d(e,{F:()=>m});var i=o(35143),s=o(91967),a=o(81806),n=o(67993),r=o(68134),c=o(46053),l=(o(76460),o(47249),o(85842)),u=o(19451);let m=class extends s.A{constructor(t){super(t),this.debugName="",this._updatingHandles=new u.U,this._idToUpdatingState=new n.A}get updating(){const t=this._updatingHandles.updating||Array.from(this._idToUpdatingState.values()).some(t=>t);if((0,a.A)("esri-2d-log-updating")){const e=Array.from(this._idToUpdatingState.entries()).map(t=>{let[e,o]=t;return"-> ".concat(e,": ").concat(o)}).join("\n");console.log("".concat(this.debugName,": Updating: ").concat(t,"\n-> Handles: ").concat(this._updatingHandles.updating,"\n").concat(e))}return t}addUpdateTracking(t,e){const o=(0,r.wB)(()=>e.updating,e=>this._idToUpdatingState.set(t,e),{sync:!0});this.addHandles(o)}addPromise(t){return this._updatingHandles.addPromise(t)}};(0,i._)([(0,c.MZ)({constructOnly:!0})],m.prototype,"debugName",void 0),(0,i._)([(0,c.MZ)({readOnly:!0})],m.prototype,"updating",null),m=(0,i._)([(0,l.$)("esri.views.2d.layers.support.UpdateTracking2D")],m)},34429:(t,e,o)=>{o.d(e,{QueueProcessor:()=>u});var i=o(30726),s=o(50346),a=o(59649),n=o(67993),r=o(52394),c=o(75540);class l{constructor(t,e){this.item=t,this.controller=e,this.promise=null}}class u{constructor(t){this._schedule=null,this._deferreds=new n.A,this._controllers=new n.A,this._processingItems=new n.A,this._pausedSignal=(0,c.v)(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new a.A(t.peeker),this.process=t.process}destroy(){this.clear(),this._schedule=(0,i.xt)(this._schedule)}get updating(){return this.running}get length(){return this._processingItems.size+this._queue.length}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}abort(t){const e=this._controllers.get(t);e&&e.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(e=>t.push(e)),this._controllers.clear(),t.forEach(t=>t.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((e,o)=>t(o))}get(t){const e=this._deferreds.get(t);return e?e.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,e){const o=this.get(t);if(o)return o;const i=new AbortController;let a=null;e&&(a=(0,s.u7)(e,()=>i.abort()));const n=()=>{r.remove(),null!=a&&a.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},r=(0,s.NY)(i.signal,()=>{const e=this._processingItems.get(t);e&&e.controller.abort(),n(),c.reject((0,s.NK)())}),c=(0,s.Tw)();return this._deferreds.set(t,c),this._controllers.set(t,i),c.promise.then(n,n),this._queue.push(t),this._scheduleNext(),c.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var t;const e=this._queue.popLast();return e&&(null!==(t=this._deferreds.get(e))&&void 0!==t&&t.reject((0,s.NK)()),this._removeItem(e)),e}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const e of t)this._queue.push(e.item),e.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._pausedSignal.value||this._schedule||(this._schedule=(0,r._)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,e){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(e))}_processError(t,e){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(e))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(null==t)return;let e;const o=new AbortController,i=new l(t,o);this._processingItems.set(t,i);try{e=this.process(t,o.signal)}catch(a){this._processError(i,a)}(0,s.$X)(e)?(i.promise=e,e.then(t=>this._processResult(i,t),t=>this._processError(i,t))):this._processResult(i,e)}}},43282:(t,e,o)=>{o.d(e,{c:()=>i});const i={bitset:{isSDF:0,isMapAligned:1,scaleSymbolsProportionally:2,overrideOutlineColor:3,colorLocked:4,isStroke:5}}},62484:(t,e,o)=>{var i;o.d(e,{DW:()=>f,GA:()=>m,mv:()=>i}),function(t){t.Local="Local",t.Global="Global"}(i||(i={}));class s{generateSource(t){const e=[];for(let i=1;i<this.length;i++)e.push("vec4 atom".concat(i," = texture(").concat(t.animationTexture,", (pointer + 0.5) / size);")),e.push("pointer.x += 1.0;");for(let i=0;i<this.ins;i++)e.push("top--;"),e.push("vec4 in".concat(this.ins-i-1," = stack[top];"));for(let i=0;i<this.outs;i++)e.push("vec4 out".concat(i,";"));const{microcode:o}=this;for(const i of o)e.push(i);for(let i=0;i<this.outs;i++)e.push("stack[top] = out".concat(i,";")),e.push("top++;"),e.push("if (top >= ".concat(p,") { top = ").concat(p-1,"; }"));return e}}let a=128;function n(t){return["float duration = clamp(".concat(t.duration,", 0.05, 3600.0);"),"float startTimeOffset = ".concat(t.startTimeOffset,";"),"float repeatDelay = ".concat(t.repeatDelay,";"),"float timeOriginSelector = ".concat(t.timeOriginSelector,";"),"float repeatType = ".concat(t.repeatType,";"),"float easing = ".concat(t.easing,";"),"float playAnimation = ".concat(t.playAnimation," * (1.0 - step(0.0, -").concat(t.duration,"));"),"float reverseAnimation = ".concat(t.reverseAnimation,";"),"float time = globalTime - (timeOriginSelector == 1.0 ? localTimeOrigin : 0.0);","time *= playAnimation;","time *= 1.0 - reverseAnimation * 2.0;","float period = duration + repeatDelay;","time += reverseAnimation == 1.0 ? (period - startTimeOffset - 0.001) : startTimeOffset + 0.001;","float omega = time / period;","float oi = floor(omega);","omega = repeatType == 1.0 || repeatType == 3.0 ? omega - oi : omega;","float of = omega * period;","of = (clamp(of, reverseAnimation * repeatDelay, period - (1.0 - reverseAnimation) * repeatDelay) - reverseAnimation * repeatDelay) / duration;","of = easing == 2.0 ? pow(of, 3.0) : of;","of = easing == 3.0 ? 1.0 - pow(1.0 - of, 3.0) : of;","of = easing == 4.0 ? of < 0.5 ? 4.0 * pow(of, 3.0) : 1.0 - pow(-2.0 * of + 2.0, 3.0) / 2.0 : of;","bool oscillate = repeatType == 3.0 && mod(oi, 2.0) == 1.0;","".concat(t.out," = oscillate ? 1.0 - of : of;")]}const r={Linear:1,EaseIn:2,EaseOut:3,EaseInOut:4},c={Loop:1,None:2,Oscillate:3},l={Local:1,Global:2};function u(t){const e=r[t.easing],o=c[t.repeatType],i=l[t.timeOriginSelector];return[[t.duration,t.startTimeOffset,t.repeatDelay,i],[o,e,t.playAnimation,t.reverseAnimation]]}const m={scalar:new class extends s{constructor(){super(...arguments),this.opcode=++a,this.length=1,this.ins=0,this.outs=1,this.microcode=["out0 = vec4(atom0.y, atom0.y, atom0.y, atom0.y);"]}encode(t){return[[this.opcode,t,0,0]]}},vector3:new class extends s{constructor(){super(...arguments),this.opcode=++a,this.length=1,this.ins=0,this.outs=1,this.microcode=["out0 = vec4(atom0.yzw, 0.0);"]}encode(t){return[[this.opcode,t[0]||0,t[1]||0,t[2]||0]]}},vector4:new class extends s{constructor(){super(...arguments),this.opcode=++a,this.length=2,this.ins=0,this.outs=1,this.microcode=["out0 = atom1;"]}encode(t){return[[this.opcode,0,0,0],t]}},animatedTransform:new class extends s{constructor(){super(...arguments),this.opcode=++a,this.length=10,this.ins=1,this.outs=1,this.microcode=["vec2 fromTranslation = atom1.xy;","vec2 toTranslation = atom1.zw;","float fromRotation = atom2.x;","float toRotation = atom2.y;","float fromScale = atom2.z;","float toScale = atom2.w;","bool relativeTranslation = atom9.x == 1.0;","bool absoluteScale = atom9.y == 1.0;","vec2 translationMultiplier = relativeTranslation ? pixelDimensions : vec2(1.0, 1.0);","float scaleDivisor = absoluteScale ? pixelDimensions.y : 1.0;","float fTranslation;","{",...n({duration:"atom3.x",startTimeOffset:"atom3.y",repeatDelay:"atom3.z",timeOriginSelector:"atom3.w",repeatType:"atom4.x",easing:"atom4.y",playAnimation:"atom4.z",reverseAnimation:"atom4.w",out:"fTranslation"}),"}","float fRotation;","{",...n({duration:"atom5.x",startTimeOffset:"atom5.y",repeatDelay:"atom5.z",timeOriginSelector:"atom5.w",repeatType:"atom6.x",easing:"atom6.y",playAnimation:"atom6.z",reverseAnimation:"atom6.w",out:"fRotation"}),"}","float fScale;","{",...n({duration:"atom7.x",startTimeOffset:"atom7.y",repeatDelay:"atom7.z",timeOriginSelector:"atom7.w",repeatType:"atom8.x",easing:"atom8.y",playAnimation:"atom8.z",reverseAnimation:"atom8.w",out:"fScale"}),"}","vec2 aTranslation = mix(fromTranslation, toTranslation, fTranslation);","float aRotation = mix(fromRotation, toRotation, fRotation);","float aScale = mix(fromScale, toScale, fScale);","vec2 pTranslation = in0.xy;","float pRotation = in0.z;","float pScale = in0.w;","aTranslation *= translationMultiplier;","aScale /= scaleDivisor;","float rotation = pRotation + aRotation;","float scale = pScale * aScale;","float sin1 = sin(pRotation);","float cos1 = cos(pRotation);","float s1 = pScale;","float x1 = pTranslation.x;","float y1 = pTranslation.y;","float x2 = aTranslation.x;","float y2 = aTranslation.y;","\n    vec2 translation = vec2(\n      cos1 * s1 * x2 - sin1 * s1 * y2 + x1,\n      sin1 * s1 * x2 + cos1 * s1 * y2 + y1\n    );\n    ","out0 = vec4(translation, rotation, scale);"]}encode(t){return[[this.opcode,0,0,0],[t.translation.from[0],t.translation.from[1],t.translation.to[0],t.translation.to[1]],[t.rotation.from,t.rotation.to,t.scale.from,t.scale.to],...u(t.translation.timing),...u(t.rotation.timing),...u(t.scale.timing),[t.relativeTranslation?1:0,t.absoluteScale?1:0,0,0]]}},animatedColor:new class extends s{constructor(){super(...arguments),this.opcode=++a,this.length=7,this.ins=1,this.outs=1,this.microcode=["float fromOpacity = atom0.y;","float toOpacity = atom0.z;","vec4 fromColor = atom1;","vec4 toColor = atom2;","float fColor;","{",...n({duration:"atom3.x",startTimeOffset:"atom3.y",repeatDelay:"atom3.z",timeOriginSelector:"atom3.w",repeatType:"atom4.x",easing:"atom4.y",playAnimation:"atom4.z",reverseAnimation:"atom4.w",out:"fColor"}),"}","float fOpacity;","{",...n({duration:"atom5.x",startTimeOffset:"atom5.y",repeatDelay:"atom5.z",timeOriginSelector:"atom5.w",repeatType:"atom6.x",easing:"atom6.y",playAnimation:"atom6.z",reverseAnimation:"atom6.w",out:"fOpacity"}),"}","vec4 aColor = mix(fromColor, toColor, fColor);","aColor.a *= mix(fromOpacity, toOpacity, fOpacity);","vec4 pColor = in0;","out0 = aColor * pColor;"]}encode(t){return[[this.opcode,t.opacity.from,t.opacity.to,0],[t.color.from[0],t.color.from[1],t.color.from[2],t.color.from[3]],[t.color.to[0],t.color.to[1],t.color.to[2],t.color.to[3]],...u(t.color.timing),...u(t.opacity.timing)]}},animatedShift:new class extends s{constructor(){super(...arguments),this.opcode=++a,this.length=4,this.ins=1,this.outs=1,this.microcode=["float fromShift = atom0.y;","float toShift = atom0.z;","float duration = atom1.x;","bool multiplyByLineLength = atom3.x == 1.0;","float fShift;","{",...n({duration:"duration",startTimeOffset:"atom1.y",repeatDelay:"atom1.z",timeOriginSelector:"atom1.w",repeatType:"atom2.x",easing:"atom2.y",playAnimation:"atom2.z",reverseAnimation:"atom2.w",out:"fShift"}),"}","toShift *= multiplyByLineLength ? lineLength : 1.0;","float aShift = mix(fromShift, toShift, fShift);","vec4 pShift = in0;","out0 = mod(aShift + pShift, lineLength);"]}encode(t){return[[this.opcode,t.shift.from,t.shift.to,0],...u(t.shift.timing),[t.multiplyByLineLength?1:0,0,0,0]]}},ret:new class extends s{constructor(){super(...arguments),this.opcode=++a,this.length=1,this.ins=0,this.outs=0,this.microcode=["break;"]}encode(){return[[this.opcode,0,0,0]]}}},h=40,p=4;function f(t){const e=[];e.push("float globalTime = ".concat(t.globalTime,";")),e.push("float localTimeOrigin = ".concat(t.localTimeOrigin,";")),e.push("float lineLength = ".concat(t.lineLength,";")),e.push("vec2 pointer = ".concat(t.animationPointer,";")),e.push("vec2 size = ".concat(t.animationTextureSize,";")),e.push("int top = 0;"),e.push("vec4 stack[".concat(p,"];")),e.push("for (int counter = 0; counter < ".concat(h,"; counter++) {")),e.push("vec4 atom0 = texture(".concat(t.animationTexture,", (pointer + 0.5) / size);")),e.push("pointer.x += 1.0;"),e.push("vec2 pixelDimensions = ".concat(t.pixelDimensions,";")),e.push("if (false) {");for(const o in m){const i=m[o];e.push("} else if (int(atom0.x) == ".concat(i.opcode,") {"));for(const o of i.generateSource(t))e.push(o)}return e.push("} // End if-else."),e.push("} // End for."),e.push("".concat(t.out," = top > 0 ? stack[top - 1] : vec4(0.0);")),e.join("\n")}},89657:(t,e,o)=>{o.d(e,{Q:()=>i});const i={isAlongLine:0,isAbsoluteSize:1,isDiscrete:2}},90113:(t,e,o)=>{var i;o.d(e,{$w:()=>u,Fb:()=>r,Fz:()=>g,H_:()=>i,J5:()=>c,M:()=>h,Ni:()=>m,V5:()=>n,Xx:()=>d,YV:()=>T,au:()=>l,b5:()=>y,bB:()=>O,bg:()=>v,cZ:()=>A,cn:()=>f,eo:()=>S,kx:()=>_,os:()=>s,qM:()=>p,rp:()=>a,ti:()=>x,v9:()=>w}),function(t){t[t.Geographic=0]="Geographic",t[t.Arithmatic=1]="Arithmatic"}(i||(i={}));const s=3.14159265359/180,a=3.14159265359/128,n=1,r=1.1,c=1,l=24,u=8,m=1e-5,h=.05,p=1e-30,f=4,d=0,g=2,_=2,y=3,v=0,x=3,T=16777216,S=1.1,A=16,w=128,O=1},92045:(t,e,o)=>{o.d(e,{Aw:()=>n,DN:()=>i,EA:()=>a,Gm:()=>s,t0:()=>c,xq:()=>r});const i="__esri_stream_id__",s="__esri_timestamp__",a="__esri_track_part__",n="__esri_time_received__",r="__esri_track_line__";var c;!function(t){t[t.TrackLine=0]="TrackLine",t[t.LatestObservation=1]="LatestObservation",t[t.PreviousObservation=2]="PreviousObservation"}(c||(c={}))}}]);
//# sourceMappingURL=33808.9c6c7377.chunk.js.map