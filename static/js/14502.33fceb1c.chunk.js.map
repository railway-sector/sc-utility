{"version":3,"file":"static/js/14502.33fceb1c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipelineWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/DirectRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/LodRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/rendering/FeaturePipelineRenderManager.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/Feature3DPipeline.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pipeline/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Promise.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WorkerHandle as n}from\"../../../../../core/workers/WorkerHandle.js\";import a from\"../../../../../geometry/Extent.js\";import{clone as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import s from\"../../../../../rest/support/FeatureSet.js\";import{ElevationContext as d}from\"../ElevationContext.js\";import{applyElevationAlignment as c}from\"./utils.js\";let l=class extends r{constructor(e){super(e),this.schedule=null,this._workerUpdating=!0}get updating(){return this._workerUpdating}initialize(){const{layer:e,layerView:r,viewSpatialReference:t,renderSpatialReference:o}=this,n=e.elevationInfo;this._elevationContext=d.fromElevationInfo(n),this._workerHandle=new u(this.schedule,{createTexture:async({data:e,parameters:r})=>({result:await this.renderer.createTexture(e,r),transferList:[]}),releaseTexture:async({uid:e})=>(await this.renderer.releaseTexture(e),y),createMaterial:async({materialJSON:e})=>(await this.renderer.createMaterial(e),y),destroyMaterial:async({materialId:e})=>(await this.renderer.destroyMaterial(e),y),createDirectRenderer:async({materialId:e})=>(await this.renderer.createDirectRenderer(e),y),destroyDirectRenderer:async({materialId:e})=>(await this.renderer.destroyDirectRenderer(e),y),createLoDRenderer:async({rendererId:e,lodRenderGeometry:r},t)=>(await this.renderer.createLoDRenderer(e,r,t?.signal??void 0),y),destroyLoDRenderer:async({rendererId:e},r)=>(await this.renderer.destroyLoDRenderer(e,r?.signal??void 0),y),dispatchRenderCommands:async({commands:e})=>(await this.renderer.executeRenderCommands(e),y),applyElevationAlignment:async({mapPoints:e})=>{const{viewSpatialReference:r,elevationProvider:t,renderCoordsHelper:o}=this,n=c(e,r,this._elevationContext,t,o);return{result:n,transferList:[n.buffer]}}}),this.addResolvingPromise((async()=>{await e.load();const a={url:e.parsedUrl?.path??\"\",baseQuery:e.createQuery().toJSON(),objectIdField:e.objectIdField,capabilities:e.capabilities,fieldIndex:e.fieldsIndex.toJSON(),timeInfo:e.timeInfo?.toJSON(),elevationInfo:n?.toJSON(),fullExtent:e.fullExtent?.toJSON(),renderer:e.renderer?.toJSON()},i={fullOpacity:r.fullOpacity};await this._workerHandle.invokeMethod(\"setup\",{viewSpatialReference:t.toJSON(),renderSpatialReference:o.toJSON(),viewingMode:this.viewingMode,layerInfo:a,layerViewInfo:i})})()),this.addHandles(this._workerHandle.on(\"notify-updating\",(({updating:e})=>{this._workerUpdating=e})))}onTileTreeChange(e){this._workerHandle.invokeMethod(\"onTileTreeChange\",{tiles:e.items.map(p)})}onElevationChange(e){this._workerHandle.invokeMethod(\"onElevationChange\",{context:e.context,spatialReference:e.spatialReference?.toJSON(),extent:i(e.extent)})}onLayerViewOpacityChange(e){this._workerHandle.invokeMethod(\"onLayerViewOpacityChange\",e)}onRendererChange(e){const r=e?.toJSON();this._workerHandle.invokeMethod(\"onRendererChange\",r)}async executeQuery(e,r){const t=await this._workerHandle.invokeMethod(\"executeQuery\",e?.toJSON(),r),o=s.fromJSON(t);return this._ensureLayerOnFeatures(o),o}async executeQueryForIds(e,r){return await this._workerHandle.invokeMethod(\"executeQueryForIds\",e?.toJSON(),r)}async executeQueryForCount(e,r){return await this._workerHandle.invokeMethod(\"executeQueryForCount\",e?.toJSON(),r)}async executeQueryForExtent(e,r){const{count:t,extent:o}=await this._workerHandle.invokeMethod(\"executeQueryForExtent\",e?.toJSON(),r);return{count:t,extent:a.fromJSON(o)}}async executeQueryForLatestObservations(e,r){const t=await this._workerHandle.invokeMethod(\"executeQueryForLatestObservations\",e?.toJSON(),r),o=s.fromJSON(t);return this._ensureLayerOnFeatures(o),o}_ensureLayerOnFeatures(e){const{layer:r}=this;for(const t of e.features)t.layer=r,t.sourceLayer=r}};e([t()],l.prototype,\"updating\",null),e([t({constructOnly:!0})],l.prototype,\"schedule\",void 0),e([t({constructOnly:!0})],l.prototype,\"layer\",void 0),e([t({constructOnly:!0})],l.prototype,\"layerView\",void 0),e([t({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),e([t({constructOnly:!0})],l.prototype,\"renderSpatialReference\",void 0),e([t({constructOnly:!0})],l.prototype,\"viewingMode\",void 0),e([t({constructOnly:!0})],l.prototype,\"renderer\",void 0),e([t({constructOnly:!0})],l.prototype,\"elevationProvider\",void 0),e([t({constructOnly:!0})],l.prototype,\"renderCoordsHelper\",void 0),e([t()],l.prototype,\"_workerUpdating\",void 0),l=e([o(\"esri.views.3d.layers.graphics.pipeline.Feature3DPipelineWorkerHandle\")],l);class u extends n{constructor(e,r){super(\"Feature3DPipelineWorker\",\"setup\",{},e,{strategy:\"dedicated\",client:r})}}function p({id:e,lij:r,extent:t}){return{id:e,lij:r,extent:t}}const y={result:void 0};export{l as Feature3DPipelineWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{nullUid as t}from\"../../../../../../core/uid.js\";import{property as r}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{glLayout as s}from\"../../../../support/buffer/glUtil.js\";import{ShaderOutput as n}from\"../../../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncRenderPlugin as o}from\"../../../../webgl-engine/effects/RenderPlugin.js\";import{GLMaterials as a}from\"../../../../webgl-engine/lib/GLMaterials.js\";import{IntersectorType as l}from\"../../../../webgl-engine/lib/IntersectorType.js\";import{BoundingVolume as u}from\"../../../../webgl-engine/lib/Object3D.js\";import{RenderSlot as c}from\"../../../../webgl-engine/lib/RenderSlot.js\";import{DrawParameters as m}from\"../../../../webgl-engine/materials/DrawParameters.js\";import{HUDMaterial as d}from\"../../../../webgl-engine/materials/HUDMaterial.js\";let h=class extends o{constructor(e){super(e),this._glMaterials=null,this._produces=new Map,this._renderGeometries=new Map,this._vaoCache=null,this._drawParameters=new m,this._bufferWriter=null,this.slicePlaneEnabled=!1,this.isGround=!1,this.type=e.material instanceof d?l.HUD:l.OBJECT,this.layerViewUid=e.layerViewUid}get produces(){return this._produces}get numFeatures(){const e=6;let t=0;return this._renderGeometries.forEach((r=>t+=r.numElements/e)),t}get usedMemory(){let e=0;return this._renderGeometries.forEach((t=>{e+=t.vao.usedMemory})),e}intersect(e,r,i,s){const{material:n,_bufferWriter:o,layerViewUid:a,_renderGeometries:l}=this;null!=o.intersect&&l.forEach((({buffer:r,localOrigin:l,items:c})=>o.intersect(r.data,n.parameters,l,e,i,s,((r,i,s,o)=>{if(!c.visibilities[s])return;const l=c.objectIds[s];e.handleObjectIntersection({object:{id:t,graphicUid:l,layerViewUid:a,boundingVolumeWorldSpace:new u,geometries:[{material:n}]},geometryId:0,primitiveIndex:s},r,i,null,o)}))))}initialize(){this._bufferWriter=this.material.createBufferWriter(),this.material.produces.forEach(((e,t)=>{this._produces.set(t,(t=>t!==n.Highlight&&t!==n.ShadowHighlight&&e(t)))}))}destroy(){this._glMaterials.dispose();const e=this._renderGeometries.keys();for(const t of e)this.removeRenderGeometryBuffer(t)}acquireTechniques(e){const t=this.material;if(!t.shouldRender(e))return null;const{output:r,bind:i}=e,s=t.produces.get(i.slot);if(!s?.(r))return null;if(r===n.Highlight||r===n.ShadowHighlight)return null;const o=this._glMaterials.load(e.rctx,i.slot,r);return o?.beginSlot(i)}render(e,t){const r=this._renderGeometries;if(0===r.size)return;const{bind:i}=e,s=i.slot===c.OCCLUDER_MATERIAL||i.slot===c.TRANSPARENT_OCCLUDER_MATERIAL?i.slot:null,n=e.rctx;n.runAppleAmdDriverHelper(),n.bindTechnique(t,i,this.material.parameters);const o=t.program;for(const[a,l]of r){const{vao:e,localOrigin:r,drawCalls:a}=l;this._drawParameters.origin=r,o.bindDraw(i,this.material.parameters,this._drawParameters),t.ensureAttributeLocations(e),n.bindVAO(e),n.setPipelineState(t.getPipeline(!1,s));for(const i of a)n.drawArrays(t.primitiveType,i.start,i.count)}}initializeRenderContext(e){this._glMaterials=new a(this.material,e.materials),this._vaoCache=e.renderContext.rctx.getVaoCache(this.material.vertexAttributeLocations,s(this._bufferWriter.vertexBufferLayout))}uninitializeRenderContext(){}addRenderGeometryBuffer(e,t,r,i){this.removeRenderGeometryBuffer(e);const{data:s,elementCount:n}=t,o=this._vaoCache.newVao(s.byteLength);o.vertexBuffers.get(\"geometry\").setSubData(new Uint8Array(s),0,0,s.byteLength);const a={localOrigin:i,numElements:n,buffer:t,items:r,vao:o,drawCalls:this._produceDrawCalls(r)};this._renderGeometries.set(e,a)}updateRenderGeometryBuffer(e,t,r,i){const{data:s,elementCount:n}=t,o=this._renderGeometries.get(e);if(null==o)return;this._vaoCache.deleteVao(o.vao);const a=this._vaoCache.newVao(s.byteLength);a.vertexBuffers.get(\"geometry\").setSubData(new Uint8Array(s),0,0,s.byteLength),o.localOrigin=i,o.numElements=n,o.buffer=t,o.items=r,o.vao=a,o.drawCalls=this._produceDrawCalls(r)}removeRenderGeometryBuffer(e){const t=this._renderGeometries.get(e);null!=t&&(this._vaoCache.deleteVao(t.vao),this._renderGeometries.delete(e))}updateVisibility(e,t){const r=this._renderGeometries.get(e);if(null==r)return;const{items:i}=r;if(i.visibilities.length!==t.length)throw new Error(\"Unexpected mismatch between old and new visibility flag buffer length.\");i.visibilities=t,r.drawCalls=this._produceDrawCalls(i)}hasHighlight(){return!1}_produceDrawCalls(e){const{visibilities:t,ranges:r}=e,i=[];if(f(r)){if(0===r.numItems)return[];const e=r.numVertices;let s=null;for(let n=0;n<r.numItems;++n){t[n]?null==s?(s={start:n*e,count:e},i.push(s)):s.count+=e:s=null}}else{const e=r.counts,s=e.length;if(0===s)return[];let n=null,o=0;for(let r=0;r<s;++r){const s=t[r],a=e[r];s?null==n?(n={start:o,count:a},i.push(n)):n.count+=a:n=null,o+=a}}return i}};function f(e){return\"numItems\"in e}e([r({constructOnly:!0})],h.prototype,\"material\",void 0),h=e([i(\"esri.views.3d.layers.graphics.pipeline.rendering.DirectRenderer\")],h);export{h as DirectRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import has from\"../../../../../../core/has.js\";import{throwIfAborted as r}from\"../../../../../../core/promiseUtils.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/RandomLCG.js\";import\"../../../../../../core/Error.js\";import{subclass as s}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{VertexAttribute as t}from\"../../../../webgl-engine/lib/VertexAttribute.js\";import{LodRenderer as n}from\"../../../../webgl-engine/lib/lodRendering/LodRenderer.js\";import{LodComponentRenderGeometry as o,LodComponentResources as i,LodLevelResources as a,LodResources as d}from\"../../../../webgl-engine/lib/lodRendering/LodResources.js\";let l=class{constructor(e){this._optionalFields=new Array,this._instanceGroupToIndices=new Map,this._instanceIndexToFeatureId=new Map,this._disposeResourceHandles=new Array,this._lodRendererResources=null,this._numFeatures=0,this.layerViewUid=e.layerViewUid,this.view=e.view,this.sharedResources=this.view.sharedSymbolResources,this.scheduler=this.view.resourceController.scheduler}get numFeatures(){return this._numFeatures}get usedMemory(){const e=this._lodRendererResources?.lodRenderer,r=e?.symbol;return(r?.computeUsedMemory()??0)+16*this._instanceIndexToFeatureId.size}destroy(){this._disposeResourceHandles.forEach((e=>e()))}async doLoad(e,s,n){has(\"enable-feature:objectAndLayerId-rendering\")&&this._optionalFields.push(t.OLIDCOLOR);const o=c((e=>s(e)),e),i=this.view.stage,a=o.getMaterials(),d=o.getTextures();i.addTextures(d),this._addDisposeResource((()=>{d.forEach((e=>e.unload())),i.removeTextures(d)})),await Promise.all(d.map((e=>this.view.stage.schedule((()=>e.load(i.renderView.renderingContext)),n)))),r(n);const l=await this._createLodRenderer(o,n);this._lodRendererResources={lodRenderer:l,materials:a,textures:d}}addInstances(e,r){const s=this._lodRendererResources;if(null==s)return;const t=s.lodRenderer;if(null==t)return;const{featureIds:n,localTransforms:o,globalTransforms:i,visibility:a}=r,d=new Array,l=t.instanceData,c=n.length,u=this._instanceIndexToFeatureId;for(let h=0;h<c;++h){const e=n[h],r=l.addInstance(),s=l.view,t=16*h;s.localTransform.copyFromTypedBuffer(r,o,t),s.globalTransform.copyFromTypedBuffer(r,i,t),l.updateModelTransform(r),l.setVisible(r,Boolean(a[h])),d.push(r),u.set(r,e)}this._instanceGroupToIndices.set(e,d),this._numFeatures+=c}removeInstances(e){const r=this._instanceGroupToIndices.get(e);if(null==r)return;const s=this._lodRendererResources;if(null==s)return;const t=s.lodRenderer.instanceData,n=this._instanceIndexToFeatureId;for(const o of r)t.removeInstance(o),n.delete(o);this._numFeatures-=r.length,this._instanceGroupToIndices.delete(e)}updateVisibility(e,r){const s=this._instanceGroupToIndices.get(e);if(null==s)return;const t=this._lodRendererResources;if(null==t)return;const n=s.length;if(n!==r.length)throw new Error(\"Unexpected mismatch instance count and visibility flag buffer length.\");const o=t.lodRenderer.instanceData;for(let i=0;i<n;++i)o.setVisible(s[i],Boolean(r[i]))}updateGlobalTransforms(e,r){const s=this._instanceGroupToIndices.get(e);if(null==s)return;const t=this._lodRendererResources;if(null==t)return;const n=s.length;if(16*n!==r.length)throw new Error(\"Unexpected mismatch instance count and visibility flag buffer length.\");const o=t.lodRenderer.instanceData,i=o.view;for(let a=0;a<n;++a){const e=s[a],t=16*a;i.globalTransform.copyFromTypedBuffer(e,r,t),o.updateModelTransform(e)}}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createLodRenderer(e,r){const s=this.view.stage,t={layerViewUid:this.layerViewUid,graphicUid:e=>this._instanceIndexToFeatureId.get(e)??-1,notifyGraphicGeometryChanged:e=>1,notifyGraphicVisibilityChanged:e=>1},o=new n({symbol:e,optionalFields:this._optionalFields,metadata:t,shaderTransformation:null},this.scheduler);return o.slicePlaneEnabled=!1,this._addDisposeResource((()=>{s.removeRenderPlugin(o),o.destroy()})),await s.addRenderPlugin(o,r),o}};function c(e,r){const s=r.levels.map((r=>{const s=r.components.map((r=>{const s=e(r.materialId);if(!u(s))throw new Error(\"LodRenderer only supports DefaultMaterial\");const t=new o(s,r.renderGeometryBuffer.data,r.renderGeometryBuffer.elementCount,r.boundingInfo);return new i(t)}));return new a(s,r.minScreenSpaceRadius)}));return new d(s)}function u(e){return null!=e&&\"materialType\"in e&&\"default\"===e.materialType}l=e([s(\"esri.views.3d.layers.graphics.pipeline.rendering.LodRenderer\")],l);export{l as LodRenderer,u as isDefaultMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import r from\"../../../../../../core/Accessor.js\";import\"../../../../../../core/has.js\";import{createAbortError as t}from\"../../../../../../core/promiseUtils.js\";import{property as s}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/Logger.js\";import\"../../../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{ONES as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as d}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as n}from\"../../../../../ViewingMode.js\";import{DirectRenderer as o}from\"./DirectRenderer.js\";import{LodRenderer as l}from\"./LodRenderer.js\";import{CullFaceOptions as c}from\"../../../../webgl-engine/lib/basicInterfaces.js\";import{Texture as u}from\"../../../../webgl-engine/lib/Texture.js\";import{DefaultMaterial as m}from\"../../../../webgl-engine/materials/DefaultMaterial.js\";import{HUDMaterial as h}from\"../../../../webgl-engine/materials/HUDMaterial.js\";import{schematicMRRFactors as f}from\"../../../../webgl-engine/materials/pbrUtils.js\";let p=class extends r{constructor(e){super(),this.view=null,this.layerViewUid=null,this._stage=null,this._materials=new Map,this._textures=new Map,this._directRenderers=new Map,this._lodRenderers=new Map,this.totalFeatures=0,this.view=e.view,this.layerViewUid=e.layerViewUid}initialize(){this._stage=this.view.stage}destroy(){this.removeAllHandles(),this._lodRenderers.forEach((e=>e.destroy()))}async createTexture(e,r){const{_textures:t,_stage:s}=this,i=new u(e,r);return t.set(i.id,i),s&&(i.load(s.renderView.renderingContext),s.addTexture(i)),i.id}async releaseTexture(e){const{_textures:r,_stage:t}=this,s=r.get(e);s&&(t&&(s.unload(),t.removeTexture(s)),r.delete(e))}_destroyTexture(e){const{_textures:r,_stage:t}=this,s=r.get(e);s&&(t&&(s.unload(),t.removeTexture(s)),r.delete(e))}async createMaterial(e){const{view:r}=this,t=r.state.viewingMode===n.Global;let s=null;switch(e.type){case\"default\":{const r=e.parameters,i=new m(r,{spherical:t});i.setParameters({cullFace:i.transparent?c.None:c.Back}),s=i;break}case\"hud\":{const r=e.parameters;s=new h(r,t)}}this._materials.set(e.materialId,s)}async destroyMaterial(e){this._materials.delete(e)}async updateMaterial(e){}async createDirectRenderer(e){if(this._directRenderers.has(e))return;const r=this._materials.get(e);if(null==r)throw new Error(`material not found ${e}`);const{view:t}=this,s=new o({material:r,layerViewUid:this.layerViewUid});this._directRenderers.set(e,s),t.stage.addRenderPlugin(s),t.stage.renderView.renderer.updateHasFlags()}async destroyDirectRenderer(e){const r=this._directRenderers.get(e);if(null==r)return;const t=this.view;t.stage.removeRenderPlugin(r),this._directRenderers.delete(e),t.stage.renderView.renderer.updateHasFlags()}async createLoDRenderer(e,r,s){const i=new l({view:this.view,layerViewUid:this.layerViewUid}),a=e=>this._materials.get(e);if(await i.doLoad(r,a,s),s?.aborted)throw i.destroy(),t();this._lodRenderers.set(e,i)}async destroyLoDRenderer(e,r){const t=this._lodRenderers.get(e);null!=t&&(t.destroy(),this._lodRenderers.delete(e))}_destroyLodRenderer({rendererId:e}){const r=this._lodRenderers.get(e);null!=r&&(r.destroy(),this._lodRenderers.delete(e))}async executeRenderCommands(e){for(const r of e)switch(r.id){case\"destroy-texture\":this._destroyTexture(r.textureId);break;case\"update-material\":this._updateMaterial(r);break;case\"destroy-material\":this._destroyMaterial(r);break;case\"add-direct-renderer-geometry-buffer\":this._addDirectRendererGeometryBuffer(r);break;case\"update-direct-renderer-geometry-buffer\":this._updateDirectRendererGeometryBuffer(r);break;case\"remove-direct-renderer-geometry-buffer\":this._removeDirectRendererGeometryBuffer(r);break;case\"destroy-lod-renderer\":this._destroyLodRenderer(r);break;case\"add-lod-instances\":this._addLodInstances(r);break;case\"remove-lod-instances\":this._removeLodInstances(r);break;case\"update-lod-instance-data\":this._updateLodInstanceData(r);break;case\"update-visibility\":this._updateVisibility(r)}e.length>0&&this._updateFeatureCount()}_updateFeatureCount(){let e=0;for(const r of this._directRenderers.values())e+=r.numFeatures;for(const r of this._lodRenderers.values())e+=r.numFeatures;this._set(\"totalFeatures\",e)}get usedMemory(){let e=0;for(const r of this._directRenderers.values())e+=r.usedMemory;for(const r of this._lodRenderers.values())e+=r.usedMemory;return e}_updateMaterial({materialId:e,parameters:r}){const t=this._materials.get(e);null!=t?t.setParameters(r):console.error(\"material not found\")}_destroyMaterial({materialId:e}){null!=this._materials.get(e)?this._materials.delete(e):console.error(\"material not found\")}_addDirectRendererGeometryBuffer({groupId:e,rendererId:r,renderGeometryBuffer:t,renderGeometryBufferItems:s,localOrigin:i}){const a=this._directRenderers.get(r);null!=a?(a.addRenderGeometryBuffer(e,t,s,i),this.view.stage.renderView.requestRender()):console.error(\"no renderer assigned to provided material\")}_updateDirectRendererGeometryBuffer({groupId:e,rendererId:r,renderGeometryBuffer:t,renderGeometryBufferItems:s,localOrigin:i}){const a=this._directRenderers.get(r);null!=a?(a.updateRenderGeometryBuffer(e,t,s,i),this.view.stage.renderView.requestRender()):console.error(\"no renderer assigned to provided material\")}_removeDirectRendererGeometryBuffer({groupId:e,rendererId:r}){const t=this._directRenderers.get(r);null!=t?(t.removeRenderGeometryBuffer(e),this.view.stage.renderView.requestRender()):console.error(\"no renderer assigned to provided material\")}_addLodInstances({rendererId:e,groupId:r,data:t}){const s=this._lodRenderers.get(e);if(null==s)throw new Error(\"no lod renderer assigned to provided lod renderer Id\");s.addInstances(r,t),this.view.stage.renderView.requestRender()}_removeLodInstances({rendererId:e,groupId:r}){const t=this._lodRenderers.get(e);if(null==t)throw new Error(\"no lod renderer assigned to provided lod renderer Id\");t.removeInstances(r),this.view.stage.renderView.requestRender()}_updateLodInstanceData({rendererId:e,groupId:r,globalTransforms:t}){const s=this._lodRenderers.get(e);if(null==s)throw new Error(\"No renderer found with the provided id\");null!=t&&s.updateGlobalTransforms(r,t),this.view.stage.renderView.requestRender()}_updateVisibility({rendererId:e,groupId:r,visibility:t}){const s=this._directRenderers.get(e)??this._lodRenderers.get(e);if(null==s)throw new Error(\"No renderer found with the provided id\");s.updateVisibility(r,t),this.view.stage.renderView.requestRender()}};function g(e,r,t){const s={usePBR:r.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:f,ambient:a,diffuse:a,hasSlicePlane:r.slicePlaneEnabled,castShadows:r.castShadows,offsetTransparentBackfaces:!r.isPrimitive};r.screenSizePerspectiveEnabled&&(s.screenSizePerspective=e.screenSizePerspectiveSettings),s.externalColor=d,s.isInstanced=!0;const i=new m(s,{spherical:t});return i.setParameters({cullFace:i.transparent?c.None:c.Back}),i}e([s({readOnly:!0})],p.prototype,\"totalFeatures\",void 0),p=e([i(\"esri.views.3d.layers.graphics.pipeline.rendering.FeaturePipelineRenderManager\")],p);export{p as FeaturePipelineRenderManager,g as createDefaultMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Error.js\";import{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as n}from\"../../../../../core/maybe.js\";import o from\"../../../../../core/Promise.js\";import{on as i,watch as a}from\"../../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{FeatureLayerViewPerformanceInfo as l}from\"../../FeatureLayerViewPerformanceInfo.js\";import{Feature3DPipelineWorkerHandle as d}from\"./Feature3DPipelineWorkerHandle.js\";import{FeaturePipelineRenderManager as p}from\"./rendering/FeaturePipelineRenderManager.js\";import{emptyHighlightHandle as y}from\"../../support/highlightUtils.js\";import{LayerViewPerformanceInfo as m}from\"../../support/LayerViewPerformanceInfo.js\";import{UpdatePolicy as c}from\"../../../webgl-engine/lib/UpdatePolicy.js\";let h=class extends o{constructor(e){super(e),this._renderer=null,this.graphicsQuery={queryForSymbologySnapping:(e,t)=>{throw new r(\"featurelayer:unsupported-symbology-snapping\",\"Symbology snapping not supported\")},executeQuery:async(e,r)=>await this._workerHandle.executeQuery(e,r),executeQueryForIds:async(e,r)=>await this._workerHandle.executeQueryForIds(e,r),executeQueryForCount:async(e,r)=>await this._workerHandle.executeQueryForCount(e,r),executeQueryForExtent:async(e,r)=>await this._workerHandle.executeQueryForExtent(e,r),executeQueryForLatestObservations:async(e,r)=>await this._workerHandle.executeQueryForLatestObservations(e,r)},this.maximumNumberOfFeatures=1e3}initialize(){if(\"point\"!==this.layerView.layer.geometryType)throw new r(\"featurelayer:unsupported-geometry-type\",`${this.layerView.layer.geometryType} is not supported`);this.addResolvingPromise(this.setup())}destroy(){this.removeAllHandles(),this._workerHandle.destroy(),n(this._renderer)}async setup(){const e=this.layerView,{layer:t,view:n,uid:o}=e,{spatialReference:s,renderSpatialReference:u,resourceController:l,renderCoordsHelper:y,elevationProvider:m}=n,c=n.state.viewingMode;if(this._renderer=new p({view:n,layerViewUid:o}),\"feature\"!==t.type)throw new r(\"featurelayer:unsupported-layertype\",\"Only FeatureLayer is supported\");const h=new d({schedule:e=>l.immediate.schedule(e),layer:t,layerView:e,viewSpatialReference:s,renderSpatialReference:u,viewingMode:c,renderer:this._renderer,elevationProvider:m,renderCoordsHelper:y});this._workerHandle=await h.when(),this.addHandles([this.layerView.view.featureTiles.addClient(),i((()=>this.layerView.view.featureTiles.tiles),\"change\",(e=>{this._workerHandle.onTileTreeChange(e.target)}),{onListenerAdd:e=>this._workerHandle.onTileTreeChange(e),onListenerRemove:e=>this._workerHandle.onTileTreeChange(e)}),n.elevationProvider.on(\"elevation-change\",(e=>this._workerHandle.onElevationChange(e))),a((()=>this.layerView.fullOpacity),(e=>this._workerHandle.onLayerViewOpacityChange(e)),{sync:!1}),a((()=>t.renderer),(e=>this._workerHandle.onRendererChange(e)),{sync:!1})])}get legendEnabled(){return!1}get hasAllFeatures(){return!1}get hasAllFeaturesInView(){return!1}get hasFullGeometries(){return!1}get symbologySnappingSupported(){return!1}get scaleVisibilitySuspended(){return!1}get suspendInfo(){return{}}get updating(){return this._workerHandle.updating}get dataUpdating(){return!1}get updatePolicy(){return c.ASYNC}get maximumNumberOfFeaturesExceeded(){return!1}get updatingProgressValue(){return 1}get usedMemory(){return this._renderer?.usedMemory??0}get unloadedMemory(){return 0}get ignoresMemoryFactor(){return!0}get totalFeatures(){return this._renderer?.totalFeatures??0}get performanceInfo(){const e=this.totalFeatures;return new l(new m(this.usedMemory,e,e,this.maximumNumberOfFeatures,0,null),e,e,this.maximumNumberOfFeaturesExceeded,\"tiles\",\"n/a\")}get suspendResumeExtentMode(){return\"computed\"}forEachGraphic(e){}findGraphic(e){return null}highlight(e){return y}maskOccludee(e){return t()}async whenGraphicBounds(e,r){return null}computeAttachmentOrigin(e,r){return null}elevationAlignPointsInFeatures(e,t){throw new r(\"featurelayer:unsupported-elevation-alignment\",\"Elevation alignment not supported\")}async doRefresh(e){}setVisibility(e,r){}getMissingAttributesForFeature(e){return null}getHydratedGeometry(e){return null}};e([s()],h.prototype,\"layerView\",void 0),e([s()],h.prototype,\"updating\",null),e([s()],h.prototype,\"totalFeatures\",null),h=e([u(\"esri.views.3d.layers.graphics.pipeline.Feature3DPipeline\")],h);export{h as Feature3DPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as e}from\"../../../../../core/uid.js\";import{getProjector as t,copy3 as o}from\"../../../../../geometry/projection/projectors.js\";function r(t=\"\"){return`${t}${e()}`}function n(e,r,n,s,a){const l=s.spatialReference,i=t(r,l);if(null==i)return e;let f=t=>[e[t],e[t+1],e[t+2]];i!==o&&(f=t=>(i(e,t,c,0),[c[0],c[1],c[2]]));const u=e.length/3,d=n.mode;switch(n.mode){case\"on-the-ground\":for(let t=0;t<u;++t){const o=3*t,[r,n]=f(o);e[o+2]=s.getElevation(r,n,0,s.spatialReference,\"ground\")??0}break;case\"relative-to-ground\":case\"relative-to-scene\":{const t=\"relative-to-ground\"===d?\"ground\":\"scene\";for(let o=0;o<u;++o){const r=3*o,[c,l,i]=f(r),u=n.calculateOffsetRenderUnits(a),d=s.getElevation(c,l,0,s.spatialReference,t)??0;e[r+2]=i+u+d}}break;case\"absolute-height\":for(let t=0;t<u;++t){const o=3*t,r=e[o+2],c=n.calculateOffsetRenderUnits(a);e[o+2]=r+c}}return e}const c=new Float64Array(3);export{n as applyElevationAlignment,r as generateId};\n"],"names":["l","r","constructor","e","super","this","schedule","_workerUpdating","updating","initialize","layer","layerView","viewSpatialReference","t","renderSpatialReference","o","n","elevationInfo","_elevationContext","d","fromElevationInfo","_workerHandle","u","createTexture","async","data","parameters","_ref","result","renderer","transferList","releaseTexture","uid","_ref2","y","createMaterial","materialJSON","_ref3","destroyMaterial","materialId","_ref4","createDirectRenderer","_ref5","destroyDirectRenderer","_ref6","createLoDRenderer","_ref7","_t$signal","rendererId","lodRenderGeometry","signal","destroyLoDRenderer","_ref8","_r$signal","dispatchRenderCommands","commands","_ref9","executeRenderCommands","applyElevationAlignment","mapPoints","_ref0","elevationProvider","renderCoordsHelper","c","buffer","addResolvingPromise","_e$parsedUrl$path","_e$parsedUrl","_e$timeInfo","_e$fullExtent","_e$renderer","load","a","url","parsedUrl","path","baseQuery","createQuery","toJSON","objectIdField","capabilities","fieldIndex","fieldsIndex","timeInfo","fullExtent","i","fullOpacity","invokeMethod","viewingMode","layerInfo","layerViewInfo","addHandles","on","_ref1","onTileTreeChange","tiles","items","map","p","onElevationChange","_e$spatialReference","context","spatialReference","extent","onLayerViewOpacityChange","onRendererChange","executeQuery","s","fromJSON","_ensureLayerOnFeatures","executeQueryForIds","executeQueryForCount","executeQueryForExtent","count","executeQueryForLatestObservations","features","sourceLayer","prototype","constructOnly","strategy","client","_ref10","id","lij","h","_glMaterials","_produces","Map","_renderGeometries","_vaoCache","_drawParameters","m","_bufferWriter","slicePlaneEnabled","isGround","type","material","HUD","OBJECT","layerViewUid","produces","numFeatures","forEach","numElements","usedMemory","vao","intersect","localOrigin","visibilities","objectIds","handleObjectIntersection","object","graphicUid","boundingVolumeWorldSpace","geometries","geometryId","primitiveIndex","createBufferWriter","set","Highlight","ShadowHighlight","destroy","dispose","keys","removeRenderGeometryBuffer","acquireTechniques","shouldRender","output","bind","get","slot","rctx","beginSlot","render","size","OCCLUDER_MATERIAL","TRANSPARENT_OCCLUDER_MATERIAL","runAppleAmdDriverHelper","bindTechnique","program","drawCalls","origin","bindDraw","ensureAttributeLocations","bindVAO","setPipelineState","getPipeline","drawArrays","primitiveType","start","initializeRenderContext","materials","renderContext","getVaoCache","vertexAttributeLocations","vertexBufferLayout","uninitializeRenderContext","addRenderGeometryBuffer","elementCount","newVao","byteLength","vertexBuffers","setSubData","Uint8Array","_produceDrawCalls","updateRenderGeometryBuffer","deleteVao","delete","updateVisibility","length","Error","hasHighlight","ranges","f","numItems","numVertices","push","counts","_optionalFields","Array","_instanceGroupToIndices","_instanceIndexToFeatureId","_disposeResourceHandles","_lodRendererResources","_numFeatures","view","sharedResources","sharedSymbolResources","scheduler","resourceController","_this$_lodRendererRes","_r$computeUsedMemory","lodRenderer","symbol","computeUsedMemory","doLoad","has","OLIDCOLOR","levels","components","materialType","renderGeometryBuffer","boundingInfo","minScreenSpaceRadius","stage","getMaterials","getTextures","addTextures","_addDisposeResource","unload","removeTextures","Promise","all","renderView","renderingContext","_createLodRenderer","textures","addInstances","featureIds","localTransforms","globalTransforms","visibility","instanceData","addInstance","localTransform","copyFromTypedBuffer","globalTransform","updateModelTransform","setVisible","Boolean","removeInstances","removeInstance","updateGlobalTransforms","_this$_instanceIndexT","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","optionalFields","metadata","shaderTransformation","removeRenderPlugin","addRenderPlugin","_stage","_materials","_textures","_directRenderers","_lodRenderers","totalFeatures","removeAllHandles","addTexture","removeTexture","_destroyTexture","state","Global","spherical","setParameters","cullFace","transparent","None","Back","updateMaterial","concat","updateHasFlags","aborted","_destroyLodRenderer","textureId","_updateMaterial","_destroyMaterial","_addDirectRendererGeometryBuffer","_updateDirectRendererGeometryBuffer","_removeDirectRendererGeometryBuffer","_addLodInstances","_removeLodInstances","_updateLodInstanceData","_updateVisibility","_updateFeatureCount","values","_set","console","error","groupId","renderGeometryBufferItems","requestRender","_this$_directRenderer","readOnly","_renderer","graphicsQuery","queryForSymbologySnapping","maximumNumberOfFeatures","geometryType","setup","immediate","when","featureTiles","addClient","target","onListenerAdd","onListenerRemove","sync","legendEnabled","hasAllFeatures","hasAllFeaturesInView","hasFullGeometries","symbologySnappingSupported","scaleVisibilitySuspended","suspendInfo","dataUpdating","updatePolicy","ASYNC","maximumNumberOfFeaturesExceeded","updatingProgressValue","_this$_renderer$usedM","_this$_renderer","unloadedMemory","ignoresMemoryFactor","_this$_renderer$total","_this$_renderer2","performanceInfo","suspendResumeExtentMode","forEachGraphic","findGraphic","highlight","maskOccludee","whenGraphicBounds","computeAttachmentOrigin","elevationAlignPointsInFeatures","doRefresh","setVisibility","getMissingAttributesForFeature","getHydratedGeometry","arguments","undefined","mode","_s$getElevation","getElevation","_s$getElevation2","calculateOffsetRenderUnits","Float64Array"],"sourceRoot":""}