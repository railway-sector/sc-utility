{"version":3,"file":"static/js/59031.2a6a00be.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import r from\"./Logger.js\";import{debounce as o}from\"./promiseUtils.js\";import{watch as e,initial as n}from\"./reactiveUtils.js\";import{property as i}from\"./accessorSupport/decorators/property.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const c=s=>{let c=class extends s{constructor(){super(...arguments),this._numUpdating=0}get updating(){return this._numUpdating>0}autoUpdateAsync(t,s){const i=o((async s=>{++this._numUpdating;try{const r=await s;this.destroyed||this._set(t,r)}catch(o){r.getLogger(this).warn(`Async update of \"${String(t)}\" failed. Async update functions should not throw exceptions.`)}--this._numUpdating}));return e(s,i,n)}};return t([i({readOnly:!0})],c.prototype,\"updating\",null),t([i()],c.prototype,\"_numUpdating\",void 0),c=t([p(\"esri.core.AsyncUpdate\")],c),c};let a=class extends(c(s)){};a=t([p(\"esri.core.AsyncUpdate\")],a);export{a as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{AsyncUpdateMixin as s}from\"../../../../core/AsyncUpdate.js\";import t from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as l,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";let a=class extends(s(r)){get layer(){return this.layerView.layer}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:i}=this;return l(e,[...r??[],...s??[],...t??[],...i??[]])}constructor(e){super(e)}initialize(){this.addHandles([this.autoUpdateAsync(\"rendererFields\",(async()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?this._getFieldsAsync((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(async()=>{const{layer:e}=this;return e.labelsVisible?this._getFieldsAsync((r=>d(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,mergedFilter:r}=this.layerView;return this._getFieldsAsync((s=>n(s,e,r)))}))])}async _getFieldsAsync(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return t.getLogger(this).error(s),null}}};e([i()],a.prototype,\"layerView\",void 0),e([i()],a.prototype,\"layer\",null),e([i()],a.prototype,\"requiredFields\",null),e([i()],a.prototype,\"rendererFields\",void 0),e([i()],a.prototype,\"labelingFields\",void 0),e([i()],a.prototype,\"viewFilterFields\",void 0),a=e([o(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],a);export{a as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(s,i,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as e}from\"../../../../core/asyncUtils.js\";import{clone as t}from\"../../../../core/lang.js\";import{normalizeGlobalID as n}from\"../../../../core/uuid.js\";import{queryAllJSON as o}from\"../../../../layers/support/featureQueryAll.js\";const r={setAttribute(){},rollback(){},commit(){}};var i;function s(e,n){const o=n.attributes[e.objectIdField];if(null==o)return r;const s=e.sessions.get(o);if(s)return s;const l=t(n.attributes),u=new Set,a=e.i3sOverrides.createInteractiveEditSession(o),d=new Map,f=(e,t)=>{const n=d.get(e);if(null==n){const n=t.indexOf(o);return d.set(e,n),n}return n};let c=i.EDITING;const I={setAttribute(t,o){if(c!==i.EDITING)return;const r=e.fieldsIndex.get(t);if(!r)return;const s=e.attributeStorageInfo.findIndex((e=>e.name===r.name));if(s<0)return;if(!(t in l))throw new Error(`Attribute \"${t}\" is not an attribute of the edited feature.`);a.setAttribute(s,o);const d=e.attributeStorageInfo[s];let I=!1;u.add(t),e.forEachNode(((t,r)=>{const i=f(t,r);if(-1===i)return;const s=e.getAttributeData(t.index);if(s){const r=s[d.name];r&&(r[i]=o,e.setAttributeData(t.index,s,n),I=!0)}})),I&&e.clearMemCache()},rollback(){if(c===i.EDITING){for(const e of u)this.setAttribute(e,l[e]);a.remove(),c=i.ROLLED_BACK,e.sessions.delete(o)}},commit(){c===i.EDITING&&(a.remove(),c=i.COMMITTED,e.sessions.delete(o))}};return e.sessions.set(o,I),I}function l(e,t,n){const{gidToFeatureInfo:o,oidToFeatureInfo:r,fieldsIndex:i,objectIdField:s,globalIdField:l,featureOrIdentifierList:u}=n;if(!n.featuresResolved&&null!=u){for(const e of u){const t={feature:null,oid:-1,gid:null};if(\"attributes\"in e){t.feature=e;const n=e.attributes;if(null!=n)for(const e in n){if(-1!==t.oid&&null!=t.gid)break;const o=i.normalizeFieldName(e);o===s&&(t.oid=n[e]??-1),o===l&&(t.gid=n[e])}}else t.oid=e.objectId??-1,t.gid=e.globalId;null!=t.gid&&o.set(t.gid,t),-1!==t.oid&&r.set(t.oid,t)}n.featuresResolved=!0}return(-1!==e?r.get(e):null)??(null!=t?o.get(t):null)}function u(e,t,o,r,i=null,s=!0){const u=[],a={gidToFeatureInfo:new Map,oidToFeatureInfo:new Map,featuresResolved:null==o,fieldsIndex:e.fieldsIndex,objectIdField:e.objectIdField,globalIdField:e.globalIdField,featureOrIdentifierList:o};for(const d of t){if(null!=d.error)continue;const e=d.objectId??-1,t=d.globalId,o=(-1===e||s?l(e,t,a):null)??{feature:null,oid:e,gid:t},f={oid:-1===e?o.oid:e,gid:t??o.gid,feature:o.feature,result:d};u.push(f);const c=f.gid?n(f.gid):null;if(-1===f.oid&&null!=c&&null!=i&&(f.oid=i.get(c)??-1),-1===f.oid&&null!=c){let e=r.get(c);null==e&&(e={gid:f.gid,edits:[]},r.set(c,e)),e.edits.push(f)}}return u}async function a(e,t){const n=new Map,o=u(e,t.addedFeatures,t.edits?.addFeatures,n),r=u(e,t.updatedFeatures,t.edits?.updateFeatures,n),i=u(e,t.deletedFeatures,t.edits?.deleteFeatures,n,t.globalIdToObjectId,!1);return n.size>0&&await d(e,n),{adds:o.filter((e=>-1!==e.oid)),updates:r.filter((e=>-1!==e.oid)),deletes:i.filter((e=>-1!==e.oid))}}async function d(t,r){const i=t.i3sOverrides.layer.associatedLayer;if(null==i?.globalIdField)return;const s=i.createQuery(),{objectIdField:l,globalIdField:u}=i;s.where=Array.from(r.values()).map((({gid:e})=>`${u}='${e}'`)).join(\" OR \"),s.returnGeometry=!1,s.outFields=[l,u],s.cacheHint=!1;const a=await e(o(i,s));if(!a.ok)return;const d=a.value.features;for(const e of d){const t=e.attributes[u],o=e.attributes[l];if(null==t||null==o||-1===o)continue;const i=r.get(n(t));if(null!=i)for(const e of i.edits)e.oid=o}}function f(e,t){const n=new Map,o=e=>{for(const{oid:t,feature:o}of e){const e=o?.geometry;\"mesh\"===e?.type&&n.set(t,e)}};o(t.adds),o(t.updates);for(const r of t.deletes)n.set(r.oid,null);for(const[r,i]of n)e.i3sOverrides.updateGeometry(r,i)}function c(e,t){const n=g(e,t),o=I(e,t);if(0===n.size&&0===o.size)return;const r=new Map;for(let c=0;c<e.attributeStorageInfo.length;c++)r.set(e.attributeStorageInfo[c].name,c);let i=!1;n.forEach(((t,n)=>{const o=e.getAttributeData(n);let s=!1;t.forEach(((t,n)=>{const l=null!=o?o[n]:null,u=r.get(n);for(const{featureIndex:o,value:r,featureId:a}of t)l&&(l[o]=r,s=!0,i=!0),e.i3sOverrides.updateAttributeValue(a,u,r)})),s&&e.setAttributeData(n,o,null)})),i&&e.clearMemCache();const{fieldsIndex:s,i3sOverrides:l,objectIdField:u,globalIdField:a}=e,d=l.layer.associatedLayer?.infoFor3D,f=new Set(d?[...Object.values(d.assetMapFieldRoles),...Object.values(d.transformFieldRoles)]:[]);for(const[c,I]of o){l.featureAdded(c);const{attributes:e}=I;for(const t in e){if(t!==u&&t!==a&&f.has(t))continue;const n=s.normalizeFieldName(t),o=null!=n?r.get(n):null;if(null==o)continue;const i=e[t];l.updateAttributeValue(c,o,i)}}}function I(e,t){const n=new Map,o=t.adds;if(!o||0===o.length||null==e.globalIdField)return n;for(const r of o){const e=r.oid,t=r.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t)}return n}function g(e,t){const n=t.updates;if(!n||0===n.length)return new F;const o=new F,r=new Map;for(let i=0;i<e.attributeStorageInfo.length;i++)r.set(e.attributeStorageInfo[i].name,i);return e.forEachNode(((t,r)=>{for(const i of n){if(null==i.feature)continue;const n=i.feature,s=i.oid,l=r.indexOf(s);for(const r in n.attributes){const i=e.fieldsIndex.normalizeFieldName(r),u=b(o,t.index,i),a=n.attributes[r];u.push({featureIndex:l,featureId:s,value:a})}}})),o}function b(e,t,n){const o=m(e,t),r=null!=n&&o.get(n);if(r)return r;const i=new Array;return o.set(n,i),i}function m(e,t){const n=e.get(t);if(n)return n;const o=new p;return e.set(t,o),o}!function(e){e[e.EDITING=0]=\"EDITING\",e[e.ROLLED_BACK=1]=\"ROLLED_BACK\",e[e.COMMITTED=2]=\"COMMITTED\"}(i||(i={}));const p=Map,F=Map;export{s as createInteractiveEditSession,a as normalizeEditResultsEvent,c as processAttributeEdits,f as processGeometryEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import r from\"../../core/Logger.js\";import{abortMaybe as o}from\"../../core/maybe.js\";import{unwrapUpdating as i,updating as n,isUpdating as l}from\"../../core/maybeUpdating.js\";import{throwIfAbortError as s,throwIfNotAbortError as a}from\"../../core/promiseUtils.js\";import{whenOnce as m}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{project as u,canProjectWithoutEngine as g,isLoaded as y,load as h}from\"../../geometry/projectionUtils.js\";import d from\"./LayerView.js\";let f=class extends d{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1,this._abortController=new AbortController}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return i(this._layerFilter)}get _layerFilter(){const e=this.layer?.filter;if(null==e||e.geometries.length<1)return null;const o=this._geometryEngine;if(null==o||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return n;const i=e.geometries.at(0).spatialReference,l=e.geometries.toArray().map((e=>{try{e=o.simplify(e)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to simplify scene filter mask polygon. Polygon will be ignored.\"),null}if(null==e)return null;if(e.spatialReference.equals(i))return e;try{return u(e,i)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to project scene filter mask polygon. Polygon will be ignored.\"),null}})).filter(t).sort(((e,t)=>e.extent.xmin-t.extent.xmin)),s=new Set,a=new Array,m=new Array;for(let t of l){const e=t.extent.xmin;if(a.length=0,s.forEach((r=>{if(e>=r.extent.xmax)return m.push(r),void s.delete(r);t.extent.ymin<=r.extent.ymax&&t.extent.ymax>=r.extent.ymin&&o.intersects(t,r)&&a.push(r)})),a.length>0){a.push(t);try{t=o.union(a)}catch(p){r.getLogger(this).warnOncePerTick(\"Failed to unify filter mask polygons. Polygon will be ignored.\");continue}a.pop(),a.forEach((e=>s.delete(e)))}s.add(t)}return s.forEach((e=>m.push(e))),m.length>0?{spatialRelationship:e.spatialRelationship,geometries:m}:null}get _filterNeedsProjectionEngine(){const e=this.layer.filter;if(null==e||e.geometries.length<=1)return!1;const t=e.geometries.at(0).spatialReference;return e.geometries.some((({spatialReference:e})=>!e.equals(t)&&!g(e,t)))}get layerFilterUpdating(){return l(this._layerFilter)}initialize(){const{signal:e}=this._abortController;m((()=>this.destroyed||!this._geometryEngine&&this.layer?.filter?.geometries?.length),e).then((async()=>{s(e),this._geometryEngine=await import(\"../../geometry/geometryEngine.js\")})).catch(a),this._projectionEngineLoaded=y(),m((()=>this.destroyed||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine),e).then((async()=>{s(e),await h(),this._projectionEngineLoaded=!0})).catch(a)}destroy(){this._abortController=o(this._abortController)}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,t){throw new Error(\"Not implemented\")}queryObjectIds(e,t){throw new Error(\"Not implemented\")}queryFeatureCount(e,t){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,t){throw new Error(\"Not implemented\")}};e([p()],f.prototype,\"layer\",void 0),e([p()],f.prototype,\"availableFields\",null),e([p()],f.prototype,\"maximumNumberOfFeatures\",null),e([p({readOnly:!0})],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([p()],f.prototype,\"filter\",void 0),e([p({readOnly:!0})],f.prototype,\"layerFilter\",null),e([p({readOnly:!0})],f.prototype,\"_layerFilter\",null),e([p()],f.prototype,\"_geometryEngine\",void 0),e([p()],f.prototype,\"_projectionEngineLoaded\",void 0),e([p()],f.prototype,\"_filterNeedsProjectionEngine\",null),e([p()],f.prototype,\"layerFilterUpdating\",null),f=e([c(\"esri.views.layers.SceneLayerView\")],f);export{f as default};\n"],"names":["c","s","constructor","super","arguments","this","_numUpdating","updating","autoUpdateAsync","t","i","o","async","r","destroyed","_set","getLogger","warn","concat","String","e","n","readOnly","prototype","p","a","layer","layerView","requiredFields","fieldsIndex","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","l","initialize","addHandles","renderer","_getFieldsAsync","collectRequiredFields","labelsVisible","d","mergedFilter","Set","Array","from","sort","error","type","availableFields","get","outFields","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","length","associatedLayer","push","u","Map","_e$s$getObjectId","set","getObjectId","h","whenGraphicAttributes","catch","then","_e$getObjectId","_u$get","_t$getObjectId","_u$get2","setAttribute","rollback","commit","attributes","objectIdField","sessions","i3sOverrides","createInteractiveEditSession","f","indexOf","EDITING","I","attributeStorageInfo","findIndex","name","Error","add","forEachNode","getAttributeData","index","setAttributeData","clearMemCache","remove","ROLLED_BACK","delete","COMMITTED","_ref","gidToFeatureInfo","oidToFeatureInfo","globalIdField","featureOrIdentifierList","featuresResolved","_e$objectId","feature","oid","gid","_n$e","normalizeFieldName","objectId","globalId","undefined","_d$objectId","_ref2","_i$get","result","edits","_t$edits","_t$edits2","_t$edits3","addedFeatures","addFeatures","updatedFeatures","updateFeatures","deletedFeatures","deleteFeatures","globalIdToObjectId","size","createQuery","where","values","map","_ref3","join","returnGeometry","cacheHint","ok","value","features","adds","filter","updates","deletes","geometry","updateGeometry","_l$layer$associatedLa","F","b","featureIndex","featureId","g","_t$geometry","forEach","updateAttributeValue","infoFor3D","Object","assetMapFieldRoles","transformFieldRoles","featureAdded","has","m","_geometryEngine","_projectionEngineLoaded","_abortController","AbortController","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","layerFilter","_layerFilter","_this$layer","geometries","_filterNeedsProjectionEngine","at","spatialReference","toArray","simplify","warnOncePerTick","equals","extent","xmin","xmax","ymin","ymax","intersects","union","pop","spatialRelationship","some","layerFilterUpdating","signal","_this$layer2","y","destroy","highlight","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent"],"sourceRoot":""}