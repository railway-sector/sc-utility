{"version":3,"file":"static/js/78572.c815e8fc.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js","../node_modules/@arcgis/core/views/2d/engine/flow/utils.js","../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../node_modules/@arcgis/core/views/3d/support/flow/geometryUtils.js","../node_modules/@arcgis/core/views/3d/support/flow/loadUtils.js","../node_modules/@arcgis/core/views/3d/support/flow/StreamlinesResources3D.js","../node_modules/@arcgis/core/views/3d/support/flow/StreamlinesStyle3D.js","../node_modules/@arcgis/core/views/3d/layers/FlowSubView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{offsetDate as n}from\"../core/timeUtils.js\";import{T as i}from\"../chunks/TimeExtent.js\";import{isWebMap as r}from\"../webmap/utils.js\";import{isWebScene as l}from\"../webscene/utils.js\";function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:e(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return i.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return i.allTime;const u=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return i.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>\"fulfilled\"===t.status?t.value:null));if(c.some(m))return i.allTime;const d=[...c,...a].filter(t);if(0===d.length)return i.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case\"time-window\":return new i({start:r,end:l});case\"cumulative-from-start\":return new i({start:null,end:s});case\"cumulative-from-end\":return new i({start:s,end:null});case\"instant\":return new i({start:s,end:s})}}async function c(t,e){if(!r(t)&&!l(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,-r.getTimezoneOffset(),\"minutes\"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,r.getTimezoneOffset(),\"minutes\"):r})}export{a as getTimeExtentFromLayers,c as getTimeSliderSettingsFromWebDocument,p as toLocalTimeExtent,d as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{deg2rad as e}from\"../../../../core/mathUtils.js\";import{throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import r from\"../../../../core/RandomLCG.js\";import o from\"../../../../geometry/Extent.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";const i=()=>t.getLogger(\"esri.views.2d.engine.flow.dataUtils\"),a=10;async function s(t,e,r,o){const l=performance.now(),s=c(e,r),f=performance.now(),h=u(e,s,r.width,r.height),p=performance.now(),g=m(h,!0),y=performance.now(),x=\"Streamlines\"===t?d(g,a):w(g),M=performance.now();return has(\"esri-2d-profiler\")&&(i().info(\"I.1\",\"_createFlowFieldFromData (ms)\",Math.round(f-l)),i().info(\"I.2\",\"_getStreamlines (ms)\",Math.round(p-f)),i().info(\"I.3\",\"createAnimatedLinesData (ms)\",Math.round(y-p)),i().info(\"I.4\",\"create{Streamlines|Particles}Mesh (ms)\",Math.round(M-y)),i().info(\"I.5\",\"createFlowMesh (ms)\",Math.round(M-l)),i().info(\"I.6\",\"Mesh size (bytes)\",x.vertexData.buffer.byteLength+x.indexData.buffer.byteLength)),await Promise.resolve(),n(o),x}function c(t,e){const n=h(e.data,e.width,e.height,t.smoothing);if(t.interpolate){return(t,r)=>{const o=Math.floor(t),l=Math.floor(r);if(o<0||o>=e.width)return[0,0];if(l<0||l>=e.height)return[0,0];const i=t-o,a=r-l,s=o,c=l,f=o<e.width-1?o+1:o,u=l<e.height-1?l+1:l,h=n[2*(c*e.width+s)],m=n[2*(c*e.width+f)],d=n[2*(u*e.width+s)],w=n[2*(u*e.width+f)],p=n[2*(c*e.width+s)+1],g=n[2*(c*e.width+f)+1];return[(h*(1-a)+d*a)*(1-i)+(m*(1-a)+w*a)*i,(p*(1-a)+n[2*(u*e.width+s)+1]*a)*(1-i)+(g*(1-a)+n[2*(u*e.width+f)+1]*a)*i]}}return(t,r)=>{const o=Math.round(t),l=Math.round(r);return o<0||o>=e.width||l<0||l>=e.height?[0,0]:[n[2*(l*e.width+o)],n[2*(l*e.width+o)+1]]}}function f(t,e,n,r,o,l,i,a,s){const c=[];let f=n,u=r,h=0,[m,d]=e(f,u);m*=t.velocityScale,d*=t.velocityScale;const w=Math.sqrt(m*m+d*d);let p,g;c.push({x:f,y:u,t:h,speed:w});for(let y=0;y<t.verticesPerLine;y++){let[n,r]=e(f,u);n*=t.velocityScale,r*=t.velocityScale;const m=Math.sqrt(n*n+r*r);if(m<t.minSpeedThreshold)return c;const d=n/m,w=r/m;f+=d*t.segmentLength,u+=w*t.segmentLength;if(h+=t.segmentLength/m,Math.acos(d*p+w*g)>t.maxTurnAngle)return c;if(t.collisions){const t=Math.round(f*s),e=Math.round(u*s);if(t<0||t>i-1||e<0||e>a-1)return c;const n=l[e*i+t];if(-1!==n&&n!==o)return c;l[e*i+t]=o}c.push({x:f,y:u,t:h,speed:m}),p=d,g=w}return c}function u(t,e,n,o){const l=[],i=new r,a=1/Math.max(t.lineCollisionWidth,1),s=Math.round(n*a),c=Math.round(o*a),u=new Int32Array(s*c);for(let r=0;r<u.length;r++)u[r]=-1;const h=[];for(let r=0;r<o;r+=t.lineSpacing)for(let e=0;e<n;e+=t.lineSpacing)h.push({x:e,y:r,sort:i.getFloat()});h.sort(((t,e)=>t.sort-e.sort));for(const{x:r,y:m}of h)if(i.getFloat()<t.density){const n=f(t,e,r,m,l.length,u,s,c,a);if(n.length<2)continue;l.push(n)}return l}function h(t,e,n,r){if(0===r)return t;const o=Math.round(3*r),l=new Array(2*o+1);let i=0;for(let c=-o;c<=o;c++){const t=Math.exp(-c*c/(r*r));l[c+o]=t,i+=t}for(let c=-o;c<=o;c++)l[c+o]/=i;const a=new Float32Array(t.length);for(let c=0;c<n;c++)for(let n=0;n<e;n++){let r=0,i=0;for(let a=-o;a<=o;a++){if(n+a<0||n+a>=e)continue;const s=l[a+o];r+=s*t[2*(c*e+(n+a))],i+=s*t[2*(c*e+(n+a))+1]}a[2*(c*e+n)]=r,a[2*(c*e+n)+1]=i}const s=new Float32Array(t.length);for(let c=0;c<e;c++)for(let t=0;t<n;t++){let r=0,i=0;for(let s=-o;s<=o;s++){if(t+s<0||t+s>=n)continue;const f=l[s+o];r+=f*a[2*((t+s)*e+c)],i+=f*a[2*((t+s)*e+c)+1]}s[2*(t*e+c)]=r,s[2*(t*e+c)+1]=i}return s}function m(t,e){const n=new r,o=t.reduce(((t,e)=>t+e.length),0),l=new Float32Array(4*o),i=new Array(t.length);let a=0,s=0;for(const r of t){const t=a;for(const e of r)l[4*a]=e.x,l[4*a+1]=e.y,l[4*a+2]=e.t,l[4*a+3]=e.speed,a++;i[s++]={startVertex:t,numberOfVertices:r.length,totalTime:r[r.length-1].t,timeSeed:e?n.getFloat():0}}return{lineVertices:l,lineDescriptors:i}}function d(t,e){const n=9,{lineVertices:r,lineDescriptors:o}=t;let l=0,i=0;for(const m of o){l+=2*m.numberOfVertices;i+=6*(m.numberOfVertices-1)}const a=new Float32Array(l*n),s=new Uint32Array(i);let c=0,f=0;function u(){s[f++]=c-2,s[f++]=c,s[f++]=c-1,s[f++]=c,s[f++]=c+1,s[f++]=c-1}function h(t,e,r,o,l,i,s,f){const u=c*n;let h=0;a[u+h++]=t,a[u+h++]=e,a[u+h++]=1,a[u+h++]=r,a[u+h++]=i,a[u+h++]=s,a[u+h++]=o/2,a[u+h++]=l/2,a[u+h++]=f,c++,a[u+h++]=t,a[u+h++]=e,a[u+h++]=-1,a[u+h++]=r,a[u+h++]=i,a[u+h++]=s,a[u+h++]=-o/2,a[u+h++]=-l/2,a[u+h++]=f,c++}for(const m of o){const{totalTime:t,timeSeed:n}=m;let o=null,l=null,i=null,a=null,s=null,c=null;for(let f=0;f<m.numberOfVertices;f++){const d=r[4*(m.startVertex+f)],w=r[4*(m.startVertex+f)+1],p=r[4*(m.startVertex+f)+2],g=r[4*(m.startVertex+f)+3];let y=null,x=null,M=null,A=null;if(f>0){y=d-o,x=w-l;const r=Math.sqrt(y*y+x*x);if(y/=r,x/=r,f>1){let t=y+s,n=x+c;const r=Math.sqrt(t*t+n*n);t/=r,n/=r;const o=Math.min(1/(t*y+n*x),e);t*=o,n*=o,M=-n,A=t}else M=-x,A=y;null!==M&&null!==A&&(h(o,l,i,M,A,t,n,g),u())}o=d,l=w,i=p,s=y,c=x,a=g}h(o,l,i,-c,s,t,n,a)}return{vertexData:a,indexData:s}}function w(t){const e=16,n=1,r=2,{lineVertices:o,lineDescriptors:l}=t;let i=0,a=0;for(const U of l){const t=U.numberOfVertices-1;i+=4*t*2,a+=6*t*2}const s=new Float32Array(i*e),c=new Uint32Array(a);let f,u,h,m,d,w,p,g,y,x,M,A,I,V,F=0,v=0;function D(){c[v++]=F-8,c[v++]=F-7,c[v++]=F-6,c[v++]=F-7,c[v++]=F-5,c[v++]=F-6,c[v++]=F-4,c[v++]=F-3,c[v++]=F-2,c[v++]=F-3,c[v++]=F-1,c[v++]=F-2}function b(t,o,l,i,a,c,f,u,h,m,d,w,p,g){const y=F*e;let x=0;for(const e of[n,r])for(const n of[1,2,3,4])s[y+x++]=t,s[y+x++]=o,s[y+x++]=l,s[y+x++]=i,s[y+x++]=f,s[y+x++]=u,s[y+x++]=h,s[y+x++]=m,s[y+x++]=e,s[y+x++]=n,s[y+x++]=p,s[y+x++]=g,s[y+x++]=a/2,s[y+x++]=c/2,s[y+x++]=d/2,s[y+x++]=w/2,F++}function S(t,e){let n=y+M,r=x+A;const o=Math.sqrt(n*n+r*r);n/=o,r/=o;const l=y*n+x*r;n/=l,r/=l;let i=M+I,a=A+V;const s=Math.sqrt(i*i+a*a);i/=s,a/=s;const c=M*i+A*a;i/=c,a/=c,b(f,u,h,m,-r,n,d,w,p,g,-a,i,t,e),D()}function k(t,e,n,r,o,l){if(y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=d&&null!=w){I=t-d,V=e-w;const n=Math.sqrt(I*I+V*V);I/=n,V/=n}null!=y&&null!=x&&S(o,l),f=d,u=w,h=p,m=g,d=t,w=e,p=n,g=r}function L(t,e){y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=y&&null!=x&&S(t,e)}for(const U of l){f=null,u=null,h=null,m=null,d=null,w=null,p=null,g=null,y=null,x=null,M=null,A=null,I=null,V=null;const{totalTime:t,timeSeed:e}=U;for(let n=0;n<U.numberOfVertices;n++){k(o[4*(U.startVertex+n)],o[4*(U.startVertex+n)+1],o[4*(U.startVertex+n)+2],o[4*(U.startVertex+n)+3],t,e)}L(t,e)}return{vertexData:s,indexData:c}}function p(t,n){const r=n.pixels,{width:o,height:l}=n,i=new Float32Array(o*l*2),a=n.mask||new Uint8Array(o*l*2);if(n.mask||a.fill(255),\"vector-uv\"===t)for(let e=0;e<o*l;e++)i[2*e]=r[0][e],i[2*e+1]=-r[1][e];else if(\"vector-magdir\"===t)for(let s=0;s<o*l;s++){const t=r[0][s],n=e(r[1][s]),o=Math.cos(n-Math.PI/2),l=Math.sin(n-Math.PI/2);i[2*s]=o*t,i[2*s+1]=l*t}return{data:i,mask:a,width:o,height:l}}async function g(t,e,n,r,a,s){const c=performance.now(),f=l(e.spatialReference);if(!f){const o=await y(t,e,n,r,a,s);return has(\"esri-2d-profiler\")&&i().info(\"I.7\",\"loadImagery, early exit (ms)\",Math.round(performance.now()-c)),has(\"esri-2d-profiler\")&&i().info(\"I.9\",\"Number of parts\",1),o}const[u,h]=f.valid,m=h-u,d=Math.ceil(e.width/m),w=e.width/d,p=Math.round(n/d);let g=e.xmin;const x=[],M=performance.now();for(let l=0;l<d;l++){const n=new o({xmin:g,xmax:g+w,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference});x.push(y(t,n,p,r,a,s)),g+=w}const A=await Promise.all(x);has(\"esri-2d-profiler\")&&i().info(\"I.8\",\"All calls to _fetchPart (ms)\",Math.round(performance.now()-M)),has(\"esri-2d-profiler\")&&i().info(\"I.9\",\"Number of parts\",A.length);const I={data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};let V=0;for(const o of A){for(let t=0;t<o.height;t++)for(let e=0;e<o.width;e++)V+e>=n||(I.data[2*(t*n+V+e)]=o.data[2*(t*o.width+e)],I.data[2*(t*n+V+e)+1]=o.data[2*(t*o.width+e)+1],I.mask[t*n+V+e]=o.mask[t*o.width+e]);V+=o.width}return has(\"esri-2d-profiler\")&&i().info(\"I.10\",\"loadImagery, general exit (ms)\",Math.round(performance.now()-c)),I}async function y(t,e,n,r,o,l){const i={requestProjectedLocalDirections:!0,signal:l};if(null!=o&&(i.timeExtent=o),\"imagery\"===t.type){await t.load({signal:l});const o=await t.internalFetchImage(e,n,r,i);if(null==o?.pixelData?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return p(t.rasterInfo.dataType,o.pixelData.pixelBlock)}await t.load({signal:l});const a=await t.fetchPixels(e,n,r,i);if(null==a?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return p(t.serviceRasterInfo.dataType,a.pixelBlock)}export{m as createAnimatedLinesData,c as createFlowFieldFromData,s as createFlowMesh,w as createParticlesMesh,d as createStreamlinesMesh,u as getStreamlines,g as loadImagery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import{identity as t,translate as n,scale as i}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";function s(t){const n=a(u(t)),i=n,o=!0,s=Math.max(n/2,5),r=Math.round(e(t.maxPathLength)/s)+1,l=10,{density:c}=t;return{smoothing:e(t.smoothing),interpolate:!0,velocityScale:\"flow-from\"===t.flowRepresentation?1:-1,verticesPerLine:r,minSpeedThreshold:.001,segmentLength:s,maxTurnAngle:1,collisions:o,lineCollisionWidth:i,lineSpacing:l,density:c}}function a(e){return\"constant\"===e.kind?e.value[0]:e.values[e.values.length-1]}function r(e){const t=e.toRgba();return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function l(e){return{kind:\"constant\",value:[.1,.1,.1,1]}}function u(t){if(!t.hasVisualVariables(\"size\"))return{kind:\"constant\",value:[e(t.trailWidth)]};const n=t.getVisualVariablesForType(\"size\")[0],i=[],o=[];let s;if(n.stops){for(const t of n.stops)i.push(t.value),o.push(e(t.size));s=n.stops.length}else i.push(n.minDataValue,n.maxDataValue),o.push(e(n.minSize),e(n.maxSize)),s=2;return{kind:\"ramp\",stops:i,values:o,count:s}}function c(e){if(!e.hasVisualVariables(\"color\"))return{kind:\"constant\",value:r(e.color)};const t=e.getVisualVariablesForType(\"color\")[0],n=[],i=[];for(const o of t.stops)n.push(o.value),Array.prototype.push.apply(i,r(o.color));return{kind:\"ramp\",stops:n,values:i,count:t.stops.length}}function p(e){if(!e.hasVisualVariables(\"opacity\"))return{kind:\"constant\",value:[1]};const t=e.getVisualVariablesForType(\"opacity\")[0],n=[],i=[];for(const o of t.stops)n.push(o.value),i.push(o.opacity);return{kind:\"ramp\",stops:n,values:i,count:t.stops.length}}function m(e,t,n,i){switch(t){case\"int\":e.setUniform1iv(n,i);break;case\"float\":e.setUniform1fv(n,i);break;case\"vec2\":e.setUniform2fv(n,i);break;case\"vec3\":e.setUniform3fv(n,i);break;case\"vec4\":e.setUniform4fv(n,i)}}function f(e,t,n,i){\"constant\"===i.kind?m(e,n,`u_${t}`,i.value):(m(e,\"float\",`u_${t}_stops`,i.stops),m(e,n,`u_${t}_values`,i.values),e.setUniform1i(`u_${t}_count`,i.count))}function h(e,t){let n=!0;return n=n&&e.collisions===t.collisions,n=n&&e.density===t.density,n=n&&e.interpolate===t.interpolate,n=n&&e.lineCollisionWidth===t.lineCollisionWidth,n=n&&e.lineSpacing===t.lineSpacing,n=n&&e.maxTurnAngle===t.maxTurnAngle,n=n&&e.minSpeedThreshold===t.minSpeedThreshold,n=n&&e.segmentLength===t.segmentLength,n=n&&e.smoothing===t.smoothing,n=n&&e.velocityScale===t.velocityScale,n=n&&e.verticesPerLine===t.verticesPerLine,n}function d(e,t){return e===t||null!=e&&null!=t&&e.equals(t)}function g(e,t){if(!h(e.simulationSettings,t.simulationSettings))return!1;if(!d(e.timeExtent,t.timeExtent))return!1;let n=!0;return n=n&&e.loadImagery===t.loadImagery,n=n&&e.createFlowMesh===t.createFlowMesh,n=n&&e.color.kind===t.color.kind,n=n&&e.opacity.kind===t.opacity.kind,n=n&&e.size.kind===t.size.kind,n}function v(e,s,a){const r=o();t(r),n(r,r,[-1,1]),i(r,r,[2/s,-2/a,1]);return{time:e,dvsMat3:r,displayViewMat3:r}}export{g as areStreamlinesCompatible,c as getColor,s as getFlowSimulationSettings,l as getForegroundColor,a as getMax,p as getOpacity,v as getSingleTileVisualState,u as getSize,m as setUniform,f as setUniforms,h as simulationSettingsEqual,d as timeExtentsEqual,r as toRgba};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as p}from\"../../webgl-engine/lib/VertexAttribute.js\";import{GeometryType as f}from\"../../webgl-engine/lib/IntersectableGeometry.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),w(e,o,l),D(e,o,l),T(e,o,l),y(e,o,l),E(e,o,l),j(e,o,i),new m(t,o,n,f.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([p.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([p.COLOR,new c(n??o,r,4)])}function D(t,e,r){t.attributeData.normal&&e.push([p.NORMAL,new c(t.attributeData.normal,r,3)])}function T(t,e,r){null!=t.attributeData.colorFeature&&e.push([p.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function w(t,e,r){null==t.attributeData.sizeFeature&&e.push([p.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function y(t,e,r){null!=t.attributeData.sizeFeature&&e.push([p.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function E(t,e,r){null!=t.attributeData.opacityFeature&&e.push([p.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function j(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const m=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<m.length;t+=3)i(u,t,m,t,f);const b=u.length/3,g=l(b+1);let h=I,D=F,T=0,w=0;t(h,m[w++],m[w++]),w++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(w=0),t(D,m[w++],m[w++]),w++,T+=e(h,D),g[n]=T,[h,D]=[D,h];o.push([p.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{zValueInAbsoluteHeightMode as n}from\"../../../../support/elevationInfoUtils.js\";import{lineStripsToParameters as o,createGeometry as i}from\"../engineContent/line.js\";import{RibbonLineMaterial as t}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{CapType as s}from\"../../webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";function m(r,o,i,t){const{spatialReference:s}=r;return a(i.map((i=>i.map((i=>{const[m,a]=c(i,o),{absoluteZ:f}=n(m,a,0,s,r,t),l=e(m,a,f);return r.renderCoordsHelper.toRenderCoords(l,s,l),l})))))}function a(e){const n=o(e),m=new t({width:2,color:r(.1,.2,1,1),innerWidth:1,innerColor:r(.2,.4,1,1),cap:s.ROUND});return n.map((e=>i(m,e)))}function c({x:e,y:r},n){const{extent:o,size:[i,t]}=n;return[e/i*o.width+o.xmin,(t-r)/t*o.height+o.ymin]}export{m as createFlowGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{intersects as n,create as l}from\"../../../../geometry/support/aaBoundingRect.js\";function e(e,r,o){let[i,c,f,s]=[null,null,null,null];for(r.reset(e);!r.done;){const l=r.next();if(null==l)continue;if(!l.visible){r.skipSubtree();continue}const e=l.extent;l.leaf&&l.rendered&&n(e,o)&&(i=u(e[0],i),c=u(e[1],c),f=t(e[2],f),s=t(e[3],s))}return null==i||null==c||null==f||null==s?null:l([i,c,f,s])}function t(n,l){return null==l?n:Math.max(n,l)}function u(n,l){return null==l?n:Math.min(n,l)}export{e as boundingRectOfTileTree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e,disposeMaybe as t}from\"../../../../core/maybe.js\";import{Object3D as i}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as s}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as n}from\"../../webgl-engine/lib/WebGLLayer.js\";class r{constructor(e,t){this.streamlines=e,this._geometries=t,this._object3D=null,this._engineLayer=null}get attached(){return null!=this._object3D&&null!=this._engineLayer}attach(e){const{_geometries:t}=this;if(null==t)return;this.detach();const r=new n(e,{pickable:!1,updatePolicy:s.SYNC}),o=new i({geometries:t});o.visible=!0,r.add(o),this._object3D=o,this._engineLayer=r}detach(){this.attached&&(this._engineLayer=e(this._engineLayer),this._object3D=t(this._object3D))}}export{r as StreamlinesResources3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{createFlowFieldFromData as s,getStreamlines as i}from\"../../../2d/engine/flow/dataUtils.js\";import{StreamlinesResources3D as a}from\"./StreamlinesResources3D.js\";let l=class extends e{constructor(t){super(t),this.simulationSettings=null,this.loadImagery=null,this.createGeometry=null}async load(t,e){const r=await this.loadImagery(t,e);if(null==r)return null;const o=this._createFlowFieldFromData(r),s=this._getStreamlines(t,o),i=this.createGeometry(t,s);return new a(s,i)}_createFlowFieldFromData(t){return s(this.simulationSettings,t)}_getStreamlines(t,e){const{size:[r,o]}=t;return i(this.simulationSettings,e,r,o)}};t([r()],l.prototype,\"simulationSettings\",void 0),t([r()],l.prototype,\"loadImagery\",void 0),t([r()],l.prototype,\"createGeometry\",void 0),l=t([o(\"esri.views.3d.support.flow.StreamlinesStyle3D\")],l);export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{abortMaybe as e}from\"../../../core/maybe.js\";import{debounce as r,throwIfAborted as o,ignoreAbortErrors as s}from\"../../../core/promiseUtils.js\";import{when as i,sync as l}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectOrLoad as u}from\"../../../geometry/projectionUtils.js\";import{fromExtent as p,intersection as m,toExtent as d}from\"../../../geometry/support/aaBoundingRect.js\";import h from\"../../../symbols/support/ElevationInfo.js\";import{loadImagery as c}from\"../../2d/engine/flow/dataUtils.js\";import{getFlowSimulationSettings as y,simulationSettingsEqual as f}from\"../../2d/engine/flow/utils.js\";import g from\"./SubView3D.js\";import{createFlowGeometry as _}from\"../support/flow/geometryUtils.js\";import{boundingRectOfTileTree as w}from\"../support/flow/loadUtils.js\";import j from\"../support/flow/StreamlinesStyle3D.js\";import{IteratorPreorder as S}from\"../terrain/tileUtils.js\";let b=class extends g{constructor(t){super(t),this.type=\"flow\",this._preorderIterator=new S,this._abortController=null,this._debouncedLoad=r((async()=>{const{view:t,_style:e}=this;if(null==e)return;const r=this._computeExtent();if(null==r)return;const s={extent:r,timeExtent:this.layer.timeExtent,size:this._viewSizeWithEqualRatio(r),pixelRatio:t.state.contentPixelRatio};null==this._abortController&&(this._abortController=new AbortController);const i=this._abortController,l=await e.load(s,i.signal);o(i.signal),null!=l&&(this._resources?.detach(),l.attach(t.stage),this._resources=l)})),this._loadImagery=(t,e)=>{const{extent:r,size:[o,s],timeExtent:i}=t;return c(this.layer,r,o,s,i,e)},this._createFlowGeometry=(t,e)=>_(this.view,t,e,this.elevationInfo)}initialize(){this.addHandles([i((()=>this.newStyleRequired),(()=>this._updateStyle()),l)]),this.updatingHandles.add((()=>this._style),(()=>this._triggerLoad())),this._updateStyle(),this.updatingHandles.addWhen((()=>!this.view.basemapTerrain?.updating),(()=>this._triggerLoad()))}destroy(){this._abortController=e(this._abortController),this.clear()}get layer(){return this.layerView.layer}get flowRenderer(){const t=this.layer.renderer;return\"flow\"!==t?.type?null:t}get elevationInfo(){return new h({mode:\"absolute-height\",offset:1e3})}get dataBounds(){const{fullExtent:t}=this.layer,{spatialReference:e}=this.view.basemapTerrain,r=u(t,e).geometry;return null==r?null:p(r)}get simulationSettings(){const{flowRenderer:t}=this;return null==t?null:y(t)}get newStyleRequired(){const t=this._style?.simulationSettings,e=this.simulationSettings;return null!=t&&null!=e&&!f(t,e)}doRefresh(){return this._triggerLoad()}clear(){this._resources?.detach(),this._resources=null}_triggerLoad(){return s(this.updatingHandles.addPromise(this._debouncedLoad()))}_updateStyle(){const{simulationSettings:t}=this;null!=t&&(this._style?.destroy(),this._style=new j({simulationSettings:t,loadImagery:this._loadImagery,createGeometry:this._createFlowGeometry}))}_computeExtent(){const t=this.view.basemapTerrain,e=t?.rootTiles;if(null==e||0===e.length)return null;const{spatialReference:r}=t,{dataBounds:o}=this;if(!r||null==o)return null;const s=w(e,this._preorderIterator,o);return null==s?null:(m(s,o,s),d(s,r))}_viewSizeWithEqualRatio(t){const e=(t.xmax-t.xmin)/(t.ymax-t.ymin),[r,o]=this.view.size;return r<o?[r,Math.floor(r/e)]:[Math.floor(o*e),o]}get test(){}};t([n()],b.prototype,\"type\",void 0),t([n()],b.prototype,\"_style\",void 0),t([n()],b.prototype,\"layer\",null),t([n()],b.prototype,\"flowRenderer\",null),t([n()],b.prototype,\"elevationInfo\",null),t([n()],b.prototype,\"dataBounds\",null),t([n()],b.prototype,\"simulationSettings\",null),t([n()],b.prototype,\"newStyleRequired\",null),b=t([a(\"esri.views.3d.layers.FlowSubView3D\")],b);export{b as default};\n"],"names":["i","n","s","timeInfo","datesInUnknownTimezone","l","timeOffset","o","useViewTime","m","u","timeExtent","t","start","e","end","r","getTimezoneOffset","intersection","isEmpty","isAllTime","offset","value","unit","equals","getLogger","a","async","performance","now","c","f","h","width","height","p","g","reduce","length","Float32Array","Array","x","y","speed","startVertex","numberOfVertices","totalTime","timeSeed","getFloat","lineVertices","lineDescriptors","Uint32Array","d","w","M","A","Math","sqrt","min","vertexData","indexData","U","I","V","F","v","D","b","S","k","L","has","info","round","buffer","byteLength","Promise","resolve","exp","data","smoothing","interpolate","floor","velocityScale","push","verticesPerLine","minSpeedThreshold","segmentLength","acos","maxTurnAngle","collisions","max","lineCollisionWidth","Int32Array","lineSpacing","sort","density","pixels","mask","Uint8Array","fill","cos","PI","sin","spatialReference","valid","ceil","xmin","xmax","ymin","ymax","all","requestProjectedLocalDirections","signal","type","_o$pixelData","load","internalFetchImage","pixelData","pixelBlock","rasterInfo","dataType","fetchPixels","serviceRasterInfo","maxPathLength","flowRepresentation","kind","values","toRgba","hasVisualVariables","trailWidth","getVisualVariablesForType","stops","size","minDataValue","maxDataValue","minSize","maxSize","count","color","prototype","apply","opacity","setUniform1iv","setUniform1fv","setUniform2fv","setUniform3fv","setUniform4fv","concat","setUniform1i","simulationSettings","loadImagery","createFlowMesh","arguments","undefined","mapPositions","attributeData","position","removeDuplicateStartEnd","slice","POSITION","indices","colorFeature","COLOR","_t$attributeData$size","sizeFeature","SIZE","normal","NORMAL","COLORFEATUREATTRIBUTE","T","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","E","overlayInfo","renderCoordsHelper","viewingMode","Global","isGeographic","DISTANCETOSTART","j","Line","R","forEach","innerWidth","innerColor","cap","ROUND","map","_ref","extent","absoluteZ","toRenderCoords","reset","done","next","visible","skipSubtree","leaf","rendered","constructor","this","streamlines","_geometries","_object3D","_engineLayer","attached","attach","detach","pickable","updatePolicy","SYNC","geometries","add","super","createGeometry","_createFlowFieldFromData","_getStreamlines","_preorderIterator","_abortController","_debouncedLoad","_this$_resources","view","_style","_computeExtent","layer","_viewSizeWithEqualRatio","pixelRatio","state","contentPixelRatio","AbortController","_resources","stage","_loadImagery","_createFlowGeometry","_","elevationInfo","initialize","addHandles","newStyleRequired","_updateStyle","updatingHandles","_triggerLoad","addWhen","_this$view$basemapTer","basemapTerrain","updating","destroy","clear","layerView","flowRenderer","renderer","mode","dataBounds","fullExtent","geometry","_this$_style","doRefresh","_this$_resources2","addPromise","_this$_style2","rootTiles","test"],"sourceRoot":""}