{"version":3,"file":"static/js/66167.5f0c6bac.chunk.js","mappings":"6LAIma,MAAMA,EAAE,EAAE,MAAM,MAAMC,UAAUC,EAAAA,EAAEC,WAAAA,GAAcC,SAASC,WAAWC,KAAKC,oBAAoB,CAACC,IAAG,EAAGC,KAAI,GAAIH,KAAKI,mBAAmB,CAACF,IAAG,GAAIF,KAAKK,qBAAoBC,EAAAA,EAAAA,KAAG,CAACC,OAAAA,GAAU,CAACC,QAAAA,CAASF,EAAEG,GAAG,MAAMC,EAAEJ,EAAEK,WAAWX,KAAKY,WAAWN,EAAEI,EAAED,GAAGT,KAAKa,UAAUP,EAAEI,EAAED,EAAE,CAACG,UAAAA,CAAWN,EAAEG,EAAEK,GAAG,MAAMC,QAAQnB,EAAEoB,aAAaC,EAAEC,QAAQC,EAAEC,aAAa1B,EAAE2B,MAAM1B,EAAE2B,cAAcC,EAAEC,cAAcC,EAAEC,mBAAmBC,GAAGrB,EAAEsB,EAAEnB,EAAEoB,aAAaC,EAAEX,EAAEY,2BAA2B,IAAIC,EAAEC,GAAE,EAAG,IAAI,MAAMvB,KAAKI,EAAE,GAAGJ,EAAEwB,UAAUC,IAAIZ,KAAKS,EAAEtB,EAAEwB,UAAUE,IAAIb,GAAGS,EAAEK,uBAAuBC,KAAK,GAAG,CAACL,GAAE,EAAG,KAAK,CAAC,IAAIA,EAAE,OAAO,MAAMM,EAAE9B,EAAE+B,cAAc,iBAAiBvB,GAAGwB,EAAEhC,EAAE+B,cAAc,wBAAwBvB,GAAG,IAAIyB,EAAEjC,EAAEkC,eAAe,0BAA0B1B,GAAG,IAAIyB,IAAIA,EAAE,IAAIjC,EAAEkC,eAAe,mBAAmB1B,GAAG,EAAE,GAAG,MAAM2B,EAAE,IAAIF,EAAEG,EAAEpC,EAAEkC,eAAe,oBAAoB1B,IAAI2B,EAAEE,EAAEd,EAAEe,UAAUC,EAAEhD,KAAKC,oBAAoB+C,EAAE7C,IAAI2C,EAAE,MAAMG,EAAEnB,EAAEoB,mBAAmBtD,EAAEgC,EAAEoB,GAAG,GAAGrB,GAAG,MAAMF,IAAIwB,EAAEE,SAAS,YAAY1B,IAAI7B,EAAEwD,WAAWH,GAAGA,EAAEI,oBAAoB,oBAAoB,IAAIX,EAAE/C,EAAE2D,gBAAgB3D,EAAE4D,aAAaN,EAAEI,oBAAoB,gBAAgB,IAAIZ,EAAE9C,EAAE4D,YAAY5D,EAAE2D,iBAAiBL,EAAEO,cAAc,oBAAoBjB,GAAGU,EAAEQ,aAAa,UAAUhD,EAAEiD,GAAGT,EAAEQ,aAAa,iBAAgBE,EAAAA,EAAAA,IAAEhE,EAAEiE,WAAWX,EAAEQ,aAAa,gBAAgBZ,EAAE,EAAE,GAAGI,EAAEQ,aAAa,UAAU,GAAGxC,GAAGgC,EAAEY,aAAa,YAAYC,EAAAA,IAAGb,EAAEQ,aAAa,iBAAiB/C,EAAAA,GAAE,KAAKuC,EAAEY,aAAa,kBAAkBvD,EAAEyD,eAAe,EAAE,GAAG,IAAIC,GAAG,EAAE,IAAI,MAAMtD,KAAKI,EAAE,CAAC,IAAIJ,EAAEwB,UAAUC,IAAIZ,GAAG,SAAS,GAAGb,EAAEuD,IAAIC,QAAQF,IAAIA,EAAEtD,EAAEuD,IAAIC,MAAMtC,EAAEuC,gBAAgBlB,EAAEhC,EAAER,EAAEuD,EAAEtE,IAAIsC,EAAEtB,EAAEwB,UAAUE,IAAIb,GAAG,IAAIS,EAAEK,uBAAuBC,KAAK,SAASN,EAAEoC,oBAAoBxE,GAAGoC,EAAEqC,oBAAoB,MAAMP,EAAE9B,EAAEsC,QAAQ,GAAG,MAAMR,EAAE,CAAClE,EAAE2E,QAAQT,GAAGb,EAAEI,oBAAoB,YAAY3C,EAAE8D,WAAWC,uBAAuBxB,EAAEQ,aAAa,UAAUiB,YAAYC,MAAM3C,EAAE4C,mBAAmB,KAAK,IAAI,MAAMnE,EAAEqD,KAAK9B,EAAEK,uBAAuBrC,KAAK6E,iBAAiBvE,EAAE2C,EAAEa,EAAErD,EAAEC,EAAE,CAAC,CAAC,CAACmE,gBAAAA,CAAiBvE,EAAEG,EAAEC,EAAEI,EAAE6C,GAAG,MAAM5C,QAAQnB,EAAEwB,aAAa1B,GAAGY,EAAEN,KAAKK,oBAAoB,GAAGX,EAAEoF,SAAShE,GAAG,EAAEd,KAAKK,oBAAoB,GAAGX,EAAEqF,UAAUjE,GAAG,EAAEL,EAAE+C,cAAc,eAAexD,KAAKK,qBAAqBX,EAAEsF,KAAKpF,EAAE,KAAKkB,EAAEgD,EAAAA,IAAG9D,KAAKiF,iBAAiB3E,EAAEqD,GAAG/D,EAAEsF,aAAajE,EAAAA,GAAEkE,UAAUzE,EAAE,GAAGS,EAAAA,GAAEiE,aAAaC,YAAYC,kBAAkB5E,EAAE,IAAIiD,EAAE4B,eAAe7E,EAAE,GAAG,CAAC,CAACG,SAAAA,CAAUP,EAAEwD,EAAElE,GAAG,MAAMmB,QAAQE,EAAED,aAAaG,EAAEqE,YAAY7F,EAAEuB,QAAQK,EAAEkE,WAAWhE,EAAEL,aAAaO,EAAEN,MAAMO,EAAEN,cAAcQ,EAAEN,cAAcQ,EAAEN,mBAAmBO,GAAG3B,EAAEiC,EAAEuB,EAAE4B,aAAajD,EAAElB,EAAEQ,2BAA2B,IAAIW,EAAEE,GAAE,EAAG,IAAI,MAAMnC,KAAKb,EAAE,GAAGa,EAAEyB,UAAUC,IAAIL,KAAKY,EAAEjC,EAAEyB,UAAUE,IAAIN,GAAGY,EAAEiD,wBAAwBrD,KAAK,GAAG,CAACM,GAAE,EAAG,KAAK,CAAC,IAAIA,EAAE,OAAO,MAAMC,EAAEiB,EAAE8B,iBAAiB,gBAAgB,GAAG/C,IAAIA,EAAEgD,cAAc,IAAIhD,EAAEiD,SAAS3E,GAAG,OAAO,MAAM2B,EAAEgB,EAAE8B,iBAAiB,cAAc5C,GAAGF,GAAGA,EAAE+C,cAAc/C,EAAEgD,SAAS3E,GAAG,GAAG,EAAE8B,EAAEa,EAAE8B,iBAAiB,mBAAmB5B,EAAEF,EAAE8B,iBAAiB,mBAAmBG,IAAI9C,GAAGA,EAAE4C,cAAc5C,EAAE6C,SAAS3E,GAAG,MAAM6C,GAAGA,EAAE6B,cAAc7B,EAAE8B,SAAS3E,GAAG,GAAG,GAAG,IAAI6B,IAAI+C,EAAE,OAAoB,IAAIC,EAAElC,EAAEnB,eAAe,0BAA0BxB,GAAG,IAAI6E,IAAIA,EAAE,IAAIlC,EAAEnB,eAAe,mBAAmBxB,GAAG,EAAE,GAAG,MAAM8E,EAAE,IAAID,EAAEE,EAAEpC,EAAEnB,eAAe,oBAAoBxB,IAAI8E,EAAEE,EAAE,GAAhL,EAAqL1E,EAAEzB,KAAKoG,oBAAoBpG,KAAKoG,mBAAkB3F,EAAAA,EAAAA,IAAEd,EAAE0G,MAAM,EAAE1G,EAAE2G,OAAO,IAAI,MAAM5C,EAAEI,EAAEtB,cAAc,iBAAiBrB,GAAGoF,EAAEzC,EAAEtB,cAAc,wBAAwBrB,GAAGqF,EAAExG,KAAKI,mBAAmBqG,EAAEhE,EAAES,mBAAmBjC,EAAEsB,EAAEiE,GAAG,GAAGvE,GAAG,MAAMD,IAAIyE,EAAEtD,SAAS,YAAYnB,IAAIf,EAAEmC,WAAWqD,GAAGA,EAAEpD,oBAAoB,oBAAoB,IAAI2C,EAAEpE,EAAE0B,gBAAgB1B,EAAE2B,aAAakD,EAAEpD,oBAAoB,gBAAgB,IAAIkD,EAAE3E,EAAE2B,YAAY3B,EAAE0B,iBAAiBmD,EAAEjD,cAAc,oBAAoBE,GAAG+C,EAAEhD,aAAa,UAAUK,EAAEJ,EAAEhE,GAAG+G,EAAEjD,cAAc,eAAexD,KAAKoG,mBAAmBK,EAAEhD,aAAa,iBAAgBE,EAAAA,EAAAA,IAAE/B,EAAEgC,WAAW6C,EAAEhD,aAAa,gBAAgByC,EAAE,EAAE,GAAGO,EAAEhD,aAAa,UAAU,GAAGtC,GAAGsF,EAAE5C,aAAa,YAAY/C,EAAAA,IAAG2F,EAAEhD,aAAa,sBAAsB0C,GAAGM,EAAEhD,aAAa,iBAAiB/C,EAAAA,GAAE,KAAK,IAAIgG,GAAG,EAAE,IAAI,MAAMjG,KAAKb,EAAE,CAAC,IAAIa,EAAEyB,UAAUC,IAAIL,GAAG,SAAS,GAAGrB,EAAEwD,IAAIC,QAAQwC,IAAIA,EAAEjG,EAAEwD,IAAIC,MAAM3B,EAAE4B,gBAAgBsC,EAAEtF,EAAE2C,EAAE4C,EAAE/E,IAAIe,EAAEjC,EAAEyB,UAAUE,IAAIN,GAAG,IAAIY,EAAEiD,wBAAwBrD,KAAK,SAASI,EAAE0B,oBAAoBnD,GAAGyB,EAAE2B,oBAAoB,MAAM3D,EAAEgC,EAAEiE,QAAQ,GAAG,MAAMjG,EAAE,SAASO,EAAEsD,QAAQ7D,GAAG+F,EAAEpD,oBAAoB,YAAY5C,EAAE+D,WAAWC,uBAAuBzE,KAAKiF,iBAAiB3E,EAAEG,GAAG,MAAMK,GAAG4D,YAAYC,MAAMjC,EAAEkC,mBAAmB,IAAI6B,EAAEhD,aAAa,SAAS3C,GAAG4B,EAAEiD,wBAAwBiB,QAAQ,CAACtG,EAAEI,KAAKV,KAAK6G,kBAAkB5F,EAAEX,EAAEI,EAAEf,EAAE8G,EAAEV,EAAE/C,EAAEvC,IAAI,CAAC,CAACoG,iBAAAA,CAAkBvG,EAAEG,EAAEC,EAAEoD,EAAEH,EAAE/D,EAAEF,EAAEC,GAAGmE,EAAEkB,KAAK1E,EAAE,KAAKI,EAAEI,EAAAA,IAAGlB,IAAI+D,EAAEF,aAAa,SAAS,GAAGnD,EAAE4E,aAAajE,EAAAA,GAAEkE,UAAU1E,EAAE,GAAGU,EAAAA,GAAEiE,aAAaC,YAAYC,kBAAkB7E,EAAE,IAAId,EAAE4F,eAAe9E,EAAE,GAAG,GAAGf,IAAIiE,EAAEF,aAAa,SAAS,GAAGnD,EAAE4E,aAAajE,EAAAA,GAAEkE,UAAU1E,EAAE,GAAGU,EAAAA,GAAEiE,aAAaC,YAAYC,kBAAkB7E,EAAE,IAAId,EAAE4F,eAAe9E,EAAE,GAAG,EAAE,CAACwE,gBAAAA,CAAiB3E,EAAEG,GAAG,MAAMM,QAAQL,EAAEoG,KAAKhD,EAAEC,eAAejD,GAAGR,EAAE,GAAGI,EAAEqG,uBAAsB,GAAIjG,EAAE,OAAOJ,EAAEsG,oBAAoB,UAAUtG,EAAEuG,mBAAmB,IAAIxG,EAAEyG,WAAW,KAAKxG,EAAEsG,oBAAoB,GAAGlD,EAAEpD,EAAEuG,mBAAmB,IAAIxG,EAAEyG,WAAW,KAAKxG,EAAEuG,mBAAmB,IAAI,IAAI,IAAI,E,kCCAl7K,MAAMxG,EAAEZ,WAAAA,GAAcG,KAAKmH,KAAKnH,KAAKH,YAAYsH,MAAM,eAAenH,KAAKoH,YAAY,IAAI,CAACC,YAAAA,CAAa5G,EAAEK,GAAG,CAACwG,IAAAA,CAAK7G,EAAEK,EAAElB,GAAG,CAACY,QAAAA,CAASC,EAAEK,EAAElB,GAAG,IAAI,MAAMkE,KAAKhD,EAAEgD,EAAEyD,SAASvH,KAAKsH,KAAK7G,EAAEqD,EAAElE,EAAE,E,uICA2a,MAAM+B,UAAUmC,EAAAA,EAAEjE,WAAAA,GAAcC,SAASC,WAAWC,KAAKwH,QAAOvG,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAE,GAAGjB,KAAKyH,gBAAenH,EAAAA,EAAAA,MAAIN,KAAK0H,gBAAgB,CAACxH,IAAG,EAAGyH,SAAQ,EAAG,CAACpH,OAAAA,GAAUP,KAAK4H,MAAK9G,EAAAA,EAAAA,IAAEd,KAAK4H,KAAK,CAACpH,QAAAA,CAASM,EAAER,GAAG,MAAMS,QAAQE,EAAEC,QAAQ4C,EAAEtC,cAAc7B,EAAE+B,mBAAmBP,GAAGL,EAAEd,KAAK6H,kBAAkB/G,GAAG,MAAMa,EAAEb,EAAEE,aAAatB,EAAEoB,EAAEH,WAAWY,EAAE7B,EAAEoI,mBAAmBrG,EAAEqC,EAAE/B,2BAA2BE,EAAEvC,EAAE8C,cAAc,mBAAmBb,GAAGG,EAAEpC,EAAE8C,cAAc,qBAAqBb,GAAGC,EAAElC,EAAE8C,cAAc,qBAAqBb,GAAGY,OAAE,IAASX,EAAEgB,EAAE,EAAEmF,OAAOC,iBAAiBhG,EAAElB,EAAEM,aAAa,IAAIqB,EAAE+D,EAAE,MAAMvD,EAAEL,EAAEhD,EAAAA,GAAE,EAAE,EAAEoG,EAAEhG,KAAK0H,gBAAgB1B,EAAE2B,QAAQpF,EAAE,MAAM0F,EAAExG,EAAEyB,mBAAmBjC,EAAEM,EAAEyE,GAAG,IAAI7E,GAAG,MAAMxB,GAAGsI,EAAE9E,SAAS,CAAC,GAAGlC,EAAEsD,QAAQvE,KAAK4H,MAAM3G,EAAEmC,WAAW6E,GAAG1F,EAAE,CAAC,MAAM9B,EAAEuB,EAAEkG,sBAAsBtG,GAAE,GAAI,GAAG,MAAMnB,EAAE,CAAC,MAAM0H,GAAGrH,EAAEsH,GAAG9H,EAAE+H,KAAKzI,GAAGa,EAAEgC,EAAEnC,EAAE,GAAGQ,EAAE,GAAG0F,EAAElG,EAAE,GAAGQ,EAAE,GAAG,MAAMgD,EAAE9B,EAAEsG,YAAY1I,GAAG,MAAMkE,IAAI9B,EAAEgD,KAAK/D,EAAE,KAAKrB,EAAEc,EAAAA,IAAGuH,EAAEM,aAAa,SAASzH,EAAE,GAAGA,EAAE,GAAGR,EAAE,GAAGA,EAAE,IAAI2H,EAAEzE,cAAc,eAAeM,GAAGmE,EAAEpE,aAAa,YAAYnD,EAAAA,IAAG,CAACuH,EAAExE,aAAa,YAAY3B,EAAE,KAAK,CAAC,MAAMrB,EAAEwB,EAAE,GAAGH,EAAE9B,KAAKwH,OAAO,GAAG/G,EAAEwB,EAAE,GAAGjC,KAAKwH,OAAO,GAAG/G,EAAEwB,EAAE,GAAGjC,KAAKwH,OAAO,GAAG/G,EAAEwB,EAAE,GAAGjC,KAAKwH,OAAO,GAAG/G,EAAEwH,EAAEO,cAAc,UAAUxI,KAAKwH,OAAO,CAACS,EAAExE,aAAa,UAAU/D,EAAEgE,GAAG,GAAG,IAAI,MAAM5C,KAAKR,EAAE,CAAC,GAAG2H,EAAExE,aAAa,gBAAgB3C,EAAE2H,QAAQR,EAAE5E,oBAAoB,YAAYvC,EAAE0D,WAAWC,uBAAuBlC,EAAE,CAAC,MAAMjC,EAAEoI,KAAKC,IAAI,IAAID,KAAKE,MAAMjH,GAAGb,EAAEmD,IAAIC,OAAO,GAAGjD,EAAEgC,EAAEnC,EAAEuF,MAAM/F,EAAEI,EAAEO,GAAER,EAAAA,EAAAA,IAAEgC,GAAG7C,EAAEqB,GAAER,EAAAA,EAAAA,IAAE+F,GAAGxG,KAAKyH,eAAe,GAAG/G,EAAEV,KAAKyH,eAAe,GAAG7H,EAAEqI,EAAE5E,oBAAoB,mBAAmBrD,KAAKyH,eAAe,CAACxG,EAAEgG,mBAAmB,IAAI,EAAE,KAAKhG,EAAE4H,WAAWlF,EAAAA,GAAEmF,eAAe,EAAE,EAAE,CAAC,MAAMnJ,GAAG,CAACkI,iBAAAA,CAAkBpH,GAAG,GAAGT,KAAK4H,KAAK,OAAO,MAAM7G,QAAQD,EAAEH,WAAWL,GAAGG,EAAEQ,EAAEX,EAAEwH,mBAAmBpH,EAAE,IAAIqI,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAInJ,EAAE,IAAIuB,EAAAA,EAAEL,EAAEG,EAAE+H,eAAetI,GAAGV,KAAK4H,KAAK,IAAIjI,EAAAA,EAAEmB,EAAElB,EAAE,E,6CCAt0E8I,KAAKO,GAAjB,MAAoBxI,EAAE,IAAI,IAAIK,EAAE,EAAE4H,KAAKQ,IAAI,SAAS3H,EAAEoC,EAAElD,GAAG,OAAOkD,GAAGlD,IAAI,EAAEkD,EAAEA,EAAElD,CAAC,CAAiC,SAASd,EAAEgE,GAAG,OAAOpC,EAAEoC,EAAElD,EAAE,IAAI,CAAC,SAASH,EAAEqD,GAAG,OAAO+E,KAAKS,IAAIxF,GAAG7C,CAAC,C,4DCA7E,MAAMgD,UAAUxD,EAAAA,EAAET,WAAAA,GAAcC,SAASC,WAAWC,KAAK0H,gBAAgB,CAACxH,IAAG,EAAG,CAACK,OAAAA,GAAU,CAACC,QAAAA,CAASF,EAAEwD,GAAG,MAAM/C,QAAQL,EAAEM,aAAa2C,EAAEyF,cAAcjI,EAAEE,MAAMzB,EAAEsB,QAAQD,EAAEG,aAAazB,EAAE2B,cAAcC,EAAEC,cAAcM,EAAEJ,mBAAmBhC,GAAGY,EAAE,IAAIwD,EAAEuF,KAAK/I,IAAC,IAAAgJ,EAAAC,EAAA,OAAsC,QAAtCD,EAAoB,QAApBC,EAAEjJ,EAAE4B,UAAUE,IAAIb,UAAE,IAAAgI,OAAA,EAAlBA,EAAoBC,wBAAgB,IAAAF,GAAAA,IAAM,OAAO,MAAM7H,EAAEnB,EAAEK,WAAWgB,EAAEF,EAAEgI,eAAezH,EAAEf,EAAEc,2BAAiCU,EAAEhB,EAAEe,cAAc,mBAAmBmB,GAAGV,EAAExB,EAAEe,cAAc,0BAA0BmB,GAAGf,EAAE5C,KAAK0H,gBAAgBzF,EAAED,EAAEkB,mBAAmBxC,EAAEiB,EAAEiB,GAAG,GAAGlD,GAAG,MAAMoC,IAAIG,EAAEkB,SAAS,YAAYrB,IAAIpB,EAAE0C,WAAWnB,GAAGA,EAAEoB,oBAAoB,gBAAgB,IAAIJ,EAAErD,EAAE2D,YAAY3D,EAAE0D,iBAAiBrB,EAAEuB,cAAc,sBAAsBf,GAAGR,EAAEwB,aAAa,UAAUhC,EAAEiC,GAAGzB,EAAEwB,aAAa,sBAA9W,KAAuY,IAAIyC,GAAG,EAAE,IAAI,MAAMxD,KAAKoB,EAAE,CAAC,IAAIpB,EAAER,UAAUC,IAAIZ,GAAG,SAASmB,EAAEuB,IAAIC,QAAQgC,IAAIA,EAAExD,EAAEuB,IAAIC,MAAMvC,EAAEwC,gBAAgBlC,EAAE0B,EAAElC,EAAEyE,EAAEvG,IAAI,MAAMW,EAAEoC,EAAER,UAAUE,IAAIb,GAAG,IAAIjB,EAAEkJ,iBAAiB,SAASlJ,EAAE8D,oBAAoB1D,GAAG,MAAMoD,EAAExD,EAAEoJ,IAAI,MAAM5F,IAAIpD,EAAE6D,QAAQT,GAAG7B,EAAEoB,oBAAoB,YAAYX,EAAE8B,WAAWC,uBAAuBtD,IAAIuB,EAAEuB,IAAIC,MAAMxD,EAAEuG,mBAAmB,IAAIvE,EAAEwE,WAAW,KAAKxG,EAAEuG,mBAAmB,IAAI,IAAI,KAAKvG,EAAEwE,aAAazE,EAAAA,GAAE0E,UAAU7E,EAAEkJ,iBAAiB1I,EAAAA,GAAEsE,aAAaC,YAAYC,kBAAkBhF,EAAEqJ,kBAAkBjH,EAAE6C,eAAejF,EAAEkJ,iBAAiB,EAAE,CAAC,E,sECArtC,MAAMrI,EAAE,EAAE,MAAM,MAAML,UAAUJ,EAAAA,EAAEb,WAAAA,GAAcC,SAASC,WAAWC,KAAK4J,oBAAoB,CAAC1J,IAAG,EAAGyH,SAAQ,GAAI3H,KAAK6J,uBAAuB,CAAC3J,IAAG,EAAG,CAACK,OAAAA,GAAU,CAACC,QAAAA,CAASC,EAAEH,GAAG,MAAMU,aAAaN,EAAEoJ,WAAWnG,EAAEvC,aAAa0C,EAAExC,cAAcH,GAAGV,EAAE,IAAIK,GAAE,EAAG,IAAI,MAAMmB,KAAK3B,EAAE,GAAG2B,EAAEC,UAAUC,IAAIhB,GAAG,CAAC,MAAMV,EAAEwB,EAAEC,UAAUE,IAAIjB,GAAG,GAAGV,EAAEsJ,eAAe,GAAGtJ,EAAEuJ,kBAAkB,EAAE,CAAClJ,GAAE,EAAG,KAAK,CAAC,CAAC,IAAIA,EAAE,OAAO,MAAMG,EAAER,EAAEE,WAAWf,EAAEqB,EAAE2E,iBAAiB,gBAAgBlG,OAAE,IAASE,EAAE2B,EAAE7B,GAAGE,EAAEiG,aAAa,IAAIlG,EAAE,GAAGD,IAAI6B,EAAE,CAAC,MAAMd,EAAEb,EAAEkG,SAASpF,GAAGf,EAAEmE,EAAEoE,sBAAsBzH,GAAE,EAAG,CAAC,MAAMqB,GAAGpC,GAAGuB,EAAEuB,cAAc,iBAAiB9B,GAAG,IAAIe,GAAE,EAAGE,EAAE,EAAE,IAAIjC,EAAE,CAAC,MAAMe,EAAEQ,EAAE2E,iBAAiB,cAActF,EAAEW,EAAE2E,iBAAiB,gBAAgB,IAAK,OAADnF,QAAC,IAADA,IAAAA,EAAGoF,gBAAgB,OAADvF,QAAC,IAADA,IAAAA,EAAGuF,cAAa,CAAC,MAAMpF,EAAEQ,EAAEuB,cAAc,aAAa9B,GAAGiB,EAAEV,EAAEuB,cAAc,eAAe9B,GAAGD,EAAE,GAAGkB,GAAG,IAAIF,GAAE,EAAG,CAAC,CAAC,GAAGA,GAAG,WAAWkC,EAAE,OAAO,MAAM3B,EAAEf,EAAEuB,cAAc,iBAAiB9B,GAAGkB,EAAEX,EAAEuB,cAAc,wBAAwB9B,IAAIe,GAAG,gBAAgBkC,IAAI3D,KAAKiK,UAAUxJ,EAAEU,EAAEF,EAAEX,EAAE0B,EAAEJ,EAAElC,EAAEC,EAAE4B,GAAG,MAAMkB,GAAGxB,EAAEiJ,2BAA2BjJ,EAAEkJ,sBAAsBxI,EAAE,EAAEG,GAAG,WAAW6B,IAAIlB,GAAGzC,KAAKoK,aAAa3J,EAAEU,EAAEF,EAAEX,EAAE0B,EAAEJ,EAAE,CAACqI,SAAAA,CAAUvJ,EAAEI,EAAEG,EAAErB,EAAEF,EAAE6B,EAAE5B,EAAEmC,EAAEL,GAAG,GAAG9B,IAAI8B,GAAG,MAAMK,EAAE,OAAO,MAAMf,QAAQY,EAAEX,aAAagB,EAAEX,MAAMO,EAAEV,QAAQuB,EAAEgD,WAAWxD,EAAEb,aAAa6B,EAAEzB,cAAcqB,EAAEnB,mBAAmBsB,GAAGtC,EAAEgC,EAAEzB,EAAEoJ,aAAazH,EAAEH,EAAEV,2BAA2BiC,EAAE/B,EAAE3B,EAAAA,GAAE,EAAE,EAAE4F,EAAElG,KAAK4J,oBAAoB1D,EAAEyB,QAAQhI,EAAE,MAAMmD,EAAEF,EAAEM,mBAAmBvB,EAAEe,EAAEwD,GAAG,GAAGlD,GAAG,MAAMH,IAAIC,EAAEK,SAAS,YAAYN,IAAI,GAAGlB,EAAEyB,WAAWN,GAAG,MAAMhB,EAAE,CAAC,MAAMuG,KAAK/H,GAAGwB,EAAEpB,EAAEuC,EAAEqF,YAAYhI,GAAG,MAAMI,IAAIuC,EAAE+B,KAAKrD,EAAE,KAAKrB,EAAEG,EAAAA,IAAGqC,EAAEU,cAAc,eAAe9C,GAAGoC,EAAEe,aAAa,YAAYpD,EAAAA,IAAG,CAACqC,EAAEO,oBAAoB,gBAAgB,IAAI9B,EAAEK,EAAE2B,YAAY3B,EAAE0B,iBAAiBR,EAAEU,cAAc,oBAAoB9D,GAAGoD,EAAEW,aAAa,UAAUxC,EAAEyC,EAAEvC,GAAG,IAAIoB,GAAG,EAAE,IAAI,MAAMjC,KAAKV,EAAE,CAAC,IAAIU,EAAE4B,UAAUC,IAAIrB,GAAG,SAASR,EAAE2D,IAAIC,QAAQ3B,IAAIA,EAAEjC,EAAE2D,IAAIC,MAAMxB,EAAEyB,gBAAgBrB,EAAEd,EAAEf,EAAEsB,EAAEU,IAAI,MAAMvC,EAAEJ,EAAE4B,UAAUE,IAAItB,GAAG,IAAIJ,EAAEqJ,eAAe,SAASrJ,EAAE0D,oBAAoBzC,GAAG,MAAMR,EAAET,EAAE4J,QAAQ,GAAG,MAAMnJ,EAAE,CAAC,GAAGQ,EAAE4C,QAAQpD,GAAG2B,EAAEO,oBAAoB,YAAY/C,EAAEkE,WAAWC,uBAAuB9C,EAAEsF,mBAAmB,IAAI3G,EAAE4G,WAAW,KAAKvH,EAAE,CAAC,MAAMc,EAAEiI,KAAKC,IAAI,IAAID,KAAKE,MAAM5G,GAAG1B,EAAE2D,IAAIC,OAAO,GAAGxD,EAAEJ,EAAEmI,QAAQzE,EAAE1D,EAAE+F,MAAM5F,GAAGqC,EAAEW,aAAa,kBAAkB/C,EAAE,CAAC,GAAGe,EAAE,CAAC,MAAMnB,EAAEI,EAAE6J,WAAW,IAAIjK,EAAE,SAAS,IAAI,MAAMI,EAAES,KAAKb,EAAE,CAAC,MAAMA,EAAE2C,EAAEqF,YAAY5H,GAAG,MAAMJ,IAAI2C,EAAE+B,KAAKrD,EAAE,KAAKjB,EAAED,EAAAA,IAAGqC,EAAEU,cAAc,eAAelD,GAAGwC,EAAEe,aAAa,YAAYpD,EAAAA,IAAGkB,EAAEuD,aAAavB,EAAAA,GAAEwB,UAAUhE,EAAE,GAAG2C,EAAAA,GAAEsB,aAAaC,YAAYC,kBAAkBnE,EAAE,IAAI,CAAC,MAAMQ,EAAEuD,aAAavB,EAAAA,GAAEwB,UAAUzE,EAAEqJ,eAAejG,EAAAA,GAAEsB,aAAaC,YAAYC,kBAAkB5E,EAAE8J,gBAAgBlK,EAAEiF,eAAe7E,EAAEqJ,eAAe,CAAC,CAAC,CAAC,CAACK,YAAAA,CAAa3J,EAAEH,EAAEI,EAAEI,EAAEG,EAAErB,GAAG,MAAMmB,QAAQrB,EAAEsB,aAAaO,EAAEF,MAAM1B,EAAEuB,QAAQY,EAAE2D,WAAWhE,EAAEL,aAAaO,EAAEH,cAAcQ,EAAEN,mBAAmBE,GAAGnB,EAAEgC,EAAE/B,EAAE+J,gBAAgBxI,EAAEH,EAAEC,2BAA2BkB,EAAE,IAAIxB,EAAEoB,EAAE7C,KAAK6J,uBAAuB7G,EAAEf,EAAEiB,mBAAmBxD,EAAE+C,EAAEI,GAAG,GAAGjB,GAAG,MAAMI,IAAIgB,EAAEG,SAAS,YAAYnB,IAAItC,EAAE0D,WAAWJ,GAAGA,EAAEK,oBAAoB,gBAAgB,IAAIzD,EAAED,EAAE4D,YAAY5D,EAAE2D,iBAAiBN,EAAEQ,cAAc,oBAAoBvC,GAAG+B,EAAES,aAAa,UAAU/C,EAAEgD,EAAEvC,GAAG6B,EAAES,aAAa,kBAAkBR,GAAG,IAAIP,GAAG,EAAE,IAAI,MAAMvB,KAAKL,EAAE,CAAC,IAAIK,EAAEe,UAAUC,IAAI7B,GAAG,SAASa,EAAE8C,IAAIC,QAAQxB,IAAIA,EAAEvB,EAAE8C,IAAIC,MAAMzB,EAAE0B,gBAAgBnB,EAAEzB,EAAEb,EAAEgC,EAAEf,IAAI,MAAMlB,EAAEU,EAAEe,UAAUE,IAAI9B,GAAG,GAAGG,EAAE2D,oBAAoB1E,IAAIe,EAAEuJ,kBAAkB,SAAS,MAAMlJ,EAAEL,EAAEiK,WAAW,MAAM5J,IAAIpB,EAAE6E,QAAQzD,GAAGkC,EAAEK,oBAAoB,YAAYlC,EAAEqD,WAAWC,uBAAuB/E,EAAEuH,mBAAmB,IAAI9F,EAAE+F,WAAW,KAAKxH,EAAEwF,aAAavB,EAAAA,GAAEwB,UAAU1E,EAAEuJ,kBAAkBlG,EAAAA,GAAEsB,aAAaC,YAAYC,kBAAkB7E,EAAEkK,mBAAmBxJ,EAAEoE,eAAe9E,EAAEuJ,kBAAkB,EAAE,CAAC,E,sECA3nH,MAAMlG,UAAUrD,EAAAA,EAAEZ,WAAAA,GAAcC,SAASC,WAAWC,KAAK0H,gBAAgB,CAACxH,IAAG,EAAGyH,SAAQ,EAAGxH,KAAI,EAAG,CAACI,OAAAA,GAAU,CAACC,QAAAA,CAASC,EAAEqD,GAAG,MAAM/C,QAAQD,EAAEE,aAAaC,EAAEI,MAAMzB,EAAEsB,QAAQC,EAAEsE,WAAW/F,EAAE0B,aAAaG,EAAED,cAAc3B,EAAE6B,cAAcM,EAAEJ,mBAAmBC,GAAGlB,EAAE,IAAIqD,EAAEuF,KAAK/I,IAAC,IAAAsK,EAAArB,EAAA,OAAoC,QAApCqB,EAAoB,QAApBrB,EAAEjJ,EAAE4B,UAAUE,IAAIzC,UAAE,IAAA4J,OAAA,EAAlBA,EAAoBsB,sBAAc,IAAAD,GAAAA,IAAM,OAAO,MAAMnJ,EAAEhB,EAAEE,WAAWiB,EAAEH,EAAEqJ,aAAa9I,EAAEb,EAAEY,2BAA2BU,EAAEhB,EAAEe,cAAc,iBAAiBvB,GAAGgB,EAAER,EAAEe,cAAc,wBAAwBvB,GAAGgC,EAAExB,EAAEmE,iBAAiB,gBAAgBlD,OAAE,IAASO,EAAED,EAAEN,GAAGO,EAAE4C,aAAa,IAAIjD,EAAEsD,EAAE,GAAGxD,IAAIM,EAAE,CAAC,MAAM1C,EAAE2C,EAAE6C,SAAS7E,GAAG2B,EAAErB,EAAE2G,sBAAsB5H,EAAE,CAAC,IAAIuC,GAAE,EAAG,IAAIH,EAAE,CAAC,MAAMpC,EAAEmB,EAAEmE,iBAAiB,kBAAkB,GAAGM,OAAE,IAAS5F,EAAEuC,EAAEqD,GAAG5F,EAAEuF,aAAaK,IAAIrD,EAAE,CAAC,MAAMpC,EAAEH,EAAEwF,SAAS7E,GAAGP,EAAEe,EAAEsJ,WAAWtK,EAAEgB,EAAEkB,eAAe,WAAW1B,IAAI2B,EAAErB,EAAE2G,sBAAsBxH,EAAE,CAAC,CAAC,MAAMsD,EAAE,EAAEtE,EAAEoD,EAAE9C,KAAK0H,gBAAgB5E,EAAE6E,QAAQjF,EAAEI,EAAE3C,IAAI+F,EAAE,MAAMK,EAAEvE,EAAEkB,mBAAmBpC,EAAEc,EAAEkB,GAAG,GAAGnB,GAAG,MAAMG,IAAIyE,EAAEpD,SAAS,YAAYrB,IAAI,GAAGhB,EAAEsC,WAAWmD,GAAGA,EAAElD,oBAAoB,oBAAoBzD,EAAE0D,iBAAiBiD,EAAElD,oBAAoB,gBAAgB,IAAIpB,EAAErC,EAAE2D,YAAY3D,EAAE0D,iBAAiBiD,EAAE/C,cAAc,oBAAoBf,GAAG8D,EAAE9C,aAAa,UAAUhC,EAAEiC,GAAG6C,EAAE9C,aAAa,iBAAiBO,GAAGpB,GAAG,MAAMA,EAAE,CAAC,MAAMyF,KAAK5H,GAAGmC,EAAElC,EAAEa,EAAE+G,YAAY7H,GAAG,MAAMC,IAAIa,EAAEyD,KAAKlE,EAAE,KAAKL,EAAEH,EAAAA,IAAGiG,EAAE/C,cAAc,eAAe9C,GAAG6F,EAAE1C,aAAa,YAAYvD,EAAAA,IAAG,CAAC,IAAIyF,GAAG,EAAE,IAAI,MAAMiF,KAAKlH,EAAE,CAAC,IAAIkH,EAAE9I,UAAUC,IAAIxC,GAAG,SAASqL,EAAE/G,IAAIC,QAAQ6B,IAAIA,EAAEiF,EAAE/G,IAAIC,MAAMtC,EAAEuC,gBAAgBoC,EAAEtF,EAAEQ,EAAEsE,EAAExE,IAAI,MAAMd,EAAE,IAAIQ,EAAE8E,GAAGrG,EAAE6G,EAAE9C,aAAa,eAAehD,GAAG,MAAMqD,EAAEkH,EAAE9I,UAAUE,IAAIzC,GAAG,IAAImE,EAAE+G,eAAe,SAAS/G,EAAEM,oBAAoBtD,GAAG,MAAMlB,EAAEkE,EAAE4F,IAAI,GAAG,MAAM9J,EAAE,CAAC,GAAGkB,EAAEyD,QAAQ3E,GAAG2G,EAAElD,oBAAoB,YAAY2H,EAAExG,WAAWC,uBAAuB3D,EAAEmG,mBAAmB,IAAI+D,EAAE9D,WAAW,KAAKlE,GAAGH,EAAE,CAAC,MAAMpC,EAAEqD,EAAEyG,WAAW,IAAI9J,EAAE,SAAS,IAAI,MAAMqD,EAAE7C,KAAKR,EAAE,CAAC,MAAMA,EAAEc,EAAE+G,YAAYxE,GAAG,MAAMrD,IAAIc,EAAEyD,KAAKlE,EAAE,KAAKgD,EAAExD,EAAAA,IAAGiG,EAAE/C,cAAc,eAAe/C,GAAG8F,EAAE1C,aAAa,YAAYvD,EAAAA,IAAGQ,EAAEoE,aAAaxE,EAAAA,GAAEyE,UAAUlE,EAAE,GAAG0C,EAAAA,GAAEyB,aAAaC,YAAYC,kBAAkBrE,EAAE,IAAI,CAAC,MAAMH,EAAEoE,aAAaxE,EAAAA,GAAEyE,UAAUrB,EAAE+G,eAAelH,EAAAA,GAAEyB,aAAaC,YAAYC,kBAAkBxB,EAAEmH,gBAAgBD,EAAEzF,eAAezB,EAAE+G,eAAe,CAAC,CAAC,CAAC,E,mCCAryE,MAAMvK,EAAET,WAAAA,CAAYS,GAAGN,KAAKkL,UAAU5K,CAAC,CAAC6K,eAAAA,CAAgB7K,GAAG,OAAON,KAAKoL,SAAS9K,EAAE,CAAC8K,QAAAA,CAAS9K,GAAY,IAAVG,EAACV,UAAAsL,OAAA,QAAAC,IAAAvL,UAAA,GAAAA,UAAA,GAAC,IAAIwL,IAAK,GAAG9K,EAAE0B,IAAI7B,GAAG,OAAOG,EAAE2B,IAAI9B,GAAG,MAAMQ,EAAEd,KAAKwL,MAAMlL,GAAG,IAAIQ,EAAE,MAAM,IAAI2K,MAAM,2BAADC,OAA4BpL,IAAK,MAAMV,EAAE,wCAAwC,IAAI+D,EAAE/D,EAAE+L,KAAK7K,GAAG,MAAMK,EAAE,GAAG,KAAK,MAAMwC,GAAGxC,EAAEyK,KAAK,CAACC,KAAKlI,EAAE,GAAGmI,MAAMnI,EAAEoI,MAAMV,OAAO1H,EAAE,GAAG0H,SAAS1H,EAAE/D,EAAE+L,KAAK7K,GAAG,IAAIgD,EAAE,EAAEvB,EAAE,GAAG,OAAOpB,EAAEyF,QAAQtG,IAAIiC,GAAGzB,EAAEkL,MAAMlI,EAAExD,EAAEwL,OAAOvJ,GAAG9B,EAAE0B,IAAI7B,EAAEuL,MAAM,GAAG7L,KAAKoL,SAAS9K,EAAEuL,KAAKpL,GAAGqD,EAAExD,EAAEwL,MAAMxL,EAAE+K,SAAS9I,GAAGzB,EAAEkL,MAAMlI,GAAGrD,EAAEwL,IAAI3L,EAAEiC,GAAGA,CAAC,CAACiJ,KAAAA,CAAMlL,GAAG,OAAON,KAAKkL,UAAU5K,EAAE,E","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLSymbol.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLBackground.js","../node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLCircle.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLFill.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLLine.js","../node_modules/@arcgis/core/views/webgl/ShaderCompiler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as e,fromValues as t}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fadeDuration as i}from\"../../vectorTiles/decluttering/config.js\";import{vtlTextureBindingUnitSprites as a,vtlTextureBindingUnitGlyphs as r}from\"../definitions.js\";import{degToByte as n}from\"../GeometryUtils.js\";import s from\"./WGLBrush.js\";import{PrimitiveType as o,DataType as l}from\"../../../../webgl/enums.js\";const f=1/65536;class c extends s{constructor(){super(...arguments),this._iconProgramOptions={id:!1,sdf:!1},this._sdfProgramOptions={id:!1},this._spritesTextureSize=e()}dispose(){}drawMany(e,t){const i=e.styleLayer;this._drawIcons(e,i,t),this._drawText(e,i,t)}_drawIcons(e,t,r){const{context:s,displayLevel:o,painter:l,spriteMosaic:f,state:c,styleLayerUID:u,requestRender:p,allowDelayedRender:m}=e,g=t.iconMaterial,d=l.vectorTilesMaterialManager;let y,_=!1;for(const i of r)if(i.layerData.has(u)&&(y=i.layerData.get(u),y.iconPerPageElementsMap.size>0)){_=!0;break}if(!_)return;const h=t.getPaintValue(\"icon-translate\",o),M=t.getPaintValue(\"icon-translate-anchor\",o);let U=t.getLayoutValue(\"icon-rotation-alignment\",o);2===U&&(U=0===t.getLayoutValue(\"symbol-placement\",o)?1:0);const x=0===U,P=t.getLayoutValue(\"icon-keep-upright\",o)&&x,S=y.isIconSDF,E=this._iconProgramOptions;E.sdf=S;const v=d.getMaterialProgram(s,g,E);if(m&&null!=p&&!v.compiled)return void p();s.useProgram(v),v.setUniformMatrix3fv(\"u_displayViewMat3\",0===U?c.displayViewMat3:c.displayMat3),v.setUniformMatrix3fv(\"u_displayMat3\",1===M?c.displayMat3:c.displayViewMat3),v.setUniform2fv(\"u_iconTranslation\",h),v.setUniform1f(\"u_depth\",t.z),v.setUniform1f(\"u_mapRotation\",n(c.rotation)),v.setUniform1f(\"u_keepUpright\",P?1:0),v.setUniform1f(\"u_level\",10*o),v.setUniform1i(\"u_texture\",a),v.setUniform1f(\"u_fadeDuration\",i/1e3),v.setUniform1i(\"u_isStencilPass\",e.stencilSymbols?1:0);let D=-1;for(const i of r){if(!i.layerData.has(u))continue;if(i.key.level!==D&&(D=i.key.level,g.setDataUniforms(v,o,t,D,f)),y=i.layerData.get(u),0===y.iconPerPageElementsMap.size)continue;y.prepareForRendering(s),y.updateOpacityInfo();const a=y.iconVAO;if(null!=a){s.bindVAO(a),v.setUniformMatrix3fv(\"u_dvsMat3\",i.transforms.displayViewScreenMat3),v.setUniform1f(\"u_time\",(performance.now()-y.lastOpacityUpdate)/1e3);for(const[t,a]of y.iconPerPageElementsMap)this._renderIconRange(e,v,a,t,i)}}}_renderIconRange(e,t,i,r,n){const{context:s,spriteMosaic:f}=e;this._spritesTextureSize[0]=f.getWidth(r)/4,this._spritesTextureSize[1]=f.getHeight(r)/4,t.setUniform2fv(\"u_mosaicSize\",this._spritesTextureSize),f.bind(s,9729,r,a),this._setStencilState(e,n),s.drawElements(o.TRIANGLES,i[1],l.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i[0]),n.triangleCount+=i[1]/3}_drawText(e,a,s){const{context:o,displayLevel:l,glyphMosaic:c,painter:u,pixelRatio:p,spriteMosaic:m,state:g,styleLayerUID:d,requestRender:y,allowDelayedRender:_}=e,h=a.textMaterial,M=u.vectorTilesMaterialManager;let U,x=!1;for(const t of s)if(t.layerData.has(d)&&(U=t.layerData.get(d),U.glyphPerPageElementsMap.size>0)){x=!0;break}if(!x)return;const P=a.getPaintProperty(\"text-opacity\");if(P&&!P.isDataDriven&&0===P.getValue(l))return;const S=a.getPaintProperty(\"text-color\"),E=!S||S.isDataDriven||S.getValue(l)[3]>0,v=a.getPaintProperty(\"text-halo-width\"),D=a.getPaintProperty(\"text-halo-color\"),T=(!v||v.isDataDriven||v.getValue(l)>0)&&(!D||D.isDataDriven||D.getValue(l)[3]>0);if(!E&&!T)return;const V=24/8;let w=a.getLayoutValue(\"text-rotation-alignment\",l);2===w&&(w=0===a.getLayoutValue(\"symbol-placement\",l)?1:0);const R=0===w,I=a.getLayoutValue(\"text-keep-upright\",l)&&R,L=.8*V/p;this._glyphTextureSize||(this._glyphTextureSize=t(c.width/4,c.height/4));const z=a.getPaintValue(\"text-translate\",l),N=a.getPaintValue(\"text-translate-anchor\",l),b=this._sdfProgramOptions,k=M.getMaterialProgram(o,h,b);if(_&&null!=y&&!k.compiled)return void y();o.useProgram(k),k.setUniformMatrix3fv(\"u_displayViewMat3\",0===w?g.displayViewMat3:g.displayMat3),k.setUniformMatrix3fv(\"u_displayMat3\",1===N?g.displayMat3:g.displayViewMat3),k.setUniform2fv(\"u_textTranslation\",z),k.setUniform1f(\"u_depth\",a.z+f),k.setUniform2fv(\"u_mosaicSize\",this._glyphTextureSize),k.setUniform1f(\"u_mapRotation\",n(g.rotation)),k.setUniform1f(\"u_keepUpright\",I?1:0),k.setUniform1f(\"u_level\",10*l),k.setUniform1i(\"u_texture\",r),k.setUniform1f(\"u_antialiasingWidth\",L),k.setUniform1f(\"u_fadeDuration\",i/1e3);let O=-1;for(const t of s){if(!t.layerData.has(d))continue;if(t.key.level!==O&&(O=t.key.level,h.setDataUniforms(k,l,a,O,m)),U=t.layerData.get(d),0===U.glyphPerPageElementsMap.size)continue;U.prepareForRendering(o),U.updateOpacityInfo();const i=U.textVAO;if(null==i)continue;o.bindVAO(i),k.setUniformMatrix3fv(\"u_dvsMat3\",t.transforms.displayViewScreenMat3),this._setStencilState(e,t);const r=(performance.now()-U.lastOpacityUpdate)/1e3;k.setUniform1f(\"u_time\",r),U.glyphPerPageElementsMap.forEach((e,i)=>{this._renderGlyphRange(o,e,i,c,k,T,E,t)})}}_renderGlyphRange(e,t,i,a,n,s,f,c){a.bind(e,9729,i,r),s&&(n.setUniform1f(\"u_halo\",1),e.drawElements(o.TRIANGLES,t[1],l.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),c.triangleCount+=t[1]/3),f&&(n.setUniform1f(\"u_halo\",0),e.drawElements(o.TRIANGLES,t[1],l.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),c.triangleCount+=t[1]/3)}_setStencilState(e,t){const{context:i,is3D:a,stencilSymbols:r}=e;if(i.setStencilTestEnabled(!0),r)return i.setStencilWriteMask(255),void i.setStencilFunction(519,t.stencilRef,255);i.setStencilWriteMask(0),a?i.setStencilFunction(514,t.stencilRef,255):i.setStencilFunction(516,255,255)}}export{c as WGLBrushVTLSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.name=this.constructor.name||\"UnnamedBrush\",this.brushEffect=null}prepareState(t,r){}draw(t,r,s){}drawMany(t,r,s){for(const a of r)a.visible&&this.draw(t,a,s)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{nextPowerOfTwo as t}from\"../../../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../../../core/maybe.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as o}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{vtlTextureBindingUnitSprites as i,vtlHighResCutoff as s}from\"../definitions.js\";import a from\"./WGLBrush.js\";import{PrimitiveType as n}from\"../../../../webgl/enums.js\";import{VertexArrayObject as c}from\"../../../../webgl/VertexArrayObject.js\";import{VertexBuffer as l}from\"../../../../webgl/VertexBuffer.js\";class m extends a{constructor(){super(...arguments),this._color=o(1,0,0,1),this._patternMatrix=e(),this._programOptions={id:!1,pattern:!1}}dispose(){this._vao=r(this._vao)}drawMany(r,e){const{context:o,painter:a,requestRender:c,allowDelayedRender:l}=r;this._loadWGLResources(r);const m=r.displayLevel,f=r.styleLayer,u=f.backgroundMaterial,p=a.vectorTilesMaterialManager,_=f.getPaintValue(\"background-color\",m),d=f.getPaintValue(\"background-opacity\",m),g=f.getPaintValue(\"background-pattern\",m),h=void 0!==g,x=1|window.devicePixelRatio,y=r.spriteMosaic;let M,b;const v=x>s?2:1,w=this._programOptions;w.pattern=h;const j=p.getMaterialProgram(o,u,w);if(!l||null==c||j.compiled){if(o.bindVAO(this._vao),o.useProgram(j),h){const t=y.getMosaicItemPosition(g,!0);if(null!=t){const{tl:r,br:e,page:s}=t;M=e[0]-r[0],b=e[1]-r[1];const a=y.getPageSize(s);null!=a&&(y.bind(o,9729,s,i),j.setUniform4f(\"u_tlbr\",r[0],r[1],e[0],e[1]),j.setUniform2fv(\"u_mosaicSize\",a),j.setUniform1i(\"u_texture\",i))}j.setUniform1f(\"u_opacity\",d)}else{const t=_[3]*d;this._color[0]=t*_[0],this._color[1]=t*_[1],this._color[2]=t*_[2],this._color[3]=t,j.setUniform4fv(\"u_color\",this._color)}j.setUniform1f(\"u_depth\",f.z||0);for(const r of e){if(j.setUniform1f(\"u_coord_range\",r.rangeX),j.setUniformMatrix3fv(\"u_dvsMat3\",r.transforms.displayViewScreenMat3),h){const e=Math.max(2**(Math.round(m)-r.key.level),1),o=v*r.width*e,i=o/t(M),s=o/t(b);this._patternMatrix[0]=i,this._patternMatrix[4]=s,j.setUniformMatrix3fv(\"u_pattern_matrix\",this._patternMatrix)}o.setStencilFunction(514,0,255),o.drawArrays(n.TRIANGLE_STRIP,0,4)}}else c()}_loadWGLResources(t){if(this._vao)return;const{context:r,styleLayer:e}=t,o=e.backgroundMaterial,i=new Int8Array([0,0,1,0,0,1,1,1]),s=new l(r,o.geometryLayout,i);this._vao=new c(r,s)}}export{m as WGLBrushVTLBackground};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst n=128/Math.PI,t=256/360,r=1/Math.LN2;function u(n,t){return(n%=t)>=0?n:n+t}function o(t){return u(t*n,256)}function c(n){return u(n*t,256)}function e(n){return Math.log(n)*r}function f(n,t,r){return n*(1-r)+t*r}function i(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}export{i as between,c as degToByte,f as interpolate,e as log2,u as positiveMod,o as radToByte};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"./WGLBrush.js\";import{PrimitiveType as t,DataType as r}from\"../../../../webgl/enums.js\";class a extends e{constructor(){super(...arguments),this._programOptions={id:!1}}dispose(){}drawMany(e,a){const{context:i,displayLevel:n,requiredLevel:l,state:s,painter:o,spriteMosaic:c,styleLayerUID:u,requestRender:d,allowDelayedRender:f}=e;if(!a.some(e=>e.layerData.get(u)?.circleIndexCount??!1))return;const p=e.styleLayer,m=p.circleMaterial,y=o.vectorTilesMaterialManager,g=1.2,M=p.getPaintValue(\"circle-translate\",n),v=p.getPaintValue(\"circle-translate-anchor\",n),x=this._programOptions,_=y.getMaterialProgram(i,m,x);if(f&&null!=d&&!_.compiled)return void d();i.useProgram(_),_.setUniformMatrix3fv(\"u_displayMat3\",1===v?s.displayMat3:s.displayViewMat3),_.setUniform2fv(\"u_circleTranslation\",M),_.setUniform1f(\"u_depth\",p.z),_.setUniform1f(\"u_antialiasingWidth\",g);let I=-1;for(const U of a){if(!U.layerData.has(u))continue;U.key.level!==I&&(I=U.key.level,m.setDataUniforms(_,n,p,I,c));const e=U.layerData.get(u);if(!e.circleIndexCount)continue;e.prepareForRendering(i);const a=e.vao;null!=a&&(i.bindVAO(a),_.setUniformMatrix3fv(\"u_dvsMat3\",U.transforms.displayViewScreenMat3),l!==U.key.level?i.setStencilFunction(514,U.stencilRef,255):i.setStencilFunction(516,255,255),i.drawElements(t.TRIANGLES,e.circleIndexCount,r.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*e.circleIndexStart),U.triangleCount+=e.circleIndexCount/3)}}}export{a as WGLBrushVTLCircle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{vtlTextureBindingUnitSprites as t,vtlHighResCutoff as e}from\"../definitions.js\";import i from\"./WGLBrush.js\";import{PrimitiveType as n,DataType as a}from\"../../../../webgl/enums.js\";const l=1/65536;class r extends i{constructor(){super(...arguments),this._fillProgramOptions={id:!1,pattern:!1},this._outlineProgramOptions={id:!1}}dispose(){}drawMany(t,e){const{displayLevel:i,renderPass:n,spriteMosaic:a,styleLayerUID:l}=t;let r=!1;for(const _ of e)if(_.layerData.has(l)){const t=_.layerData.get(l);if(t.fillIndexCount>0||t.outlineIndexCount>0){r=!0;break}}if(!r)return;const o=t.styleLayer,s=o.getPaintProperty(\"fill-pattern\"),f=void 0!==s,u=f&&s.isDataDriven;let c;if(f&&!u){const t=s.getValue(i);c=a.getMosaicItemPosition(t,!0)}const d=!f&&o.getPaintValue(\"fill-antialias\",i);let p=!0,m=1;if(!f){const t=o.getPaintProperty(\"fill-color\"),e=o.getPaintProperty(\"fill-opacity\");if(!t?.isDataDriven&&!e?.isDataDriven){const t=o.getPaintValue(\"fill-color\",i);m=o.getPaintValue(\"fill-opacity\",i)*t[3],m>=1&&(p=!1)}}if(p&&\"opaque\"===n)return;const y=o.getPaintValue(\"fill-translate\",i),g=o.getPaintValue(\"fill-translate-anchor\",i);(p||\"translucent\"!==n)&&this._drawFill(t,l,o,e,y,g,f,c,u);const M=!o.hasDataDrivenOutlineColor&&o.outlineUsesFillColor&&m<1;d&&\"opaque\"!==n&&!M&&this._drawOutline(t,l,o,e,y,g)}_drawFill(i,r,o,s,f,u,c,d,p){if(c&&!p&&null==d)return;const{context:m,displayLevel:y,state:g,painter:M,pixelRatio:_,spriteMosaic:v,requestRender:P,allowDelayedRender:E}=i,U=o.fillMaterial,x=M.vectorTilesMaterialManager,D=_>e?2:1,I=this._fillProgramOptions;I.pattern=c;const S=x.getMaterialProgram(m,U,I);if(E&&null!=P&&!S.compiled)return void P();if(m.useProgram(S),null!=d){const{page:e}=d,i=v.getPageSize(e);null!=i&&(v.bind(m,9729,e,t),S.setUniform2fv(\"u_mosaicSize\",i),S.setUniform1i(\"u_texture\",t))}S.setUniformMatrix3fv(\"u_displayMat3\",1===u?g.displayMat3:g.displayViewMat3),S.setUniform2fv(\"u_fillTranslation\",f),S.setUniform1f(\"u_depth\",o.z+l);let h=-1;for(const e of s){if(!e.layerData.has(r))continue;e.key.level!==h&&(h=e.key.level,U.setDataUniforms(S,y,o,h,v));const i=e.layerData.get(r);if(!i.fillIndexCount)continue;i.prepareForRendering(m);const l=i.fillVAO;if(null!=l){if(m.bindVAO(l),S.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.displayViewScreenMat3),m.setStencilFunction(514,e.stencilRef,255),c){const t=Math.max(2**(Math.round(y)-e.key.level),1),i=e.rangeX/(D*e.width*t);S.setUniform1f(\"u_patternFactor\",i)}if(p){const e=i.patternMap;if(!e)continue;for(const[i,l]of e){const e=v.getPageSize(i);null!=e&&(v.bind(m,9729,i,t),S.setUniform2fv(\"u_mosaicSize\",e),S.setUniform1i(\"u_texture\",t),m.drawElements(n.TRIANGLES,l[1],a.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*l[0]))}}else m.drawElements(n.TRIANGLES,i.fillIndexCount,a.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i.fillIndexStart);e.triangleCount+=i.fillIndexCount/3}}}_drawOutline(t,e,i,r,o,s){const{context:f,displayLevel:u,state:c,painter:d,pixelRatio:p,spriteMosaic:m,requestRender:y,allowDelayedRender:g}=t,M=i.outlineMaterial,_=d.vectorTilesMaterialManager,v=.75/p,P=this._outlineProgramOptions,E=_.getMaterialProgram(f,M,P);if(g&&null!=y&&!E.compiled)return void y();f.useProgram(E),E.setUniformMatrix3fv(\"u_displayMat3\",1===s?c.displayMat3:c.displayViewMat3),E.setUniform2fv(\"u_fillTranslation\",o),E.setUniform1f(\"u_depth\",i.z+l),E.setUniform1f(\"u_outline_width\",v);let U=-1;for(const l of r){if(!l.layerData.has(e))continue;l.key.level!==U&&(U=l.key.level,M.setDataUniforms(E,u,i,U,m));const t=l.layerData.get(e);if(t.prepareForRendering(f),!t.outlineIndexCount)continue;const r=t.outlineVAO;null!=r&&(f.bindVAO(r),E.setUniformMatrix3fv(\"u_dvsMat3\",l.transforms.displayViewScreenMat3),f.setStencilFunction(514,l.stencilRef,255),f.drawElements(n.TRIANGLES,t.outlineIndexCount,a.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t.outlineIndexStart),l.triangleCount+=t.outlineIndexCount/3)}}}export{r as WGLBrushVTLFill};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{vtlTextureBindingUnitSprites as e}from\"../definitions.js\";import t from\"./WGLBrush.js\";import{PrimitiveType as i,DataType as n}from\"../../../../webgl/enums.js\";class a extends t{constructor(){super(...arguments),this._programOptions={id:!1,pattern:!1,sdf:!1}}dispose(){}drawMany(t,a){const{context:r,displayLevel:o,state:s,painter:l,pixelRatio:f,spriteMosaic:u,styleLayerUID:c,requestRender:d,allowDelayedRender:m}=t;if(!a.some(e=>e.layerData.get(c)?.lineIndexCount??!1))return;const p=t.styleLayer,g=p.lineMaterial,y=l.vectorTilesMaterialManager,M=p.getPaintValue(\"line-translate\",o),_=p.getPaintValue(\"line-translate-anchor\",o),v=p.getPaintProperty(\"line-pattern\"),U=void 0!==v,E=U&&v.isDataDriven;let x,I;if(U&&!E){const e=v.getValue(o);x=u.getMosaicItemPosition(e)}let P=!1;if(!U){const e=p.getPaintProperty(\"line-dasharray\");if(I=void 0!==e,P=I&&e.isDataDriven,I&&!P){const t=e.getValue(o),i=p.getDashKey(t,p.getLayoutValue(\"line-cap\",o));x=u.getMosaicItemPosition(i)}}const D=1/f,S=this._programOptions;S.pattern=U,S.sdf=I;const N=y.getMaterialProgram(r,g,S);if(m&&null!=d&&!N.compiled)return void d();if(r.useProgram(N),N.setUniformMatrix3fv(\"u_displayViewMat3\",s.displayViewMat3),N.setUniformMatrix3fv(\"u_displayMat3\",1===_?s.displayMat3:s.displayViewMat3),N.setUniform2fv(\"u_lineTranslation\",M),N.setUniform1f(\"u_depth\",p.z),N.setUniform1f(\"u_antialiasing\",D),x&&null!=x){const{page:t}=x,i=u.getPageSize(t);null!=i&&(u.bind(r,9729,t,e),N.setUniform2fv(\"u_mosaicSize\",i),N.setUniform1i(\"u_texture\",e))}let T=-1;for(const V of a){if(!V.layerData.has(c))continue;V.key.level!==T&&(T=V.key.level,g.setDataUniforms(N,o,p,T,u));const t=2**(o-T)/f;N.setUniform1f(\"u_zoomFactor\",t);const a=V.layerData.get(c);if(!a.lineIndexCount)continue;a.prepareForRendering(r);const s=a.vao;if(null!=s){if(r.bindVAO(s),N.setUniformMatrix3fv(\"u_dvsMat3\",V.transforms.displayViewScreenMat3),r.setStencilFunction(514,V.stencilRef,255),E||P){const t=a.patternMap;if(!t)continue;for(const[a,o]of t){const t=u.getPageSize(a);null!=t&&(u.bind(r,9729,a,e),N.setUniform2fv(\"u_mosaicSize\",t),N.setUniform1i(\"u_texture\",e),r.drawElements(i.TRIANGLES,o[1],n.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*o[0]))}}else r.drawElements(i.TRIANGLES,a.lineIndexCount,n.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*a.lineIndexStart);V.triangleCount+=a.lineIndexCount/3}}}}export{a as WGLBrushVTLLine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._readFile=e}resolveIncludes(e){return this._resolve(e)}_resolve(e,t=new Map){if(t.has(e))return t.get(e);const r=this._read(e);if(!r)throw new Error(`cannot find shader file ${e}`);const s=/^[^\\S\\n]*#include\\s+<(\\S+)>[^\\S\\n]?/gm;let n=s.exec(r);const l=[];for(;null!=n;)l.push({path:n[1],start:n.index,length:n[0].length}),n=s.exec(r);let a=0,h=\"\";return l.forEach(e=>{h+=r.slice(a,e.start),h+=t.has(e.path)?\"\":this._resolve(e.path,t),a=e.start+e.length}),h+=r.slice(a),t.set(e,h),h}_read(e){return this._readFile(e)}}export{e as ShaderCompiler};\n"],"names":["f","c","s","constructor","super","arguments","this","_iconProgramOptions","id","sdf","_sdfProgramOptions","_spritesTextureSize","e","dispose","drawMany","t","i","styleLayer","_drawIcons","_drawText","r","context","displayLevel","o","painter","l","spriteMosaic","state","styleLayerUID","u","requestRender","p","allowDelayedRender","m","g","iconMaterial","d","vectorTilesMaterialManager","y","_","layerData","has","get","iconPerPageElementsMap","size","h","getPaintValue","M","U","getLayoutValue","x","P","S","isIconSDF","E","v","getMaterialProgram","compiled","useProgram","setUniformMatrix3fv","displayViewMat3","displayMat3","setUniform2fv","setUniform1f","z","n","rotation","setUniform1i","a","stencilSymbols","D","key","level","setDataUniforms","prepareForRendering","updateOpacityInfo","iconVAO","bindVAO","transforms","displayViewScreenMat3","performance","now","lastOpacityUpdate","_renderIconRange","getWidth","getHeight","bind","_setStencilState","drawElements","TRIANGLES","UNSIGNED_INT","Uint32Array","BYTES_PER_ELEMENT","triangleCount","glyphMosaic","pixelRatio","textMaterial","glyphPerPageElementsMap","getPaintProperty","isDataDriven","getValue","T","w","R","I","L","_glyphTextureSize","width","height","N","b","k","O","textVAO","forEach","_renderGlyphRange","is3D","setStencilTestEnabled","setStencilWriteMask","setStencilFunction","stencilRef","name","brushEffect","prepareState","draw","visible","_color","_patternMatrix","_programOptions","pattern","_vao","_loadWGLResources","backgroundMaterial","window","devicePixelRatio","j","getMosaicItemPosition","tl","br","page","getPageSize","setUniform4f","setUniform4fv","rangeX","Math","max","round","drawArrays","TRIANGLE_STRIP","Int8Array","geometryLayout","PI","LN2","log","requiredLevel","some","_e$layerData$get$circ","_e$layerData$get","circleIndexCount","circleMaterial","vao","circleIndexStart","_fillProgramOptions","_outlineProgramOptions","renderPass","fillIndexCount","outlineIndexCount","_drawFill","hasDataDrivenOutlineColor","outlineUsesFillColor","_drawOutline","fillMaterial","fillVAO","patternMap","fillIndexStart","outlineMaterial","outlineVAO","outlineIndexStart","_e$layerData$get$line","lineIndexCount","lineMaterial","getDashKey","V","lineIndexStart","_readFile","resolveIncludes","_resolve","length","undefined","Map","_read","Error","concat","exec","push","path","start","index","slice","set"],"sourceRoot":""}