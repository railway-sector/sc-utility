{"version":3,"file":"static/js/34643.3f2d4cc4.chunk.js","mappings":"mJAIgI,MAAMA,EAAEC,WAAAA,CAAYD,EAAEE,GAAGC,KAAKC,UAAUJ,EAAEG,KAAKE,YAAY,KAAKF,KAAKG,WAAU,EAAG,MAAMC,EAAEJ,KAAKC,UAAUI,QAAQN,IAAGO,EAAAA,EAAAA,IAAEF,IAAIA,EAAEG,KAAKD,IAAIN,KAAKG,WAAUK,EAAAA,EAAAA,IAAEF,GAAGN,KAAKS,YAAYH,IAAIN,KAAKE,YAAYE,GAAGJ,KAAKS,YAAYL,CAAC,CAACM,OAAAA,GAAUV,KAAKS,aAAYD,EAAAA,EAAAA,IAAER,KAAKS,aAAaT,KAAKG,WAAU,CAAE,CAAC,aAAIQ,GAAW,IAAAC,EAAC,OAAuB,QAAvBA,EAAOZ,KAAKS,mBAAW,IAAAG,OAAA,EAAhBA,EAAkBD,SAAS,E,2FCArH,SAASE,EAAEL,EAAET,EAAEc,EAAEC,GAAG,GAAG,MAAMf,GAAG,MAAMe,EAAE,OAAM,EAAG,MAAMC,GAAET,EAAAA,EAAAA,IAAEP,EAAEe,GAAG,GAAG,OAAO,OAADC,QAAC,IAADA,OAAC,EAADA,EAAGC,WAAU,OAAM,EAAG,GAAGD,EAAEC,YAAYnB,EAAAA,GAAE,OAAOW,IAAIK,IAAIA,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,GAAGK,EAAE,GAAGL,EAAE,KAAI,EAAG,MAAMS,OAAOC,EAAEC,KAAKC,EAAEJ,UAAUK,GAAGN,EAAE,GAAG,IAAIK,EAAEE,mBAAmB,CAAC,MAAMvB,EAAEwB,EAAAA,GAAEL,EAAEI,oBAAoB,GAAG,GAAG,MAAMvB,EAAE,OAAM,EAAGA,GAAEyB,EAAAA,EAAAA,GAAEhB,GAAG,EAAEiB,EAAE,IAAGC,EAAAA,EAAAA,IAAED,EAAE,EAAEE,EAAE,GAAG,MAAMrB,EAAEsB,EAAEH,EAAE,GAAGjB,EAAE,GAAGA,EAAE,GAAGJ,EAAAA,GAAEyB,QAAQ,OAAOC,EAAAA,EAAAA,GAAEjB,EAAEc,EAAErB,IAAG,CAAE,CAAC,GAAG,IAAIY,EAAEI,oBAAoB,IAAIJ,EAAEI,oBAAoB,KAAKF,EAAEE,mBAAmB,KAAAS,EAAAC,EAACX,GAAEG,EAAAA,EAAAA,GAAEhB,GAAG,EAAEmB,EAAE,GAAG,MAAM5B,EAAiB,QAAhBgC,EAACb,EAAEe,qBAAa,IAAAF,EAAAA,EAAE,EAAEzB,EAAiB,QAAhB0B,EAACZ,EAAEa,qBAAa,IAAAD,EAAAA,EAAE,EAAEnC,EAAEW,EAAE,GAAGT,EAAEO,GAAEwB,EAAAA,EAAAA,GAAEjB,EAAEc,EAAE9B,EAAE,KAAK,CAAC,MAAME,EAAEwB,EAAAA,GAAEL,EAAEI,oBAAoB,GAAGhB,EAAEiB,EAAAA,GAAE,GAAG,IAAI,IAAI1B,EAAEW,EAAE,GAAG,MAAMT,GAAG,MAAMO,IAAIT,EAAE+B,EAAEpB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGJ,EAAAA,GAAEyB,SAASR,GAAEG,EAAAA,EAAAA,GAAEhB,GAAG,EAAEmB,EAAE,IAAGG,EAAAA,EAAAA,GAAEjB,EAAEc,EAAE9B,EAAE,CAAC,OAAM,CAAE,CAAC,SAAS+B,EAAEpB,EAAET,EAAEO,EAAET,GAAG,MAAM0B,EAAE1B,EAAEE,EAAE,GAAGwB,EAAE1B,EAAE,GAAGS,EAAEiB,EAAE,OAAOW,OAAOC,UAAU,MAAMT,EAAEU,KAAKC,IAAIvB,EAAEN,GAAG4B,KAAKE,KAAKhC,EAAEiB,GAAG,OAAOG,GAAGU,KAAKG,GAAG,EAAEL,OAAOC,UAAU7B,EAAE8B,KAAKI,IAAId,EAAE,CAAC,MAAMD,GAAE1B,EAAAA,EAAAA,MAAI4B,GAAE5B,EAAAA,EAAAA,MAAIe,GAAEN,EAAAA,EAAAA,IAAE,E,kDCA9kC,SAASF,EAAEA,GAAG,OAAOA,IAAGE,EAAAA,EAAAA,IAAEF,GAAG,EAAEA,IAAGP,EAAAA,EAAAA,IAAEO,GAAG,EAAE,CAAC,C,yVCA1D,MAAMA,UAAUE,EAAAA,EAAEV,WAAAA,CAAYU,EAAEF,EAAET,EAAEE,EAAE2B,EAAEN,EAAEI,GAAGiB,MAAMjC,EAAE,EAAE,EAAE,EAAEF,GAAGN,KAAK0C,YAAY7C,EAAEG,KAAK2C,MAAM5C,EAAEC,KAAK4C,UAAUlB,EAAE1B,KAAK6C,YAAYzB,EAAEpB,KAAK8C,gBAAgBtB,CAAC,E,qCCAjL,MAAMD,EAAE,CAACwB,OAAO,KAAKC,MAAM,KAAKC,UAAU,KAAKC,UAAU5C,EAAAA,GAAE6C,UAAUC,cAAc9C,EAAAA,GAAE+C,eAAeC,OAAO,MAAM9C,EAAE,CAAC+C,OAAO,EAAEC,KAAK,EAAEC,MAAM,GAAG5C,EAAE,CAAC6C,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAEN,OAAO,GAAG5B,EAAE,CAACmC,SAAS,CAAChE,EAAE,MAAMS,EAAE,OAAOwD,SAAS,CAACjE,EAAE,MAAMS,EAAE,OAAOyD,OAAO,CAAClE,EAAE,MAAMS,EAAE,OAAOsD,KAAK,CAAC/D,EAAE,MAAMS,EAAE,OAAOgD,OAAO,CAACzD,EAAE,MAAMS,EAAE,QAAQP,EAAE,CAACiE,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,WAAW,EAAElB,OAAO,G,qCCAlC,MAAMxB,EAAEhC,WAAAA,CAAYU,GAAGR,KAAKyE,UAAUjE,EAAER,KAAK0E,KAAK,EAAE1E,KAAK2E,mBAAkB,EAAG3E,KAAK4E,UAAS,EAAG5E,KAAK6E,aAAarE,EAAEsE,GAAG,CAACC,SAAAA,CAAUjD,EAAEF,EAAEb,EAAED,EAAEW,EAAEE,GAAG,GAAGG,EAAEkD,QAAQC,sBAAsBC,SAASlF,KAAKyE,UAAUK,KAAK,OAAO,MAAMK,QAAQ/D,EAAEgE,UAAUC,GAAGvD,EAAEwD,EAAE,IAAIxD,EAAEkD,QAAQO,OAAOC,0BAA0BC,GAAGzF,KAAKyE,UAAUiB,KAAKC,MAAMC,WAAWC,EAAE,IAAI9F,EAAAA,GAAEsF,EAAE1D,EAAEG,EAAEkD,QAAQc,gBAAgBC,GAAErE,EAAAA,EAAAA,IAAEX,EAAED,EAAEU,GAAGN,GAAEV,EAAAA,EAAAA,IAAEF,EAAAA,EAAAA,MAAIQ,EAAEC,GAAGiF,GAAE5F,EAAAA,EAAAA,IAAEE,EAAAA,EAAAA,MAAIY,GAAGG,EAAEA,CAACb,EAAEJ,EAAEE,KAAK,GAAGF,GAAG,EAAE,CAAC,GAAG,MAAMwB,IAAIA,EAAEb,EAAED,EAAEV,GAAG,OAAO,MAAMI,EAAEA,IAAI,MAAMe,EAAE,IAAI1B,EAAAA,GAAEG,KAAKyE,UAAUwB,MAAMnB,KAAKtE,EAAE0F,IAAIlG,KAAK0E,KAAKnD,EAAEnB,EAAEE,IAAI,GAAGN,KAAK4E,WAAW,MAAMxD,EAAE+E,OAAOC,UAAUhG,EAAEgB,EAAE+E,OAAOC,WAAW5F,EAAEY,EAAE+E,QAAQrE,EAAEkD,QAAQqB,WAAW,OAAO,IAAI,MAAMjF,EAAEkF,IAAIF,UAAUhG,EAAEgB,EAAEkF,IAAIF,WAAW5F,EAAEY,EAAEkF,MAAM,MAAMlF,EAAEmF,IAAIH,UAAUhG,EAAEgB,EAAEmF,IAAIH,WAAW5F,EAAEY,EAAEmF,KAAKjB,EAAE,CAAC,MAAMlF,EAAE,IAAImB,EAAAA,EAAEO,EAAE0E,KAAKhG,EAAEJ,GAAG0B,EAAEqD,QAAQsB,IAAIC,KAAKtG,EAAE,CAAC,GAAGJ,KAAKyE,UAAUkC,mBAAmBnG,IAAI,IAAIA,EAAEoG,4BAA4B7F,EAAEiF,GAAG,OAAO,MAAMa,iBAAiBzG,GAAGI,EAAE,IAAI,MAAMF,KAAKF,GAAES,EAAAA,EAAAA,IAAEP,EAAEwG,uBAAuB/F,EAAEgF,EAAE,IAAIN,EAAEV,UAAUzE,EAAES,EAAED,EAAE,KAAK+E,EAAExE,IAAI,EAAE,MAAMG,GAAElB,EAAAA,EAAAA,M,uLCA87E,MAAMyG,GAAGjH,WAAAA,CAAYU,EAAEF,EAAEF,EAAEP,EAAEE,EAAE2B,EAAEH,GAAGvB,KAAKgH,OAAOxG,EAAER,KAAK6G,iBAAiBvG,EAAEN,KAAKiH,SAAS7G,EAAEJ,KAAKkH,eAAerH,EAAEG,KAAKmH,eAAepH,EAAEC,KAAKoH,mBAAmB1F,EAAE1B,KAAKqH,IAAI9F,EAAEvB,KAAKsH,WAAU,EAAGtH,KAAKuH,WAAWvH,KAAKoH,mBAAmBpH,KAAKmH,eAAenH,KAAKkH,eAAe,MAAMpF,GAAE0F,EAAAA,EAAAA,MAAK,OAADjG,QAAC,IAADA,GAAAA,EAAGkG,UAAU3F,GAAG9B,KAAK0H,WAAW5F,EAAE9B,KAAK2H,kBAAkBpG,GAAG,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGM,SAAQ,EAAE,CAAC,CAAC+E,2BAAAA,CAA4BpG,EAAEF,GAAG,IAAIN,KAAKqH,IAAI,OAAM,EAAG,MAAMjH,GAAEqF,EAAAA,EAAAA,GAAEmC,GAAG5H,KAAK0H,WAAWlH,GAAGX,GAAEyF,EAAAA,EAAAA,GAAElF,EAAEE,GAAG,OAAOgF,EAAAA,EAAAA,GAAElF,EAAEA,GAAGP,EAAEA,GAAGG,KAAK2H,mBAAmB3H,KAAKqH,IAAIQ,aAAarH,EAAEF,EAAE,EAAE,MAAMsH,IAAGJ,EAAAA,EAAAA,MAAI,SAASM,GAAGtH,GAAG,OAAO4B,KAAK2F,MAAMvH,EAAE,UAAU,GAAG,CAAC,IAAIwH,GAAG,eAAcC,EAAAA,EAAAA,GAAEC,GAAAA,IAAK,oBAAIC,GAAmB,OAAOnI,KAAKoI,gBAAgBpI,KAAKoI,eAAeC,OAAO,CAAC,CAACvI,WAAAA,CAAYU,GAAGiC,MAAMjC,GAAGR,KAAK0E,KAAK,0BAA0B1E,KAAKsI,oBAAoB,IAAIC,GAAAA,EAAGvI,KAAKoI,eAAe,IAAII,MAAMxI,KAAKyI,uCAAuC,KAAKzI,KAAK0I,cAAc,EAAE1I,KAAK2I,qBAAoB,EAAG3I,KAAK4I,YAAY,EAAE5I,KAAK6I,aAAa,EAAE7I,KAAK8I,gBAAgB,EAAE9I,KAAK+I,aAAYC,EAAAA,EAAAA,GAAI,2BAA2BhJ,KAAKiJ,iBAAgBD,EAAAA,EAAAA,GAAI,6BAA6BhJ,KAAKkJ,oBAAoB,IAAIC,IAAInJ,KAAKoJ,gBAAgB,IAAIC,IAAIrJ,KAAKsJ,iBAAiB,IAAIH,IAAInJ,KAAKuJ,iBAAiB,KAAKvJ,KAAKwJ,UAAU,IAAIH,IAAIrJ,KAAKyJ,UAAUjJ,EAAEkF,KAAKgE,mBAAmBC,iBAAiBC,SAAS,aAADC,OAAc7J,KAAK8E,KAAMtE,GAAGR,KAAK8J,qBAAqBtJ,GAAG,CAACuJ,UAAAA,GAAY,IAAAC,EAAChK,KAAKwJ,UAAUS,IAAI,GAAGjK,KAAKkK,KAAK,EAAE,0CAA0C,MAAMxE,KAAKlF,GAAGR,KAAK,GAAGA,KAAKmK,iBAAiBF,IAAI,IAAIjK,KAAKiG,MAAMmE,cAAc,IAAIpK,KAAKqK,qBAAqBxK,EAAAA,KAAIG,KAAKsK,2BAA2B,MAAMC,EAAAA,GAAAA,IAAG,QAAQvK,KAAKiG,MAAMuE,iBAAiBC,KAA6B,QAAzBT,EAACxJ,EAAEkK,8BAAsB,IAAAV,OAAA,EAAxBA,EAA0BS,MAAM,MAAMnK,GAAEqK,EAAAA,EAAAA,IAAE3K,MAAMO,KAAKD,IAAIN,KAAK0I,aAAapI,EAAEN,KAAK4K,qBAAqB,IAAIC,EAAE7K,MAAMQ,EAAEsK,wBAAwBC,uBAAuB/K,KAAK4K,sBAAsB5K,KAAKmK,iBAAiBF,IAAI,IAAIjK,KAAK2E,kBAAkBnE,GAAGR,KAAKgL,yBAAyBxK,IAAIR,KAAKmK,iBAAiBF,IAAI,IAAIjK,KAAKoI,eAAe,IAAIpI,KAAKiL,wBAAwBpL,EAAAA,IAAGG,KAAKmK,iBAAiBF,IAAI,IAAIjK,KAAKkL,YAAY,IAAIlL,KAAKmL,kBAAkBnL,KAAKmK,iBAAiBF,IAAI,IAAIzJ,EAAE4K,aAAa,IAAIpL,KAAKqL,uBAAuBxL,EAAAA,IAAGG,KAAKsL,mBAAmB,IAAIC,EAAAA,EAAE,CAAC7F,KAAKlF,EAAEgL,qBAAqBxL,KAAKyL,oBAAoBzL,KAAK4K,uBAAuBpK,EAAEkL,kBAAkBC,SAAS,EAAE3L,KAAKsL,oBAAoB9K,EAAEoL,eAAeC,oBAAoB7L,MAAMA,KAAK8L,WAAW,EAAC/L,EAAAA,EAAAA,IAAE,IAAIC,KAAKiG,MAAM8F,cAAcvL,GAAGR,KAAKgM,sBAAsBxL,MAAMR,KAAKuJ,kBAAiBxJ,EAAAA,EAAAA,IAAE,IAAIC,KAAKiM,UAAUzL,IAAC,IAAA0L,EAAA,OAAY,QAAZA,EAAElM,KAAKmM,aAAK,IAAAD,OAAA,EAAVA,EAAYE,WAAWpM,MAAMQ,IAAGX,EAAAA,MAAKG,KAAKqM,oBAAoB/L,GAAGN,KAAKsM,kBAAkBtM,KAAK8L,YAAWpK,EAAAA,EAAAA,IAAE,IAAI1B,KAAK0F,KAAK6G,IAAIpG,OAAOqG,QAAQ,KAAKxM,KAAKmL,mBAAmB,CAAC,oBAAImB,GAAkB,IAAAG,EAAC,OAAOzM,KAAKiG,MAAMyG,mBAAwC,QAAtBD,EAACzM,KAAK0F,KAAK6G,IAAII,eAAO,IAAAF,IAArBA,EAAuBG,aAAa1H,SAASlF,KAAKiG,OAAM,CAAC,eAAIiF,GAAc,OAAOlL,KAAKsM,iBAAiBtM,KAAK0F,KAAK6G,IAAIpG,OAAOqG,QAAQ,CAAC,CAAC,WAAIA,GAAU,OAAO,CAAC,CAACrB,cAAAA,GAAiB,MAAMD,YAAY1K,GAAGR,KAAKA,KAAK6M,uBAAuBvM,IAAIN,KAAK8M,YAAYC,YAAYzM,GAAG0M,cAAcxM,GAAG,CAACuE,SAAAA,CAAUvE,EAAEF,EAAEF,EAAEP,GAAGG,KAAK4K,qBAAqB7F,UAAUvE,EAAEF,EAAEF,EAAEP,EAAE,MAAK,EAAG,CAAC,SAAIoN,GAAQ,OAAM,CAAE,CAACC,OAAAA,GAAUlN,KAAKkK,KAAK,EAAE,wCAAuCiD,EAAAA,EAAAA,IAAEnN,MAAMA,KAAKuJ,mBAAmBvJ,KAAKuJ,iBAAiB6D,SAASpN,KAAKuJ,iBAAiB,MAAMvJ,KAAK4K,uBAAuB5K,KAAK0F,KAAKoF,wBAAwBuC,0BAA0BrN,KAAK4K,sBAAsB5K,KAAK4K,qBAAqB,MAAM5K,KAAKsL,qBAAqBtL,KAAKsL,mBAAmBgC,+BAA+B9M,GAAGR,KAAK6M,uBAAuBvM,GAAGE,EAAEF,EAAE+G,OAAOrH,KAAK0F,KAAKgG,kBAAkB6B,WAAWvN,KAAKsL,oBAAoBtL,KAAKsL,mBAAmB,MAAMtL,KAAK0F,KAAKkG,eAAe4B,sBAAsBxN,MAAMA,KAAKkJ,oBAAoBuE,QAAQjN,GAAGR,KAAK0N,WAAWlN,IAAIR,KAAKkJ,oBAAoByE,QAAQ3N,KAAKsJ,iBAAiBqE,QAAQ3N,KAAKoJ,gBAAgBuE,QAAQ3N,KAAK4I,YAAY,EAAE5I,KAAK6I,aAAa,EAAE7I,KAAKyJ,UAAUyD,UAAUlN,KAAKmK,kBAAiB/J,EAAAA,EAAAA,IAAEJ,KAAKmK,kBAAkBnK,KAAK4N,KAAK,4BAA4B5N,KAAKyI,yCAAyCzI,KAAKyI,uCAAuC2E,SAASpN,KAAKyI,uCAAuC,KAAK,CAACwC,qBAAAA,GAAuB,IAAA4C,EAAC,MAAMrN,EAAER,KAAKiG,MAAMuE,iBAAiBlK,GAAEwN,EAAAA,EAAAA,IAAE9N,KAAK+N,mBAAmB/N,KAAKoI,eAAe5H,GAAa,QAAVqN,EAAA7N,KAAKmM,aAAK,IAAA0B,GAAVA,EAAYG,qBAAqBhO,KAAKM,EAAEE,EAAEiK,KAAK,CAACY,oBAAAA,GAAuB,MAAM7K,EAAER,KAAKiG,MAAMuE,iBAAiBlK,GAAE2N,EAAAA,EAAAA,MAAIjO,KAAK+N,oBAAmBG,EAAAA,EAAAA,GAAGlO,KAAK0F,KAAK0F,aAAa9K,EAAEE,GAAGF,EAAE,KAAKN,KAAKiL,uBAAuB,CAACkD,uBAAAA,GAAyB,IAAAC,EAA4C,QAA3CA,EAAApO,KAAKyI,8CAAsC,IAAA2F,IAA3CpO,KAAKyI,wCAAyClH,EAAAA,EAAAA,GAAE,KAAKvB,KAAK4N,KAAK,4BAA4B5N,KAAKyI,uCAAuC,OAAM,CAACuC,wBAAAA,CAAyBxK,GAAGR,KAAK4K,uBAAuB5K,KAAK4K,qBAAqBjG,kBAAkBnE,GAAGR,KAAK6M,uBAAuBvM,IAAI,MAAMF,EAAEJ,KAAK8M,YAAYC,YAAYzM,GAAGF,EAAEiO,yBAAyBC,cAAc9N,EAAEJ,EAAEiO,yBAAyBE,SAAS/N,EAAE,EAAER,KAAKsJ,iBAAiBkF,IAAIlO,IAAI,CAAC0L,qBAAAA,CAAsBxL,GAAE,IAAAiO,EAAW,QAAVA,EAAAzO,KAAKmM,aAAK,IAAAsC,GAAVA,EAAYC,eAAe1O,MAAK2O,EAAAA,EAAAA,IAAEnO,GAAG,CAAC,SAAI2L,GAAQ,OAAOyC,EAAAA,EAAAA,IAAE5O,KAAK0F,KAAK,CAAC,eAAImJ,GAAc,OAAO7O,KAAK0I,YAAY,CAAC,cAAInB,GAAa,OAAOvH,KAAK4I,WAAW,CAAC,kBAAIkG,GAAiB,OAAO,CAAC,CAAC,gBAAIC,GAAe,OAAO/O,KAAK6I,YAAY,CAAC,yBAAImG,GAAwB,OAAOC,EAAAA,GAAAA,IAAGjP,KAAKiG,MAAMiJ,oBAAoBlP,KAAK0F,KAAKyJ,MAAM,CAAC,mBAAIC,GAAkB,IAAI5O,EAAE,EAAEF,EAAE,EAAEF,EAAE,EAAEP,EAAE,EAAEE,EAAE,EAAE2B,EAAE,EAAE,OAAO1B,KAAKkJ,oBAAoBuE,QAAQlM,IAAIA,EAAE+F,WAAW9G,GAAGe,EAAE6F,mBAAmB9G,GAAGiB,EAAE4F,eAAepH,MAAMK,GAAGmB,EAAE6F,mBAAmBvH,GAAG0B,EAAE4F,eAAezF,OAAO,IAAI2N,EAAErP,KAAKuH,WAAWxH,EAAE2B,EAAEoG,GAAGxH,GAAGwH,GAAGtH,GAAGsH,GAAGjI,GAAGiI,GAAG1H,GAAG,CAACkK,wBAAAA,GAA2B,GAAG,IAAItK,KAAK0F,KAAK4J,MAAMC,YAAY,KAAAC,EAAAC,EAAAC,EAAC,MAAMlP,EAAkC,QAAhCgP,EAAAxP,KAAK0F,KAAKgF,8BAAsB,IAAA8E,GAAhCA,EAAkCG,cAAc,KAA2C,QAAvCF,EAAiC,QAAjCC,EAAC1P,KAAK0F,KAAKgF,8BAAsB,IAAAgF,OAAA,EAAhCA,EAAkCjF,YAAI,IAAAgF,EAAAA,GAAG,EAAE,GAAG,OAAOjP,GAAG,QAAQA,EAAE,OAAM,CAAE,CAAC,OAAM,CAAE,CAAC,UAAIoP,GAAS,OAAO5P,KAAK0F,KAAKC,KAAK,CAAC,eAAImH,GAAc,OAAO9M,KAAK4P,OAAOhK,WAAWJ,yBAAyB,CAAC,qBAAIkG,GAAoB,OAAO1L,KAAKsL,kBAAkB,CAAC,mBAAIuE,GAAkB,OAAOlB,EAAAA,EAAAA,IAAE3O,KAAKiG,MAAM8F,cAAc,CAAC,kBAAI+D,GAAiB,MAAMtP,EAAER,KAAK+P,WAAW,OAAQ,OAADvP,QAAC,IAADA,GAAAA,EAAGwP,MAAO,OAADxP,QAAC,IAADA,GAAAA,EAAGyP,KAAK,IAAIC,EAAAA,EAAE1P,EAAEwP,KAAKxP,EAAEyP,MAAM,IAAI,CAACE,iBAAAA,CAAkB3P,GAAG,OAAO,IAAI,CAAC,cAAIuP,GAAa,OAAO/P,KAAKiG,MAAM8J,UAAU,CAAClD,sBAAAA,CAAuBrM,GAAGR,KAAKoQ,eAAepQ,KAAKkJ,oBAAoBmH,SAAS7P,EAAE,CAACmG,kBAAAA,CAAmBnG,GAAG,IAAI,MAAMF,KAAKN,KAAKoJ,gBAAgB5I,EAAEF,EAAE,CAACgQ,6BAAAA,CAA8B9P,GAAGR,KAAKoQ,eAAepQ,KAAKoJ,gBAAgB5I,EAAE,CAAC4P,cAAAA,CAAe5P,EAAEF,GAAG,IAAI,MAAMF,KAAKI,EAAE,IAAI,MAAMA,KAAKJ,EAAEyG,iBAAiBvG,EAAEE,EAAE,CAAC+P,UAAAA,GAAa,MAAM/P,EAAER,KAAKmM,MAAM,QAAQnM,KAAK0I,aAAa,GAAG,MAAMlI,KAAKA,EAAE+P,WAAWvQ,KAAK0I,eAAe1I,KAAKsI,oBAAoBkI,YAAY,CAACC,mBAAAA,GAAsBzQ,KAAK0Q,aAAa,WAAW,CAAC,sBAAMC,CAAiBnQ,GAAG,MAAMF,EAAEE,EAAEoQ,SAAS,GAAG,MAAMtQ,EAAEuQ,KAAK,MAAM,IAAIC,MAAM,2BAA2B,GAAGxQ,EAAEyQ,KAAKC,KAAKC,MAAM3Q,EAAEyQ,MAAM,MAAMzQ,EAAEyQ,KAAK,MAAM,IAAID,MAAM,2BAA2B,MAAM1Q,GAAE8Q,EAAAA,EAAAA,IAAE5Q,EAAEyQ,KAAKI,QAAQtR,EAAE,IAAI2I,MAAMzI,EAAEC,KAAK0F,KAAK0L,eAAe5G,iBAAiB,IAAI9I,EAAEH,EAAE,GAAG,WAAWvB,KAAK0F,KAAK6J,YAAY,CAAC,MAAM/O,GAAEoB,EAAAA,EAAAA,OAAIyP,EAAAA,EAAAA,GAAErL,EAAAA,GAAE5F,EAAEI,EAAET,GAAG2B,GAAEF,EAAAA,EAAAA,KAAEJ,EAAAA,EAAAA,MAAIZ,GAAGe,GAAER,EAAAA,EAAAA,KAAEK,EAAAA,EAAAA,MAAIM,EAAE,MAAMA,EAAEZ,EAAAA,GAAES,EAAET,EAAAA,GAAE,MAAMgB,GAAEuD,EAAAA,EAAAA,IAAEjF,GAAGS,GAAE2G,EAAAA,EAAAA,MAAI7F,EAA04S,SAAYnB,GAAG,OAAOA,EAAE,IAAI8Q,EAAAA,GAAG9Q,EAAE+Q,OAAO/Q,EAAEgR,UAAS7P,EAAAA,EAAAA,OAAKnB,EAAEiR,aAAa,IAAI,CAAn9SC,CAAGpR,EAAEyQ,KAAK1J,KAAK,IAAIxB,EAAE,EAAEJ,EAAE,EAAE,MAAMH,EAAE,CAAC8B,mBAAmB,GAAG6G,EAAE,IAAIzF,MAAMmJ,EAAE,IAAIxI,IAAIyI,EAAEtR,EAAEyQ,KAAKc,MAAMxJ,OAAO,IAAI,IAAI7G,EAAE,EAAEA,EAAEoQ,EAAEpQ,IAAI,KAAAsQ,EAAAC,EAAC,MAAMvR,EAAEF,EAAEyQ,KAAKc,MAAMrQ,GAAkC,GAA/BxB,KAAKkK,KAAK,EAAE8G,KAAKgB,UAAUxR,IAAO,MAAMyR,EAAEzR,EAAE0R,QAAQ,MAAM5R,EAAEuQ,KAAK,CAAC7Q,KAAKkK,KAAK,EAAE,qDAAqD1J,EAAE0R,MAAM,0BAA0B,QAAQ,CAAC,MAAMnR,EAAQ,QAAN+Q,EAAAxR,EAAEyQ,YAAI,IAAAe,GAANA,EAAQK,WAAW,MAAM3R,EAAE4R,WAAW9R,EAAEyQ,KAAKoB,UAAU3R,EAAE4R,YAAY,KAAKhR,EAAE,MAAML,EAAEA,EAAEsR,cAAc,SAASC,aAAa1Q,EAAE2Q,aAAarB,EAAEsB,YAAYnN,EAAEoN,YAAYzM,EAAE0M,UAAUrB,EAAEsB,cAAcf,EAAEgB,YAAYC,GAAG7S,KAAK8S,eAAetS,EAAEF,EAAEuQ,KAAKkC,OAAOrR,GAAG,GAAG,MAAMwP,GAAG,MAAMtP,GAAG,MAAMiR,EAAE,SAAS,MAAMG,EAAE,IAAIC,EAAAA,GAAG,MAAM5B,EAAEO,EAAE,EAAE,EAAE,MAAMvM,EAAErF,KAAKiJ,eAAejJ,KAAKsM,iBAAiBtM,KAAK+I,YAAYmK,EAAEhC,EAAEL,KAAKxI,OAAO6I,EAAEiC,KAAKC,EAAEA,CAAC5S,EAAEF,KAAKE,GAAGA,EAAEqQ,KAAKxI,OAAO7H,EAAE2S,OAAOD,IAAIlT,KAAKkK,KAAK,EAAC,GAAAL,OAAIvJ,EAAC,sCAAoC,GAAI,IAAI8S,EAAExB,EAAE,iBAAiBwB,EAAE/B,EAAE,eAAe+B,EAAEpN,EAAE,WAAW,SAAS,MAAMD,GAAEsN,EAAAA,EAAAA,IAAGL,GAAGM,EAAY,QAAXvB,EAAE,OAADpQ,QAAC,IAADA,OAAC,EAADA,EAAG4R,eAAO,IAAAxB,EAAAA,EAAEyB,GAAGtC,EAAE9Q,GAAG,GAAGsB,IAAIZ,EAAAA,GAAE,IAAI,IAAIR,EAAE,EAAEA,EAAEsB,EAAE6R,MAAMnT,IAAIsB,EAAE8R,OAAOpT,EAAEO,IAAGY,EAAAA,EAAAA,GAAEZ,EAAEA,EAAEa,GAAGE,EAAE+R,OAAOrT,EAAEO,GAAG,MAAM+S,EAAE7N,EAAE8N,aAAa3C,EAAEL,KAAKxI,QAAQ,IAAGyL,EAAAA,GAAAA,IAAG,WAAW5C,EAAE,KAAK,KAAK0C,EAAE,GAAG,MAAMhC,EAAE,CAAC,MAAMpR,EAAEoT,EAAEG,SAAS,MAAMC,EAAAA,KAAGC,EAAAA,GAAAA,IAAGrC,EAAEpR,EAAE,EAAE,CAAC,MAAM6Q,IAAGyC,EAAAA,GAAAA,IAAG,QAAQzC,EAAE,KAAK,KAAKuC,EAAE,GAAG,MAAM5N,IAAG8N,EAAAA,GAAAA,IAAG,mBAAmB9N,EAAE,KAAK,KAAK4N,EAAE,GAAG,MAAMvS,EAAE,IAAI6S,YAAY,CAAC,EAAErB,EAAEsB,YAAY9L,SAASsG,EAAE,IAAIyF,EAAAA,GAAG,CAACvD,KAAK+C,EAAEb,OAAOU,MAAMG,EAAES,WAAWtO,EAAEuO,OAAOC,iBAAiBvB,GAAG,CAACwB,UAAU5S,EAAEuS,YAAYM,QAAQ5B,EAAEsB,aAAatB,EAAEsB,YAAY9S,GAAGwE,GAAGjE,EAAE6R,MAAMZ,EAAEY,MAAM,MAAM3F,EAAE9N,KAAK0F,KAAKgF,uBAAuBzC,GAAET,EAAAA,EAAAA,MAAI6H,EAAE,CAAC,EAAE,EAAE,IAAGqF,EAAAA,EAAAA,GAAE5S,EAAEgM,EAAEuB,EAAEtP,IAAIC,KAAKkK,KAAK,EAAE,iDAAgDyK,EAAAA,EAAAA,GAAE7S,EAAEgM,EAAE7F,EAAElI,GAAG,MAAM4K,EAAE3K,KAAK8M,YAAY8H,aAAa,IAAIC,EAAAA,GAAG3T,EAAAA,EAAAA,IAAE+G,EAAE,GAAGA,EAAE,GAAGoH,EAAE,GAAGA,EAAE,IAAI,IAAIyF,EAAAA,EAAGhT,EAAEP,GAAG+R,EAAE3E,GAAE,IAAK,GAAG5N,EAAE,CAAC,MAAMP,EAAEA,IAAG,IAAAuU,EAAAC,EAACxU,EAAEyU,UAAUlU,EAAEmU,gBAAgB1U,EAAE2U,OAAO,QAAQ/T,EAAEZ,EAAE4U,yBAAwB,EAAG5U,EAAE6U,iBAAiBrV,KAAKsV,YAAYvU,EAAEwU,aAAajV,EAAEqR,EAAErM,GAAG9E,EAAE2U,SAAS3U,EAAEgV,WAAW,CAACzU,EAAE0U,eAAe1U,EAAE2U,gBAAgB,GAAGlV,EAAEmV,kBAAkC,QAAjBZ,EAAChU,EAAE6U,sBAAc,IAAAb,EAAAA,EAAE,CAAC,EAAE,EAAE,GAAGvU,EAAEqV,yBAAyB7V,KAAKsV,YAAYvU,EAAE+U,SAASxV,EAAEqR,EAAErM,GAAG9E,EAAEuV,gBAAgB/V,KAAKsV,YAAYvU,EAAEiV,YAAY1V,EAAEqR,EAAErM,GAAG9E,EAAEyV,iBAAiBjW,KAAKsV,YAAYvU,EAAEmV,aAAa5V,EAAEqR,EAAErM,GAAG9E,EAAE2V,cAAcnW,KAAKsV,YAAYvU,EAAEqV,UAAU9V,EAAEqR,EAAErM,IAAI9E,EAAEwM,cAAc,EAAExM,EAAE6V,iBAAiB,EAAE,MAAMjW,EAAE,GAAGI,EAAE6U,kBAAkBjV,EAAEsG,KAAKlG,EAAE6U,iBAAiBnV,aAAaM,EAAE2U,SAAS3U,EAAEqV,0BAA0BzV,EAAEsG,KAAKlG,EAAEqV,yBAAyB3V,aAAaM,EAAEuV,iBAAiB3V,EAAEsG,KAAKlG,EAAEuV,gBAAgB7V,aAAaM,EAAEyV,kBAAkB7V,EAAEsG,KAAKlG,EAAEyV,iBAAiB/V,aAAaM,EAAE2V,eAAe/V,EAAEsG,KAAKlG,EAAE2V,cAAcjW,cAAc,MAAMH,EAAEuW,QAAQ7P,IAAIrG,GAAGP,EAAE6G,KAAK3G,GAAGA,EAAEQ,KAAK,KAAI,IAAAgW,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAACxW,EAAE6V,iBAAiBY,EAAElW,EAAEmW,WAAW1W,EAAEwM,cAAchN,KAAKkL,YAAY5F,EAAE8B,oBAA6D,QAA3CmP,EAAoB,QAApBC,EAAEhW,EAAE6U,wBAAgB,IAAAmB,GAAW,QAAXA,EAAlBA,EAAoB7V,iBAAS,IAAA6V,OAAA,EAA7BA,EAA+BjP,kBAAU,IAAAgP,EAAAA,EAAE,EAAE/V,EAAE2U,SAAS7P,EAAE8B,qBAAsE,QAAlDqP,EAA2B,QAA3BC,EAAClW,EAAEqV,gCAAwB,IAAAa,GAAW,QAAXA,EAA1BA,EAA4B/V,iBAAS,IAAA+V,OAAA,EAArCA,EAAuCnP,kBAAU,IAAAkP,EAAAA,EAAE,IAA4C,QAA3CE,EAAoB,QAApBC,EAAGpW,EAAEuV,uBAAe,IAAAa,GAAW,QAAXA,EAAjBA,EAAmBjW,iBAAS,IAAAiW,OAAA,EAA5BA,EAA8BrP,kBAAU,IAAAoP,EAAAA,EAAE,IAA6C,QAA3CE,EAAoB,QAApBC,EAAEtW,EAAEyV,wBAAgB,IAAAa,GAAW,QAAXA,EAAlBA,EAAoBnW,iBAAS,IAAAmW,OAAA,EAA7BA,EAA+BvP,kBAAU,IAAAsP,EAAAA,EAAE,IAA0C,QAAxCE,EAAiB,QAAjBC,EAAExW,EAAE2V,qBAAa,IAAAa,GAAW,QAAXA,EAAfA,EAAiBrW,iBAAS,IAAAqW,OAAA,EAA1BA,EAA4BzP,kBAAU,IAAAwP,EAAAA,EAAE,MAAMvW,EAAE6N,yBAAyB8I,YAAYpW,EAAEqW,cAAc5W,EAAE6N,yBAAyBE,SAASxN,EAAEsW,YAAYC,EAAEvW,EAAEsW,aAAa,EAAErX,KAAKsJ,iBAAiBpD,IAAIyE,EAAEnK,EAAE6N,yBAAyBE,UAAU/N,EAAE6N,yBAAyBC,cAActO,KAAK2E,kBAAkBnE,EAAE+W,oBAAoBC,YAAY,EAAEhX,EAAEiX,mBAAgC,QAAdzC,EAACjU,EAAE2W,mBAAW,IAAA1C,EAAAA,EAAE2C,GAAAA,EAAGnX,EAAE6V,iBAAiBY,EAAElW,EAAEmW,WAAW1W,EAAEoX,kBAAiB,EAAGpX,EAAEqX,uBAAuB7X,KAAKiG,MAAM6R,aAAatX,EAAEuX,sBAAqB,EAAGvX,EAAEwX,cAAa,EAAGxX,EAAEyX,eAAcC,EAAAA,EAAAA,GAAGlY,KAAK0F,KAAK8E,mBAAmBxK,KAAK8M,YAAYqL,eAAexN,EAAEnK,EAAE,CAACyN,EAAEvH,KAAKiE,GAAGlF,GAAGzF,KAAK8M,YAAYsL,wBAAwBzN,EAAE,OAAO2L,QAAQ7P,IAAI5G,GAAG,MAAMgT,EAAE,IAAIrK,MAAMmJ,EAAElE,QAAQjN,IAAIqS,EAAEnM,KAAKlG,KAAK,MAAMwS,EAAE,IAAIjM,GAAGvG,EAAEwG,OAAOiH,EAAE4E,EAAEhN,EAAEJ,EAAEH,EAAE8B,mBAAmBzF,GAAG,OAAO3B,KAAKyJ,UAAU4O,IAAI,GAADxO,OAAImJ,EAAEhM,QAASgM,GAAGhT,KAAKkJ,oBAAoBhD,IAAI1F,EAAEwG,OAAOgM,GAAGhT,KAAK6I,cAAcmK,EAAEzL,WAAW,CAAC+Q,cAActF,EAAEzL,WAAW,CAACgR,cAAAA,CAAe/X,GAAG,MAAMF,EAAEN,KAAKkJ,oBAAoBsF,IAAIhO,GAAGF,IAAIA,EAAEgH,WAAWtH,KAAKoJ,gBAAgBoP,OAAOlY,GAAGN,KAAK4I,aAAatI,EAAEiH,YAAYvH,KAAK6I,cAAcvI,EAAEiH,WAAWvH,KAAK0N,WAAWpN,GAAGN,KAAKkJ,oBAAoBsP,OAAOhY,GAAG,CAACkN,UAAAA,CAAWlN,GAAGR,KAAKyJ,UAAUgP,IAAI,GAAD5O,OAAIrJ,EAAEwG,SAAUxG,EAAEyG,SAASwG,QAAQjN,GAAGR,KAAK4P,OAAO8I,cAAclY,IAAIA,EAAEqG,iBAAiB4G,QAAQjN,IAAIR,KAAK8M,YAAY6L,cAAcnY,GAAGR,KAAKsJ,iBAAiBkP,OAAOhY,IAAI,CAACoY,uBAAAA,CAAwBpY,EAAEF,EAAEF,GAAG,IAAI,IAAIP,EAAE,EAAEA,EAAEO,IAAIP,EAAE,CAAC,MAAMO,EAAEE,EAAET,GAAG,IAAIO,EAAE,SAAS,MAAML,EAAES,EAAEX,GAAG6B,EAAE1B,KAAKkJ,oBAAoBsF,IAAIzO,GAAG,GAAG2B,EAAE,CAAC,GAAGA,EAAE4F,UAAU,SAAStH,KAAKmO,0BAA0BzM,EAAE4F,WAAU,EAAGtH,KAAKoJ,gBAAgBa,IAAIvI,GAAG1B,KAAK4I,aAAalH,EAAE6F,WAAWvH,KAAK6I,cAAcnH,EAAE6F,WAAW7F,EAAEmF,iBAAiB4G,QAAQjN,IAAIR,KAAK8M,YAAY+L,oBAAoBrY,EAAEJ,GAAGJ,KAAKsL,mBAAmBwN,oBAAoB9Y,KAAK8M,YAAYiM,gBAAgBvY,MAAMR,KAAKyJ,UAAUgP,IAAI,GAAD5O,OAAI9J,GAAI,CAAC,CAAC,IAAI,IAAIF,EAAE,EAAEA,EAAEO,IAAIP,EAAE,CAAC,MAAMO,EAAEI,EAAEX,GAAGE,EAAEO,EAAET,GAAG,GAAGE,EAAE,SAAS,MAAM2B,EAAE1B,KAAKkJ,oBAAoBsF,IAAIpO,GAAG,GAAGsB,EAAE,CAAC,IAAIA,EAAE4F,UAAU,SAAStH,KAAKmO,0BAA0BzM,EAAE4F,WAAU,EAAGtH,KAAKoJ,gBAAgBoP,OAAO9W,GAAG1B,KAAK4I,aAAalH,EAAE6F,WAAWvH,KAAK6I,cAAcnH,EAAE6F,WAAW7F,EAAEmF,iBAAiB4G,QAAQjN,IAAIR,KAAK8M,YAAY+L,oBAAoBrY,EAAET,GAAGC,KAAKsL,mBAAmBwN,oBAAoB9Y,KAAK8M,YAAYiM,gBAAgBvY,MAAMR,KAAKyJ,UAAU4O,IAAI,GAADxO,OAAIzJ,GAAIsB,EAAE,CAAC,CAAC,CAAC4T,WAAAA,CAAY9U,EAAEF,EAAEF,EAAEP,GAAE,IAAAmZ,EAAAC,EAAC,IAAIlZ,EAAE,KAAK,GAAGS,GAAS,QAARwY,EAAE1Y,EAAEyQ,YAAI,IAAAiI,GAANA,EAAQE,QAAc,QAARD,EAAE3Y,EAAEuQ,YAAI,IAAAoI,GAANA,EAAQlG,OAAO,CAAC,MAAMrR,EAAEpB,EAAEyQ,KAAKmI,OAAQ,OAAD1Y,QAAC,IAADA,OAAC,EAADA,EAAG2Y,SAAS,GAAGpZ,EAAEK,EAAEoO,IAAI9M,IAAI3B,GAAG2B,EAAE,KAAA0X,EAAC,MAAM7X,EAAEvB,KAAK4P,OAAOhK,WAAWyT,iBAAiBC,WAAWC,iBAAiBzX,IAAIJ,EAAE8X,UAAUjY,EAAE,EAAEV,EAAE4Y,EAAY,QAAXL,EAAC5Y,EAAEkZ,gBAAQ,IAAAN,EAAAA,EAAE,QAAQ,IAAI5X,EAAEE,EAAEiY,MAAM,KAAK,KAAK,MAAM5Y,EAAE,IAAI6Y,WAAWtZ,EAAEuQ,KAAKkC,OAAOrR,EAAEmP,KAAKgJ,WAAWnY,EAAEmP,KAAKiJ,WAAW,IAAI1Y,EAAE,KAAKN,EAAE,KAAKc,EAAE,KAAK,OAAOF,EAAEqY,QAAQ,IAAI,MAAM,OAAOrY,EAAEsY,aAAa5Y,EAAEL,EAAES,EAAE,KAAKV,EAAE,IAAI,SAASY,EAAEsY,aAAa5Y,EAAEL,EAAES,EAAE,KAAKV,EAAE,IAAI,UAAUY,EAAEsY,cAAc5Y,EAAEL,EAAES,EAAE,KAAKV,EAAE,IAAI,MAAM,IAAI,OAAOM,EAAEL,EAAES,EAAE,KAAKV,EAAE,mBAAmB,MAAM,IAAI,OAAOM,EAAEL,EAAES,EAAE,KAAKV,EAAE,mBAAmB,MAAM,IAAI,QAAQM,EAAEL,EAAES,EAAE,KAAKV,EAAE,aAAa,MAAM,IAAI,MAAMA,EAAE,YAAYc,EAAEqY,SAASC,cAAc,OAAO,MAAM,IAAI,OAAOpZ,EAAE,aAAac,EAAEqY,SAASC,cAAc,OAAO,MAAM,IAAI,OAAOpZ,EAAE,YAAYc,EAAEqY,SAASC,cAAc,OAAO,MAAM,IAAI,OAAOla,KAAKkK,KAAK,EAAE,8BAA8B,MAAM,IAAI,QAAQlK,KAAKkK,KAAK,EAAE,+BAA+B,GAAGtI,GAAGd,EAAE,CAAC,MAAMN,EAAE,IAAI2Z,KAAK,CAACpZ,GAAG,CAAC2D,KAAK5D,IAAIc,EAAEwY,IAAIC,IAAIC,gBAAgB9Z,GAAGY,EAAEQ,CAAC,CAAC,GAAGR,GAAG,MAAMN,EAAE,CAAC,MAAMN,GAAEwI,EAAAA,EAAAA,GAAI,4CAA4C,CAACuR,mBAAmBva,KAAKsI,oBAAoBkS,oBAAoBha,IAAIA,GAAGA,EAAE,IAAIX,EAAEuH,oBAAoB5G,UAAK,EAAOT,EAAE,IAAI0a,EAAAA,EAAGrZ,EAAE,CAACsZ,OAAO5Y,EAAE6Y,cAAcpZ,EAAEqZ,SAAS9Z,EAAE+Z,KAAKha,EAAEmZ,YAAYxY,EAAEsZ,mBAAmBta,EAAEua,cAAa,EAAGC,MAAMtZ,EAAEuZ,UAAUC,OAAOxZ,EAAEyZ,aAAanb,KAAK4P,OAAOwL,WAAWrb,GAAGK,EAAE8F,IAAIxE,EAAE3B,EAAE,CAAC,CAAC,CAAC,OAAOA,EAAE,IAAIsb,EAAAA,EAAGrb,KAAK0F,KAAKC,MAAMC,WAAWqB,SAASlH,EAAEub,IAAI,IAAI,CAACxI,cAAAA,CAAetS,EAAEF,EAAEF,GAAG,IAAIP,EAAEE,EAAE2B,EAAEH,EAAEO,EAAEjB,EAAEW,EAAET,EAAE,KAAK,IAAI,IAAID,EAAE,EAAEA,EAAEN,EAAE+a,MAAMlT,OAAOvH,IAAI,CAAC,MAAMU,EAAEhB,EAAE+a,MAAMza,GAAGc,EAAEJ,EAAEkE,KAAK/D,OAAE,EAAOF,EAAEG,EAAEiY,WAAWjY,EAAEkY,UAAUjU,EAAEjE,EAAEkY,UAAU0B,EAAE5Z,EAAE8C,MAAMe,EAAE,IAAI+C,MAAM3C,GAAG4V,QAAQlP,IAAI/L,GAAGA,GAAG,IAAI,OAAOgB,EAAEka,KAAK,IAAI,WAAW,IAAI9Z,EAAE+Z,OAAO,QAAQ/Z,EAAE8C,KAAK1E,KAAKkK,KAAK,EAAE,wDAAwDtI,EAAE,MAAM/B,EAAE,IAAImT,EAAAA,GAAE1S,EAAEsB,EAAEiY,WAAWlY,EAAEF,GAAG1B,EAAE,IAAI6b,EAAAA,EAAG/b,EAAEsU,YAAY1O,EAAE,IAAI,MAAM,IAAI,SAAS,GAAG,IAAI7D,EAAE+Z,OAAO,QAAQ/Z,EAAE8C,KAAK1E,KAAKkK,KAAK,EAAE,sDAAsDtI,EAAE,SAAS,CAAC,MAAMpB,EAAE,IAAIwS,EAAAA,GAAE1S,EAAEsB,EAAEiY,WAAWlY,EAAEF,GAAG5B,GAAEgc,EAAAA,EAAAA,IAAGrb,EAAE2T,YAAY/T,GAAG0B,EAAE,IAAIiE,EAAAA,GAAElG,EAAEkT,QAAQlS,EAAE,IAAI+a,EAAAA,EAAG9Z,EAAEqS,YAAY1O,EAAE,EAAE,CAAC,MAAM,IAAI,WAAW,IAAI7D,EAAE+Z,OAAO,QAAQ/Z,EAAE8C,KAAK1E,KAAKkK,KAAK,EAAE,wDAAwDtI,EAAE,UAAK,IAASL,IAAIA,EAAE,IAAIqa,EAAAA,EAAG,IAAI5H,EAAAA,GAAE1T,EAAEsB,EAAEiY,WAAWlY,EAAEF,GAAG0S,YAAY1O,EAAE,IAAI,MAAM,IAAI,QAAQ,IAAI7D,EAAE+Z,OAAO,QAAQ/Z,EAAE8C,OAAO3D,EAAE,IAAI4Q,EAAAA,GAAErR,EAAEsB,EAAEiY,WAAWlY,EAAEF,IAAI,OAAOG,EAAE8C,OAAO3D,EAAE,IAAI6Q,EAAAA,GAAEtR,EAAEsB,EAAEiY,WAAWlY,EAAEF,IAAI,QAAQG,EAAE8C,OAAO3D,EAAE,IAAI8R,EAAAA,GAAEvS,EAAEsB,EAAEiY,WAAWlY,EAAEF,KAAK,IAAIG,EAAE+Z,QAAQ,QAAQ/Z,EAAE8C,OAAO3D,EAAE,IAAIiS,EAAAA,GAAE1S,EAAEsB,EAAEiY,WAAWlY,EAAEF,IAAI,OAAOG,EAAE8C,OAAO3D,EAAE,IAAImS,EAAAA,GAAE5S,EAAEsB,EAAEiY,WAAWlY,EAAEF,IAAI,QAAQG,EAAE8C,OAAO3D,EAAE,IAAIqS,EAAAA,GAAE9S,EAAEsB,EAAEiY,WAAWlY,EAAEF,KAAK,MAAMV,EAAEf,KAAKkK,KAAK,EAAE,qDAAqDtI,EAAE,KAAKF,EAAE,IAAIka,EAAAA,EAAG7a,EAAEoT,YAAY1O,EAAE7D,EAAE+Z,OAAO,MAAM,IAAI,eAAe,MAAM,QAAQ3b,KAAKkK,KAAK,EAAE,+CAA+C1I,EAAEka,IAAI,iCAAiC,CAAC,MAAMta,GAAGpB,KAAKkK,KAAK,EAAE,0BAA0B9I,EAAE,gCAAgC,CAAC,CAAC,GAAGZ,EAAEsb,MAAM,CAAC,MAAM1b,EAAEI,EAAEsb,MAAMpW,KAAK7F,OAAE,EAAOE,EAAEK,EAAEyZ,WAAWzZ,EAAE0Z,UAAU,OAAOtZ,EAAEsb,MAAMpW,KAAKhB,MAAM,IAAI,MAAMlD,EAAE,IAAIoS,EAAAA,EAAEtT,EAAEF,EAAEyZ,WAAWha,EAAEE,GAAG,MAAM,IAAI,MAAMyB,EAAE,IAAI8R,EAAAA,EAAEhT,EAAEF,EAAEyZ,WAAWha,EAAEE,GAAG,MAAM,QAAQC,KAAKkK,KAAK,EAAE,mDAAmD9J,EAAEsE,KAAK,MAAM,CAAC,GAAG,MAAMlD,GAAG,MAAM3B,EAAE,CAAC,MAAMW,EAAEX,EAAE4T,MAAM,GAAGjT,EAAE,MAAM,CAAC,MAAMF,EAAE,IAAIyb,YAAYvb,GAAGgB,EAAE,IAAIoS,EAAAA,EAAEtT,EAAEyS,OAAO,KAAK,CAAC,MAAMzS,EAAE,IAAI4T,YAAY1T,GAAGgB,EAAE,IAAI8R,EAAAA,EAAEhT,EAAEyS,OAAO,CAAC,IAAI,IAAIzS,EAAE,EAAEA,EAAEE,EAAEF,IAAIkB,EAAE0E,IAAI5F,EAAEA,EAAE,CAAC,MAAM,CAACgS,aAAazS,EAAE0S,aAAaxS,EAAE2S,UAAUhR,EAAEiR,cAAcpR,EAAEqR,YAAYpR,EAAEgR,YAAY1Q,EAAE2Q,YAAY5R,EAAE,CAACwJ,kBAAAA,GAAqB,GAAGrK,KAAKgc,cAAc,iBAAiB,MAAMhc,KAAKiG,MAAMmE,cAAc,YAAYpK,KAAKoI,eAAe,IAAI,MAAM5H,EAAER,KAAKiG,MAAMmE,cAAcpK,KAAK8L,WAAW9L,KAAKmK,iBAAiB8R,sBAAsB,IAAIzb,EAAE,IAAIR,KAAKoI,eAAe5H,EAAE0b,UAAUrc,EAAAA,IAAG,gBAAgB,CAACiK,oBAAAA,CAAqBtJ,GAAE,IAAA2b,EAAW,QAAVA,EAAAnc,KAAKmM,aAAK,IAAAgQ,GAAVA,EAAYC,oBAAoBpc,KAAKQ,EAAEwG,OAAOxG,EAAE+G,YAAYvH,KAAKuY,eAAe/X,EAAEwG,OAAO,CAACkD,IAAAA,CAAK1J,EAAEJ,GAAGJ,KAAKwJ,UAAUR,IAAIxI,KAAK,IAAIA,EAAEF,EAAAA,EAAE+b,UAAUrc,MAAMsc,MAAMlc,GAAGE,EAAAA,EAAE+b,UAAUrc,MAAMuc,KAAKnc,GAAG,IAAGI,EAAAA,EAAAA,IAAE,EAACsB,EAAAA,EAAAA,OAAKkG,GAAGwU,UAAU,cAAc,OAAMhc,EAAAA,EAAAA,IAAE,EAACsB,EAAAA,EAAAA,IAAE,CAAC4C,KAAK,CAACrD,EAAAA,MAAM2G,GAAGwU,UAAU,sBAAiB,IAAQhc,EAAAA,EAAAA,IAAE,EAACsB,EAAAA,EAAAA,OAAKkG,GAAGwU,UAAU,8CAAyC,IAAQhc,EAAAA,EAAAA,IAAE,EAACsB,EAAAA,EAAAA,OAAKkG,GAAGwU,UAAU,aAAQ,IAAQhc,EAAAA,EAAAA,IAAE,EAACsB,EAAAA,EAAAA,IAAE,CAAC2a,UAAS,KAAMzU,GAAGwU,UAAU,wBAAwB,OAAMhc,EAAAA,EAAAA,IAAE,EAACsB,EAAAA,EAAAA,OAAKkG,GAAGwU,UAAU,kBAAkB,MAAMxU,IAAGxH,EAAAA,EAAAA,IAAE,EAACK,EAAAA,EAAAA,GAAE,0DAA0DmH,IAAI,MAAM0U,GAAG1U,GAAG2U,IAAGnV,EAAAA,EAAAA,MAAI,SAASgM,GAAGhT,EAAEF,GAAG,MAAMF,GAAEwc,EAAAA,EAAAA,IAAGpc,GAAG,OAAOqF,EAAAA,EAAAA,GAAE8W,GAAGvc,EAAEmR,OAAOjR,GAAGF,EAAEmR,OAAOoL,GAAGvc,CAAC,C","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../node_modules/@arcgis/core/views/3d/layers/Lyr3DViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/lyr3dTypeConversions.js","../node_modules/@arcgis/core/views/3d/layers/support/Tiles3DIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../../../core/maybe.js\";import{isPromiseLike as t}from\"../../../../../core/promiseUtils.js\";class s{constructor(s,r){this._textures=s,this.loadPromise=null,this._disposed=!1;const i=this._textures.acquire(r);t(i)?(i.then(t=>{this._disposed?e(t):this._textureRef=t}),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return this._textureRef?.glTexture}}export{s as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../core/mathUtils.js\";import{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getProjectorClassification as t,copy3 as s,projectionTable as n,wgs84ToWebMercator as o}from\"./projectors.js\";import{earth as i}from\"../support/Ellipsoid.js\";import{a as c,e as a}from\"../../chunks/sphere.js\";function l(e,r,l,m){if(null==r||null==m)return!1;const d=t(r,m);if(null==d?.projector)return!1;if(d.projector===s)return e!==l&&(l[0]=e[0],l[1]=e[1],l[2]=e[2],l[3]=e[3]),!0;const{source:j,dest:h,projector:I}=d;if(3===h.spatialReferenceId){const r=n[j.spatialReferenceId][2];if(null==r)return!1;r(c(e),0,f,0),o(f,0,p,0);const t=u(f[1],e[2],e[3],i.radius);return a(l,p,t),!0}if(2!==j.spatialReferenceId&&5!==j.spatialReferenceId||11!==h.spatialReferenceId){I(c(e),0,p,0);const r=j.metersPerUnit??1,t=h.metersPerUnit??1,s=e[3]*r/t;a(l,p,s)}else{const r=n[j.spatialReferenceId][1],t=n[1][11];let s=e[3];null!=r&&null!=t&&(s=u(e[1],e[2],e[3],i.radius)),I(c(e),0,p,0),a(l,p,s)}return!0}function u(e,r,t,s){const n=s+r;if(n<s/2||t>n)return Number.MAX_VALUE;const o=Math.abs(m*e)+Math.asin(t/n);return o>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(o)}const f=r(),p=r(),m=e(1);export{l as projectBoundingSphere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,h,c){super(e,0,0,0,t),this.nodesCached=s,this.vboMB=r,this.textureMB=o,this.vboMBCached=h,this.textureMBCached=c}}export{t as Lyr3DViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{PrimitiveType as t}from\"../../../webgl/enums.js\";const n={Points:null,Lines:null,LineStrip:null,Triangles:t.TRIANGLES,TriangleStrip:t.TRIANGLE_STRIP,NotSet:null},e={Opaque:1,Mask:2,Blend:0},l={Back:2,Front:1,None:0,NotSet:2},o={WrapYBit:{s:33071,t:10497},WrapXBit:{s:10497,t:33071},WrapXy:{s:10497,t:10497},None:{s:33071,t:33071},NotSet:{s:33071,t:33071}},r={U8:1,I8:1,U16:2,I16:2,U32:4,I32:4,F32:4,F64:8,Utf8String:1,NotSet:1};export{e as alphaModeConversion,l as faceCullingConversion,r as lyr3DTypeToByteSize,n as primTypeConversion,o as wrapModeConversion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{a as e,n as i}from\"../../../../chunks/vec32.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Tiles3DTarget as s}from\"../i3s/Intersector.js\";import{IntersectorResult as n}from\"../../webgl-engine/lib/IntersectorResult.js\";import{MeshIntersectionOptions as r,computeInvDir as o,intersectAabbInvDir as l}from\"../../webgl-engine/lib/RayIntersections.js\";class a{constructor(e){this.layerView=e,this.type=8,this.slicePlaneEnabled=!1,this.isGround=!0,this.layerViewUid=e.uid}intersect(a,u,d,m,f,p){if(a.options.filteredLayerViewUids.includes(this.layerView.uid))return;const{results:h,tolerance:w}=a,y=2===a.options.store,{componentObjectCollection:b}=this.layerView.view.stage.renderView,g=new r(w,p,a.options.normalRequired),V=o(d,m,c),j=e(t(),m,d),x=i(t(),j),I=(e,i,t)=>{if(i>=0){if(null!=u&&!u(d,m,i))return;const e=e=>{const n=new s(this.layerView.layer.uid);e.set(this.type,n,i,t)};if(this.isGround&&(null==h.ground.distance||i<h.ground.distance)&&e(h.ground),a.options.isFiltered)return;if((null==h.min.distance||i<h.min.distance)&&e(h.min),(null==h.max.distance||i>h.max.distance)&&e(h.max),y){const i=new n(a.ray);e(i),a.results.all.push(i)}}};this.layerView.forEachVisibleTile(e=>{if(!e.boundingVolumeIntersectsRay(d,x))return;const{componentObjects:i}=e;for(const t of i)l(t.aabbInWorldCoordinates,d,V,0)&&b.intersect(t,d,m,null,g,I)})}}const c=t();export{a as Tiles3DIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import has from\"../../../core/has.js\";import t from\"../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{initial as s,watch as r,when as o}from\"../../../core/reactiveUtils.js\";import{schedule as n}from\"../../../core/scheduling.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as c,invert as d}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as h,IDENTITY as m}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{create as u}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as p}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{o as f,g,a as b,f as y}from\"../../../chunks/vec32.js\";import{fromArray as _,clone as w,create as v}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as j}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{SphericalECEFSpatialReferenceLike as x}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as C}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{localLinearScaleFactors as M}from\"../../../geometry/projection/localLinearScaleFactors.js\";import{projectVectorToVector as O}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as T}from\"../../../geometry/support/aaBoundingRect.js\";import{BufferViewVec2f as P,BufferViewVec4f as U,BufferViewVec4u8 as H,BufferViewVec4u16 as S,BufferViewVec3f as E,BufferViewVec3u8 as R,BufferViewVec3u16 as F,BufferViewInt16 as V,BufferViewUint32 as A,BufferViewUint16 as k}from\"../../../geometry/support/buffer/BufferView.js\";import I from\"../../../layers/support/SceneModification.js\";import{getElevationOffsetInMeters as D}from\"../../../support/elevationInfoUtils.js\";import{toWasmModification as L}from\"./I3SMeshWorkerHandle.js\";import{LayerView3D as B}from\"./LayerView3D.js\";import{Lyr3DViewPerformanceInfo as G}from\"./Lyr3DViewPerformanceInfo.js\";import{addLayerViewToWasm as z,removeLayerViewFromWasm as N,getLyr3DWasm as W}from\"./Lyr3DWasm.js\";import{LayerElevationProvider as $}from\"./i3s/LayerElevationProvider.js\";import{primTypeConversion as q,wrapModeConversion as J,lyr3DTypeToByteSize as K,alphaModeConversion as Q,faceCullingConversion as X}from\"./support/lyr3dTypeConversions.js\";import{Tiles3DIntersectionHandler as Y}from\"./support/Tiles3DIntersectionHandler.js\";import{ElevationRange as Z}from\"../support/ElevationRange.js\";import{toBoundingRect as ee}from\"../support/extentUtils.js\";import{Obb as te,compute as ie}from\"../support/orientedBoundingBox.js\";import{ObjectParameters as se}from\"../webgl-engine/collections/Component/ObjectParameters.js\";import{GeometryParameters as re,createVertexBufferLayout as oe,SourceGeometry as ne}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{Transform as ae}from\"../webgl-engine/collections/Component/Transform.js\";import{RenderTexture as le}from\"../webgl-engine/core/material/RenderTexture.js\";import{getEllipsoidMode as ce}from\"../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Attribute as de}from\"../webgl-engine/lib/Attribute.js\";import{compressAndTransformNormals as he}from\"../webgl-engine/lib/Normals.js\";import{Texture as me}from\"../webgl-engine/lib/Texture.js\";import{writeAttribute as ue,writeBufferVec2 as pe}from\"../webgl-engine/materials/internal/bufferWriterUtils.js\";import fe from\"../../layers/LayerView.js\";import{spatialReferenceIncompatibleError as ge,isInEffectiveScaleRange as be}from\"../../support/layerViewUtils.js\";import{TextureCompressionTracker as ye}from\"../../support/TextureCompressionTracker.js\";import{alphaCutoff as _e}from\"../../../webscene/support/AlphaCutoff.js\";class we{constructor(e,t,i,s,r,o,n){this.handle=e,this.componentObjects=t,this.textures=i,this.cpuMemoryUsage=s,this.vboMemoryUsage=r,this.textureMemoryUsage=o,this.obb=n,this.isVisible=!1,this.usedMemory=this.textureMemoryUsage+this.vboMemoryUsage+this.cpuMemoryUsage;const a=v();n?.getCenter(a),this._obbCenter=a,this._obbRadiusSquared=n?n?.radius**2:0}boundingVolumeIntersectsRay(e,t){if(!this.obb)return!0;const i=b(ve,this._obbCenter,e),s=y(i,t);return y(i,i)-s*s<=this._obbRadiusSquared&&this.obb.intersectRay(e,t)}}const ve=v();function je(e){return Math.round(e/1048.576)/1e3}let xe=class extends(B(fe)){get hasModifications(){return this._modifications&&this._modifications.length>0}constructor(e){super(e),this.type=\"integrated-mesh-3dtiles\",this._compressionTracker=new ye,this._modifications=new Array,this._visibleGeometryChangedSchedulerHandle=null,this._wasmLayerId=-1,this.ignoresMemoryFactor=!1,this._usedMemory=0,this._cacheMemory=0,this.drapeTargetType=1,this._applySSAO=!has(\"disable-feature:im-ssao\"),this._shadeNormals=!!has(\"enable-feature:im-shading\"),this._lyrHandleToObjects=new Map,this._visibleObjects=new Set,this._initialCullFace=new Map,this._suspendedHandle=null,this._dbgFlags=new Set,this._memCache=e.view.resourceController.memoryController.newCache(`IM3DTiles-${this.uid}`,e=>this._deletePerObjectData(e))}initialize(){this._dbgFlags.add(3),this._dbg(2,\"Tiles3DLayerView3D initialize() called\");const{view:e}=this;if(this._updatingHandles.add(()=>this.layer.modifications,()=>this._loadModifications(),s),!this._canProjectWithoutEngine())throw ge(\"layer\",this.layer.spatialReference.wkid,e.renderSpatialReference?.wkid);const t=z(this).then(t=>{this._wasmLayerId=t,this._intersectionHandler=new Y(this),e.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler),this._updatingHandles.add(()=>this.slicePlaneEnabled,e=>this._slicePlaneEnabledChange(e)),this._updatingHandles.add(()=>this._modifications,()=>this._modificationsChanged(),s),this._updatingHandles.add(()=>this.fullOpacity,()=>this._opacityChange()),this._updatingHandles.add(()=>e.clippingArea,()=>this._clippingAreaChanged(),s),this._elevationProvider=new $({view:e,layerElevationSource:this,intersectionHandler:this._intersectionHandler}),e.elevationProvider.register(1,this._elevationProvider),e.overlayManager.registerDrapeTarget(this),this.addHandles([r(()=>this.layer.elevationInfo,e=>this._elevationInfoChanged(e))]),this._suspendedHandle=r(()=>this.suspended,e=>this._wasm?.setEnabled(this,!e),s)});this.addResolvingPromise(t),this._replacesTerrain&&this.addHandles(o(()=>this.view.map.ground.opacity,()=>{this._opacityChange()}))}get _replacesTerrain(){return this.layer.replacesTerrain&&!!this.view.map.basemap?.groundLayers.includes(this.layer)}get fullOpacity(){return this._replacesTerrain?this.view.map.ground.opacity:1}get opacity(){return 1}_opacityChange(){const{fullOpacity:e}=this;this.forEachComponentObject(t=>{this._collection.getMaterial(t).objectOpacity=e})}intersect(e,t,i,s){this._intersectionHandler.intersect(e,t,i,s,null,!1)}get ready(){return!0}destroy(){this._dbg(2,\"Tiles3DLayerView3D destroy() called\"),N(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null),this._intersectionHandler&&(this.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null),this._elevationProvider&&(this._elevationProvider.notifyObjectsChangedFunctional(e=>this.forEachComponentObject(t=>e(t.obb))),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this.view.overlayManager.unregisterDrapeTarget(this),this._lyrHandleToObjects.forEach(e=>this.freeObject(e)),this._lyrHandleToObjects.clear(),this._initialCullFace.clear(),this._visibleObjects.clear(),this._usedMemory=0,this._cacheMemory=0,this._memCache.destroy(),this._updatingHandles=i(this._updatingHandles),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}_modificationsChanged(){const e=this.layer.spatialReference,t=L(this._layerClippingArea,this._modifications,e);this._wasm?.setMeshModifications(this,t,e.wkid)}_clippingAreaChanged(){const e=this.layer.spatialReference,t=T();this._layerClippingArea=ee(this.view.clippingArea,t,e)?t:null,this._modificationsChanged()}_visibleGeometryChanged(){this._visibleGeometryChangedSchedulerHandle??=n(()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null})}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),this.forEachComponentObject(t=>{const i=this._collection.getMaterial(t);i.commonMaterialParameters.hasSlicePlane=e,i.commonMaterialParameters.cullFace=e?0:this._initialCullFace.get(t)})}_elevationInfoChanged(e){this._wasm?.setLayerOffset(this,D(e))}get _wasm(){return W(this.view)}get wasmLayerId(){return this._wasmLayerId}get usedMemory(){return this._usedMemory}get unloadedMemory(){return 0}get cachedMemory(){return this._cacheMemory}get visibleAtCurrentScale(){return be(this.layer.effectiveScaleRange,this.view.scale)}get performanceInfo(){let e=0,t=0,i=0,s=0,r=0,o=0;return this._lyrHandleToObjects.forEach(n=>{n.isVisible?(e+=n.textureMemoryUsage,t+=n.vboMemoryUsage,r++):(i+=n.textureMemoryUsage,s+=n.vboMemoryUsage,o++)}),new G(this.usedMemory,r,o,je(t),je(e),je(s),je(i))}_canProjectWithoutEngine(){if(2===this.view.state.viewingMode){const e=this.view.renderSpatialReference?.isWebMercator?3857:this.view.renderSpatialReference?.wkid??-1;if(3857!==e&&32662!==e)return!1}return!0}get _stage(){return this.view.stage}get _collection(){return this._stage.renderView.componentObjectCollection}get elevationProvider(){return this._elevationProvider}get elevationOffset(){return D(this.layer.elevationInfo)}get elevationRange(){const e=this.fullExtent;return e?.zmin&&e?.zmax?new Z(e.zmin,e.zmax):null}getElevationRange(e){return null}get fullExtent(){return this.layer.fullExtent}forEachComponentObject(e){this._forEachObject(this._lyrHandleToObjects.values(),e)}forEachVisibleTile(e){for(const t of this._visibleObjects)e(t)}forEachVisibleComponentObject(e){this._forEachObject(this._visibleObjects,e)}_forEachObject(e,t){for(const i of e)for(const e of i.componentObjects)t(e)}isUpdating(){const e=this._wasm;return!(this._wasmLayerId<0||null==e)&&(e.isUpdating(this._wasmLayerId)||this._compressionTracker.compressing)}updatingFlagChanged(){this.notifyChange(\"updating\")}async createRenderable(e){const t=e.meshData;if(null==t.data)throw new Error(\"meshData.data undefined\");if(t.desc=JSON.parse(t.desc),null==t.desc)throw new Error(\"meshData.desc undefined\");const i=_(t.desc.origin),s=new Array,r=this.view.basemapTerrain.spatialReference;let o,n;if(\"global\"===this.view.viewingMode){const e=u();C(x,i,e,r),o=c(h(),e),n=d(h(),o)}else o=m,n=m;const a=w(i),l=v(),p=Te(t.desc.obb);let g=0,b=0;const y={textureMemoryUsage:0},T=new Array,U=new Map,H=t.desc.prims.length;for(let c=0;c<H;c++){const e=t.desc.prims[c];this._dbg(2,JSON.stringify(e));if(null==q[e.ptype]||null==t.data){this._dbg(2,\"[Unsupported Feature] Unsupported primitive mode (\"+e.ptype+\"). Skipping primitive.\");continue}const d=t.desc?.materials&&null!=e.materialId?t.desc.materials[e.materialId]:null,h=null!=d?d.lightingModel:\"Unlit\",{positionView:u,positionAttr:_,normalsView:w,normalsAttr:x,colorAttr:C,texCoord0Attr:H,indicesView:S}=this.getBufferViews(e,t.data.buffer,o);if(null==_||null==u||null==S)continue;const E=new re(null!=C,H?1:0,null!=w,this._shadeNormals||this._replacesTerrain,this._applySSAO),R=_.data.length/_.size,F=(e,t)=>!e||e.data.length/e.size===R||(this._dbg(3,`${t} !== numPos. Skipping primitive.`),!1);if(!F(H,\"numTexcoord\")||!F(C,\"numColors\")||!F(x,\"normals\"))continue;const V=oe(E),A=p?.clone()??Oe(_,i);if(o!==m)for(let t=0;t<u.count;t++)u.getVec(t,l),f(l,l,o),u.setVec(t,l);const k=V.createBuffer(_.data.length);if(ue(\"position\",_,null,null,k,0),null!=H){const e=k.getField(\"uv0\",P);pe(H,e,0)}null!=C&&ue(\"color\",C,null,null,k,0),null!=x&&ue(\"normalCompressed\",x,null,null,k,0);const I=new Uint32Array([0,S.typedBuffer.length]),D=new ne({data:k.buffer,count:k.byteLength/V.stride,layoutParameters:E},{positions:u.typedBuffer,indices:S.typedBuffer},S.typedBuffer,I);g+=u.count+S.count;const L=this.view.renderSpatialReference,B=v(),G=[1,1,1];M(a,L,G,r)||this._dbg(3,\"Unsupported coordinate system for IM overlay\"),O(a,L,B,r);const z=this._collection.createObject(new se(j(B[0],B[1],G[0],G[1]),new ae(a,n),A,D,!1));if(d){const e=e=>{e.baseColor=d.baseColorFactor,e.usePBR=\"Pbr\"===h,e.hasParametersFromSource=!1,e.baseColorTexture=this._getTexture(d.baseColorTex,t,U,y),e.usePBR&&(e.mrrFactors=[d.metallicFactor,d.roughnessFactor,0],e.emissiveBaseColor=d.emissiveFactor??[0,0,0],e.metallicRoughnessTexture=this._getTexture(d.metalTex,t,U,y),e.emissionTexture=this._getTexture(d.emissiveTex,t,U,y),e.occlusionTexture=this._getTexture(d.occlusionTex,t,U,y),e.normalTexture=this._getTexture(d.normalTex,t,U,y)),e.objectOpacity=0,e.alphaDiscardMode=2;const i=[];e.baseColorTexture&&i.push(e.baseColorTexture.loadPromise),e.usePBR&&(e.metallicRoughnessTexture&&i.push(e.metallicRoughnessTexture.loadPromise),e.emissionTexture&&i.push(e.emissionTexture.loadPromise),e.occlusionTexture&&i.push(e.occlusionTexture.loadPromise),e.normalTexture&&i.push(e.normalTexture.loadPromise));const r=Promise.all(i);s.push(r),r.then(()=>{e.alphaDiscardMode=Q[d.alphaMode],e.objectOpacity=this.fullOpacity,y.textureMemoryUsage+=e.baseColorTexture?.glTexture?.usedMemory??0,e.usePBR&&(y.textureMemoryUsage+=(e.metallicRoughnessTexture?.glTexture?.usedMemory??0)+(e.emissionTexture?.glTexture?.usedMemory??0)+(e.occlusionTexture?.glTexture?.usedMemory??0)+(e.normalTexture?.glTexture?.usedMemory??0))}),e.commonMaterialParameters.doubleSided=d.isDoubleSided,e.commonMaterialParameters.cullFace=d.faceCulling?X[d.faceCulling]:0,this._initialCullFace.set(z,e.commonMaterialParameters.cullFace),e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.componentParameters.castShadows=0,e.textureAlphaCutoff=d.alphaCutoff??_e,e.alphaDiscardMode=Q[d.alphaMode],e.isIntegratedMesh=!0,e.sphereDepthInterpolate=this.layer.hasGoogleUrl,e.polygonOffsetEnabled=!1,e.hasOccludees=!1,e.ellipsoidMode=ce(this.view.spatialReference)};this._collection.updateMaterial(z,e)}T.push(z),b+=this._collection.getObjectGPUMemoryUsage(z)}await Promise.all(s);const S=new Array;U.forEach(e=>{S.push(e)});const E=new we(e.handle,T,S,g,b,y.textureMemoryUsage,p);return this._memCache.put(`${E.handle}`,E),this._lyrHandleToObjects.set(e.handle,E),this._cacheMemory+=E.usedMemory,{memUsageBytes:E.usedMemory}}freeRenderable(e){const t=this._lyrHandleToObjects.get(e);t&&(t.isVisible?(this._visibleObjects.delete(t),this._usedMemory-=t.usedMemory):this._cacheMemory-=t.usedMemory,this.freeObject(t),this._lyrHandleToObjects.delete(e))}freeObject(e){this._memCache.pop(`${e.handle}`),e.textures.forEach(e=>this._stage.removeTexture(e)),e.componentObjects.forEach(e=>{this._collection.destroyObject(e),this._initialCullFace.delete(e)})}setRenderableVisibility(e,t,i){for(let s=0;s<i;++s){const i=t[s];if(!i)continue;const r=e[s],o=this._lyrHandleToObjects.get(r);if(o){if(o.isVisible)continue;this._visibleGeometryChanged(),o.isVisible=!0,this._visibleObjects.add(o),this._usedMemory+=o.usedMemory,this._cacheMemory-=o.usedMemory,o.componentObjects.forEach(e=>{this._collection.setObjectVisibility(e,i),this._elevationProvider.notifyObjectChanged(this._collection.getComponentObb(e))}),this._memCache.pop(`${r}`)}}for(let s=0;s<i;++s){const i=e[s],r=t[s];if(r)continue;const o=this._lyrHandleToObjects.get(i);if(o){if(!o.isVisible)continue;this._visibleGeometryChanged(),o.isVisible=!1,this._visibleObjects.delete(o),this._usedMemory-=o.usedMemory,this._cacheMemory+=o.usedMemory,o.componentObjects.forEach(e=>{this._collection.setObjectVisibility(e,r),this._elevationProvider.notifyObjectChanged(this._collection.getComponentObb(e))}),this._memCache.put(`${i}`,o)}}}_getTexture(e,t,i,s){let r=null;if(e&&t.desc?.images&&t.data?.buffer){const o=t.desc.images[e?.imageId];if(r=i.get(o),!r&&o){const n=this._stage.renderView.renderingContext.parameters.maxMaxAnisotropy,a=!!o.mipCount||n>1,l=J[e.wrapMode??\"None\"];let c=o.alpha?6408:6407;const d=new Uint8Array(t.data.buffer,o.data.byteOffset,o.data.byteCount);let h=null,m=null,u=null;switch(o.format){case\"Raw\":\"R8\"===o.pixelFormat?(h=d,c=6403,m=\"\"):\"Rgb8\"===o.pixelFormat?(h=d,c=6407,m=\"\"):\"Rgba8\"===o.pixelFormat&&(h=d,c=6408,m=\"\");break;case\"Dxt1\":h=d,c=6407,m=\"image/vnd-ms.dds\";break;case\"Dxt5\":h=d,c=6408,m=\"image/vnd-ms.dds\";break;case\"Basis\":h=d,c=6407,m=\"image/ktx2\";break;case\"Png\":m=\"image/png\",u=document.createElement(\"img\");break;case\"Jpeg\":m=\"image/jpeg\",u=document.createElement(\"img\");break;case\"Etc2\":m=\"image/ktx\",u=document.createElement(\"img\");break;case\"Astc\":this._dbg(3,\"Astc texture not supported\");break;case\"Pvrtc\":this._dbg(3,\"Pvrtc texture not supported\")}if(u&&m){const e=new Blob([d],{type:m});u.src=URL.createObjectURL(e),h=u}if(h&&null!=m){const e=has(\"enable-feature:esri-compress-IM-textures\")?{compressionTracker:this._compressionTracker,compressionCallback:e=>{e&&e>0&&(s.textureMemoryUsage-=e)}}:void 0;r=new me(h,{mipmap:a,maxAnisotropy:n,encoding:m,wrap:l,pixelFormat:c,compressionOptions:e,noUnpackFlip:!0,width:o.mip0Width,height:o.mip0Height}),this._stage.addTexture(r),i.set(o,r)}}}return r?new le(this.view.stage.renderView.textures,r.id):null}getBufferViews(e,t,i){let s,r,o,n,a,l,c,d=null;for(let m=0;m<e.atrbs.length;m++){const c=e.atrbs[m],u=c.view,p=void 0,f=u.byteOffset+u.byteCount,g=u.byteCount/K[u.type],b=[...Array(g).keys()].map(e=>e);try{switch(c.sem){case\"Position\":3!==u.ncomp||\"F32\"!==u.type?this._dbg(3,\"[Unsupported Feature] Unsupported view for Position (\"+u+\")\"):(s=new E(t,u.byteOffset,p,f),r=new de(s.typedBuffer,b,3));break;case\"Normal\":if(3!==u.ncomp||\"F32\"!==u.type)this._dbg(3,\"[Unsupported Feature] Unsupported view for Normal (\"+u+\")\");else{const e=new E(t,u.byteOffset,p,f),s=he(e.typedBuffer,i);a=new V(s.buffer),l=new de(a.typedBuffer,b,2)}break;case\"TexCoord\":2!==u.ncomp||\"F32\"!==u.type?this._dbg(3,\"[Unsupported Feature] Unsupported view for Texcoord (\"+u+\")\"):void 0===n&&(n=new de(new P(t,u.byteOffset,p,f).typedBuffer,b,2));break;case\"Color\":4===u.ncomp?(\"F32\"===u.type&&(d=new U(t,u.byteOffset,p,f)),\"U8\"===u.type&&(d=new H(t,u.byteOffset,p,f)),\"U16\"===u.type&&(d=new S(t,u.byteOffset,p,f))):3===u.ncomp&&(\"F32\"===u.type&&(d=new E(t,u.byteOffset,p,f)),\"U8\"===u.type&&(d=new R(t,u.byteOffset,p,f)),\"U16\"===u.type&&(d=new F(t,u.byteOffset,p,f))),null==d?this._dbg(2,\"[Unsupported Feature] Unsupported view for Color (\"+u+\")\"):o=new de(d.typedBuffer,b,u.ncomp);break;case\"FeatureIndex\":break;default:this._dbg(2,\"[Unsupported Feature] Unsupported semantic (\"+c.sem+\"). Skipping vertex attribute.\")}}catch(h){this._dbg(2,\"Error Creating buffer (\"+h+\"). Skipping vertex attribute.\")}}if(e.index){const i=e.index.view,s=void 0,r=i.byteOffset+i.byteCount;switch(e.index.view.type){case\"U16\":c=new k(t,i.byteOffset,s,r);break;case\"U32\":c=new A(t,i.byteOffset,s,r);break;default:this._dbg(3,\"[Unsupported Feature] index type not supported (\"+i.type+\").\")}}if(null==c&&null!=s){const e=s.count;if(e<65535){const t=new Uint16Array(e);c=new k(t.buffer)}else{const t=new Uint32Array(e);c=new A(t.buffer)}for(let t=0;t<e;t++)c.set(t,t)}return{positionView:s,positionAttr:r,colorAttr:o,texCoord0Attr:n,indicesView:c,normalsView:a,normalsAttr:l}}_loadModifications(){if(this.removeHandles(\"modifications\"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange(()=>e,()=>this._modifications=e.toArray(),s),\"modifications\")}_deletePerObjectData(e){this._wasm?.onRenderableEvicted(this,e.handle,e.usedMemory),this.freeRenderable(e.handle)}_dbg(e,i){this._dbgFlags.has(e)&&(3===e?t.getLogger(this).error(i):t.getLogger(this).warn(i))}};e([a()],xe.prototype,\"fullOpacity\",null),e([a({type:[I]})],xe.prototype,\"_modifications\",void 0),e([a()],xe.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([a()],xe.prototype,\"layer\",void 0),e([a({readOnly:!0})],xe.prototype,\"visibleAtCurrentScale\",null),e([a()],xe.prototype,\"elevationOffset\",null),xe=e([l(\"esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D\")],xe);const Ce=xe,Me=v();function Oe(e,t){const i=ie(e);return g(Me,i.center,t),i.center=Me,i}function Te(e){return e?new te(e.center,e.halfSize,p(...e.quaternion)):null}export{Ce as default};\n"],"names":["s","constructor","r","this","_textures","loadPromise","_disposed","i","acquire","t","then","e","_textureRef","dispose","glTexture","_this$_textureRef","l","m","d","projector","source","j","dest","h","I","spatialReferenceId","n","c","f","o","p","u","radius","a","_j$metersPerUnit","_h$metersPerUnit","metersPerUnit","Number","MAX_VALUE","Math","abs","asin","PI","cos","super","nodesCached","vboMB","textureMB","vboMBCached","textureMBCached","Points","Lines","LineStrip","Triangles","TRIANGLES","TriangleStrip","TRIANGLE_STRIP","NotSet","Opaque","Mask","Blend","Back","Front","None","WrapYBit","WrapXBit","WrapXy","U8","I8","U16","I16","U32","I32","F32","F64","Utf8String","layerView","type","slicePlaneEnabled","isGround","layerViewUid","uid","intersect","options","filteredLayerViewUids","includes","results","tolerance","w","y","store","componentObjectCollection","b","view","stage","renderView","g","normalRequired","V","x","layer","set","ground","distance","isFiltered","min","max","ray","all","push","forEachVisibleTile","boundingVolumeIntersectsRay","componentObjects","aabbInWorldCoordinates","we","handle","textures","cpuMemoryUsage","vboMemoryUsage","textureMemoryUsage","obb","isVisible","usedMemory","v","getCenter","_obbCenter","_obbRadiusSquared","ve","intersectRay","je","round","xe","B","fe","hasModifications","_modifications","length","_compressionTracker","ye","Array","_visibleGeometryChangedSchedulerHandle","_wasmLayerId","ignoresMemoryFactor","_usedMemory","_cacheMemory","drapeTargetType","_applySSAO","has","_shadeNormals","_lyrHandleToObjects","Map","_visibleObjects","Set","_initialCullFace","_suspendedHandle","_dbgFlags","_memCache","resourceController","memoryController","newCache","concat","_deletePerObjectData","initialize","_e$renderSpatialRefer","add","_dbg","_updatingHandles","modifications","_loadModifications","_canProjectWithoutEngine","ge","spatialReference","wkid","renderSpatialReference","z","_intersectionHandler","Y","sceneIntersectionHelper","addIntersectionHandler","_slicePlaneEnabledChange","_modificationsChanged","fullOpacity","_opacityChange","clippingArea","_clippingAreaChanged","_elevationProvider","$","layerElevationSource","intersectionHandler","elevationProvider","register","overlayManager","registerDrapeTarget","addHandles","elevationInfo","_elevationInfoChanged","suspended","_this$_wasm","_wasm","setEnabled","addResolvingPromise","_replacesTerrain","map","opacity","_this$view$map$basema","replacesTerrain","basemap","groundLayers","forEachComponentObject","_collection","getMaterial","objectOpacity","ready","destroy","N","remove","removeIntersectionHandler","notifyObjectsChangedFunctional","unregister","unregisterDrapeTarget","forEach","freeObject","clear","emit","_this$_wasm2","L","_layerClippingArea","setMeshModifications","T","ee","_visibleGeometryChanged","_this$_visibleGeometr","commonMaterialParameters","hasSlicePlane","cullFace","get","_this$_wasm3","setLayerOffset","D","W","wasmLayerId","unloadedMemory","cachedMemory","visibleAtCurrentScale","be","effectiveScaleRange","scale","performanceInfo","G","state","viewingMode","_this$view$renderSpat","_this$view$renderSpat2","_this$view$renderSpat3","isWebMercator","_stage","elevationOffset","elevationRange","fullExtent","zmin","zmax","Z","getElevationRange","_forEachObject","values","forEachVisibleComponentObject","isUpdating","compressing","updatingFlagChanged","notifyChange","createRenderable","meshData","data","Error","desc","JSON","parse","_","origin","basemapTerrain","C","te","center","halfSize","quaternion","Te","U","H","prims","_t$desc","_p$clone","stringify","q","ptype","materials","materialId","lightingModel","positionView","positionAttr","normalsView","normalsAttr","colorAttr","texCoord0Attr","indicesView","S","getBufferViews","buffer","E","re","R","size","F","oe","A","clone","Oe","count","getVec","setVec","k","createBuffer","ue","getField","P","pe","Uint32Array","typedBuffer","ne","byteLength","stride","layoutParameters","positions","indices","M","O","createObject","se","ae","_d$emissiveFactor","_d$alphaCutoff","baseColor","baseColorFactor","usePBR","hasParametersFromSource","baseColorTexture","_getTexture","baseColorTex","mrrFactors","metallicFactor","roughnessFactor","emissiveBaseColor","emissiveFactor","metallicRoughnessTexture","metalTex","emissionTexture","emissiveTex","occlusionTexture","occlusionTex","normalTexture","normalTex","alphaDiscardMode","Promise","_e$baseColorTexture$g","_e$baseColorTexture","_e$metallicRoughnessT","_e$metallicRoughnessT2","_e$emissionTexture$gl","_e$emissionTexture","_e$occlusionTexture$g","_e$occlusionTexture","_e$normalTexture$glTe","_e$normalTexture","Q","alphaMode","doubleSided","isDoubleSided","faceCulling","X","componentParameters","castShadows","textureAlphaCutoff","alphaCutoff","_e","isIntegratedMesh","sphereDepthInterpolate","hasGoogleUrl","polygonOffsetEnabled","hasOccludees","ellipsoidMode","ce","updateMaterial","getObjectGPUMemoryUsage","put","memUsageBytes","freeRenderable","delete","pop","removeTexture","destroyObject","setRenderableVisibility","setObjectVisibility","notifyObjectChanged","getComponentObb","_t$desc2","_t$data","images","imageId","_e$wrapMode","renderingContext","parameters","maxMaxAnisotropy","mipCount","J","wrapMode","alpha","Uint8Array","byteOffset","byteCount","format","pixelFormat","document","createElement","Blob","src","URL","createObjectURL","compressionTracker","compressionCallback","me","mipmap","maxAnisotropy","encoding","wrap","compressionOptions","noUnpackFlip","width","mip0Width","height","mip0Height","addTexture","le","id","atrbs","K","keys","sem","ncomp","de","he","index","Uint16Array","removeHandles","addOnCollectionChange","toArray","_this$_wasm4","onRenderableEvicted","getLogger","error","warn","prototype","readOnly","Ce","Me","ie"],"sourceRoot":""}