{"version":3,"file":"static/js/66167.969d33d1.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLSymbol.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrush.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLBackground.js","../node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLCircle.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLFill.js","../node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushVTLLine.js","../node_modules/@arcgis/core/views/webgl/ShaderCompiler.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as e,fromValues as t}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fadeDuration as i}from\"../../vectorTiles/decluttering/config.js\";import{RotationAlignment as a,SymbolPlacement as r,TranslateAnchor as n}from\"../../vectorTiles/style/StyleDefinition.js\";import{vtlTextureBindingUnitSprites as s,vtlTextureBindingUnitGlyphs as o}from\"../definitions.js\";import{degToByte as l}from\"../GeometryUtils.js\";import f from\"./WGLBrush.js\";import{TextureSamplingMode as c,PrimitiveType as u,DataType as p,CompareFunction as m}from\"../../../../webgl/enums.js\";const g=1/65536;class d extends f{constructor(){super(...arguments),this._iconProgramOptions={id:!1,sdf:!1},this._sdfProgramOptions={id:!1},this._spritesTextureSize=e()}dispose(){}drawMany(e,t){const i=e.styleLayer;this._drawIcons(e,i,t),this._drawText(e,i,t)}_drawIcons(e,t,o){const{context:f,displayLevel:c,painter:u,spriteMosaic:p,state:m,styleLayerUID:g,requestRender:d,allowDelayedRender:y}=e,_=t.iconMaterial,M=u.vectorTilesMaterialManager;let h,P=!1;for(const i of o)if(i.layerData.has(g)&&(h=i.layerData.get(g),h.iconPerPageElementsMap.size>0)){P=!0;break}if(!P)return;const U=t.getPaintValue(\"icon-translate\",c),E=t.getPaintValue(\"icon-translate-anchor\",c);let T=t.getLayoutValue(\"icon-rotation-alignment\",c);T===a.AUTO&&(T=t.getLayoutValue(\"symbol-placement\",c)===r.POINT?a.VIEWPORT:a.MAP);const x=T===a.MAP,S=t.getLayoutValue(\"icon-keep-upright\",c)&&x,v=h.isIconSDF,D=this._iconProgramOptions;D.sdf=v;const V=M.getMaterialProgram(f,_,D);if(y&&null!=d&&!V.compiled)return void d();f.useProgram(V),V.setUniformMatrix3fv(\"u_displayViewMat3\",T===a.MAP?m.displayViewMat3:m.displayMat3),V.setUniformMatrix3fv(\"u_displayMat3\",E===n.VIEWPORT?m.displayMat3:m.displayViewMat3),V.setUniform2fv(\"u_iconTranslation\",U),V.setUniform1f(\"u_depth\",t.z),V.setUniform1f(\"u_mapRotation\",l(m.rotation)),V.setUniform1f(\"u_keepUpright\",S?1:0),V.setUniform1f(\"u_level\",10*c),V.setUniform1i(\"u_texture\",s),V.setUniform1f(\"u_fadeDuration\",i/1e3);let R=-1;for(const i of o){if(!i.layerData.has(g))continue;if(i.key.level!==R&&(R=i.key.level,_.setDataUniforms(V,c,t,R,p)),h=i.layerData.get(g),0===h.iconPerPageElementsMap.size)continue;h.prepareForRendering(f),h.updateOpacityInfo();const a=h.iconVAO;if(null!=a){f.bindVAO(a),V.setUniformMatrix3fv(\"u_dvsMat3\",i.transforms.displayViewScreenMat3),V.setUniform1f(\"u_time\",(performance.now()-h.lastOpacityUpdate)/1e3);for(const[t,a]of h.iconPerPageElementsMap)this._renderIconRange(e,V,a,t,i)}}}_renderIconRange(e,t,i,a,r){const{context:n,spriteMosaic:o}=e;this._spritesTextureSize[0]=o.getWidth(a)/4,this._spritesTextureSize[1]=o.getHeight(a)/4,t.setUniform2fv(\"u_mosaicSize\",this._spritesTextureSize),o.bind(n,c.LINEAR,a,s),this._setStencilState(e,r),n.drawElements(u.TRIANGLES,i[1],p.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i[0]),r.triangleCount+=i[1]/3}_drawText(e,s,f){const{context:c,displayLevel:u,glyphMosaic:p,painter:m,pixelRatio:d,spriteMosaic:y,state:_,styleLayerUID:M,requestRender:h,allowDelayedRender:P}=e,U=s.textMaterial,E=m.vectorTilesMaterialManager;let T,x=!1;for(const t of f)if(t.layerData.has(M)&&(T=t.layerData.get(M),T.glyphPerPageElementsMap.size>0)){x=!0;break}if(!x)return;const S=s.getPaintProperty(\"text-opacity\");if(S&&!S.isDataDriven&&0===S.getValue(u))return;const v=s.getPaintProperty(\"text-color\"),D=!v||v.isDataDriven||v.getValue(u)[3]>0,V=s.getPaintProperty(\"text-halo-width\"),R=s.getPaintProperty(\"text-halo-color\"),I=(!V||V.isDataDriven||V.getValue(u)>0)&&(!R||R.isDataDriven||R.getValue(u)[3]>0);if(!D&&!I)return;const A=24/8;let w=s.getLayoutValue(\"text-rotation-alignment\",u);w===a.AUTO&&(w=s.getLayoutValue(\"symbol-placement\",u)===r.POINT?a.VIEWPORT:a.MAP);const L=w===a.MAP,O=s.getLayoutValue(\"text-keep-upright\",u)&&L,N=.8*A/d;this._glyphTextureSize||(this._glyphTextureSize=t(p.width/4,p.height/4));const z=s.getPaintValue(\"text-translate\",u),b=s.getPaintValue(\"text-translate-anchor\",u),k=this._sdfProgramOptions,G=E.getMaterialProgram(c,U,k);if(P&&null!=h&&!G.compiled)return void h();c.useProgram(G),G.setUniformMatrix3fv(\"u_displayViewMat3\",w===a.MAP?_.displayViewMat3:_.displayMat3),G.setUniformMatrix3fv(\"u_displayMat3\",b===n.VIEWPORT?_.displayMat3:_.displayViewMat3),G.setUniform2fv(\"u_textTranslation\",z),G.setUniform1f(\"u_depth\",s.z+g),G.setUniform2fv(\"u_mosaicSize\",this._glyphTextureSize),G.setUniform1f(\"u_mapRotation\",l(_.rotation)),G.setUniform1f(\"u_keepUpright\",O?1:0),G.setUniform1f(\"u_level\",10*u),G.setUniform1i(\"u_texture\",o),G.setUniform1f(\"u_antialiasingWidth\",N),G.setUniform1f(\"u_fadeDuration\",i/1e3);let W=-1;for(const t of f){if(!t.layerData.has(M))continue;if(t.key.level!==W&&(W=t.key.level,U.setDataUniforms(G,u,s,W,y)),T=t.layerData.get(M),0===T.glyphPerPageElementsMap.size)continue;T.prepareForRendering(c),T.updateOpacityInfo();const i=T.textVAO;if(null==i)continue;c.bindVAO(i),G.setUniformMatrix3fv(\"u_dvsMat3\",t.transforms.displayViewScreenMat3),this._setStencilState(e,t);const a=(performance.now()-T.lastOpacityUpdate)/1e3;G.setUniform1f(\"u_time\",a),T.glyphPerPageElementsMap.forEach(((e,i)=>{this._renderGlyphRange(c,e,i,p,G,I,D,t)}))}}_renderGlyphRange(e,t,i,a,r,n,s,l){a.bind(e,c.LINEAR,i,o),n&&(r.setUniform1f(\"u_halo\",1),e.drawElements(u.TRIANGLES,t[1],p.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),l.triangleCount+=t[1]/3),s&&(r.setUniform1f(\"u_halo\",0),e.drawElements(u.TRIANGLES,t[1],p.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t[0]),l.triangleCount+=t[1]/3)}_setStencilState(e,t){const{context:i,is3D:a,stencilSymbols:r}=e;if(i.setStencilTestEnabled(!0),r)return i.setStencilWriteMask(255),void i.setStencilFunction(m.ALWAYS,t.stencilRef,255);i.setStencilWriteMask(0),a?i.setStencilFunction(m.EQUAL,t.stencilRef,255):i.setStencilFunction(m.GREATER,255,255)}}export{d as WGLBrushVTLSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.name=this.constructor.name||\"UnnamedBrush\",this.brushEffect=null}prepareState(t,r){}draw(t,r,s){}drawMany(t,r,s){for(const a of r)a.visible&&this.draw(t,a,s)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{nextPowerOfTwo as t}from\"../../../../../core/mathUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{vtlTextureBindingUnitSprites as o,vtlHighResCutoff as i}from\"../definitions.js\";import s from\"./WGLBrush.js\";import{BufferObject as a}from\"../../../../webgl/BufferObject.js\";import{TextureSamplingMode as n,CompareFunction as c,PrimitiveType as l,Usage as f}from\"../../../../webgl/enums.js\";import{VertexArrayObject as m}from\"../../../../webgl/VertexArrayObject.js\";class u extends s{constructor(){super(...arguments),this._color=r(1,0,0,1),this._patternMatrix=e(),this._programOptions={id:!1,pattern:!1}}dispose(){this._vao&&(this._vao.dispose(),this._vao=null)}drawMany(e,r){const{context:s,painter:a,requestRender:f,allowDelayedRender:m}=e;this._loadWGLResources(e);const u=e.displayLevel,p=e.styleLayer,_=p.backgroundMaterial,d=a.vectorTilesMaterialManager,g=p.getPaintValue(\"background-color\",u),h=p.getPaintValue(\"background-opacity\",u),x=p.getPaintValue(\"background-pattern\",u),M=void 0!==x,b=1|window.devicePixelRatio,v=e.spriteMosaic;let y,w;const j=b>i?2:1,A=this._programOptions;A.pattern=M;const L=d.getMaterialProgram(s,_,A);if(!m||null==f||L.compiled){if(s.bindVAO(this._vao),s.useProgram(L),M){const t=v.getMosaicItemPosition(x,!0);if(null!=t){const{tl:e,br:r,page:i}=t;y=r[0]-e[0],w=r[1]-e[1];const a=v.getPageSize(i);null!=a&&(v.bind(s,n.LINEAR,i,o),L.setUniform4f(\"u_tlbr\",e[0],e[1],r[0],r[1]),L.setUniform2fv(\"u_mosaicSize\",a),L.setUniform1i(\"u_texture\",o))}L.setUniform1f(\"u_opacity\",h)}else{const t=g[3]*h;this._color[0]=t*g[0],this._color[1]=t*g[1],this._color[2]=t*g[2],this._color[3]=t,L.setUniform4fv(\"u_color\",this._color)}L.setUniform1f(\"u_depth\",p.z||0);for(const e of r){if(L.setUniform1f(\"u_coord_range\",e.rangeX),L.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.displayViewScreenMat3),M){const r=Math.max(2**(Math.round(u)-e.key.level),1),o=j*e.width*r,i=o/t(y),s=o/t(w);this._patternMatrix[0]=i,this._patternMatrix[4]=s,L.setUniformMatrix3fv(\"u_pattern_matrix\",this._patternMatrix)}s.setStencilFunction(c.EQUAL,0,255),s.drawArrays(l.TRIANGLE_STRIP,0,4)}}else f()}_loadWGLResources(t){if(this._vao)return;const{context:e,styleLayer:r}=t,o=r.backgroundMaterial,i=new Int8Array([0,0,1,0,0,1,1,1]),s=a.createVertex(e,f.STATIC_DRAW,i),n=new m(e,o.getAttributeLocations(),o.getLayoutInfo(),new Map([[\"geometry\",s]]));this._vao=n}}export{u as WGLBrushVTLBackground};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst n=128/Math.PI,t=256/360,r=1/Math.LN2;function u(n,t){return(n%=t)>=0?n:n+t}function o(t){return u(t*n,256)}function c(n){return u(n*t,256)}function e(n){return Math.log(n)*r}function f(n,t,r){return n*(1-r)+t*r}function i(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}export{i as between,c as degToByte,f as interpolate,e as log2,u as positiveMod,o as radToByte};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{TranslateAnchor as e}from\"../../vectorTiles/style/StyleDefinition.js\";import t from\"./WGLBrush.js\";import{CompareFunction as r,PrimitiveType as i,DataType as a}from\"../../../../webgl/enums.js\";class n extends t{constructor(){super(...arguments),this._programOptions={id:!1}}dispose(){}drawMany(t,n){const{context:l,displayLevel:s,requiredLevel:o,state:c,painter:u,spriteMosaic:d,styleLayerUID:f,requestRender:m,allowDelayedRender:p}=t;if(!n.some((e=>e.layerData.get(f)?.circleIndexCount??!1)))return;const y=t.styleLayer,g=y.circleMaterial,M=u.vectorTilesMaterialManager,v=1.2,E=y.getPaintValue(\"circle-translate\",s),x=y.getPaintValue(\"circle-translate-anchor\",s),I=this._programOptions,U=M.getMaterialProgram(l,g,I);if(p&&null!=m&&!U.compiled)return void m();l.useProgram(U),U.setUniformMatrix3fv(\"u_displayMat3\",x===e.VIEWPORT?c.displayMat3:c.displayViewMat3),U.setUniform2fv(\"u_circleTranslation\",E),U.setUniform1f(\"u_depth\",y.z),U.setUniform1f(\"u_antialiasingWidth\",v);let _=-1;for(const e of n){if(!e.layerData.has(f))continue;e.key.level!==_&&(_=e.key.level,g.setDataUniforms(U,s,y,_,d));const t=e.layerData.get(f);if(!t.circleIndexCount)continue;t.prepareForRendering(l);const n=t.vao;null!=n&&(l.bindVAO(n),U.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.displayViewScreenMat3),o!==e.key.level?l.setStencilFunction(r.EQUAL,e.stencilRef,255):l.setStencilFunction(r.GREATER,255,255),l.drawElements(i.TRIANGLES,t.circleIndexCount,a.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t.circleIndexStart),e.triangleCount+=t.circleIndexCount/3)}}}export{n as WGLBrushVTLCircle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{TranslateAnchor as t}from\"../../vectorTiles/style/StyleDefinition.js\";import{vtlTextureBindingUnitSprites as e,vtlHighResCutoff as i}from\"../definitions.js\";import n from\"./WGLBrush.js\";import{TextureSamplingMode as a,CompareFunction as l,PrimitiveType as r,DataType as o}from\"../../../../webgl/enums.js\";const s=1/65536;class f extends n{constructor(){super(...arguments),this._fillProgramOptions={id:!1,pattern:!1},this._outlineProgramOptions={id:!1}}dispose(){}drawMany(t,e){const{displayLevel:i,renderPass:n,spriteMosaic:a,styleLayerUID:l}=t;let r=!1;for(const _ of e)if(_.layerData.has(l)){const t=_.layerData.get(l);if(t.fillIndexCount>0||t.outlineIndexCount>0){r=!0;break}}if(!r)return;const o=t.styleLayer,s=o.getPaintProperty(\"fill-pattern\"),f=void 0!==s,u=f&&s.isDataDriven;let c;if(f&&!u){const t=s.getValue(i);c=a.getMosaicItemPosition(t,!0)}const d=!f&&o.getPaintValue(\"fill-antialias\",i);let p=!0,m=1;if(!f){const t=o.getPaintProperty(\"fill-color\"),e=o.getPaintProperty(\"fill-opacity\");if(!t?.isDataDriven&&!e?.isDataDriven){const t=o.getPaintValue(\"fill-color\",i);m=o.getPaintValue(\"fill-opacity\",i)*t[3],m>=1&&(p=!1)}}if(p&&\"opaque\"===n)return;const y=o.getPaintValue(\"fill-translate\",i),g=o.getPaintValue(\"fill-translate-anchor\",i);(p||\"translucent\"!==n)&&this._drawFill(t,l,o,e,y,g,f,c,u);const M=!o.hasDataDrivenOutlineColor&&o.outlineUsesFillColor&&m<1;d&&\"opaque\"!==n&&!M&&this._drawOutline(t,l,o,e,y,g)}_drawFill(n,f,u,c,d,p,m,y,g){if(m&&!g&&null==y)return;const{context:M,displayLevel:_,state:E,painter:v,pixelRatio:P,spriteMosaic:U,requestRender:I,allowDelayedRender:x}=n,D=u.fillMaterial,R=v.vectorTilesMaterialManager,S=P>i?2:1,T=this._fillProgramOptions;T.pattern=m;const h=R.getMaterialProgram(M,D,T);if(x&&null!=I&&!h.compiled)return void I();if(M.useProgram(h),null!=y){const{page:t}=y,i=U.getPageSize(t);null!=i&&(U.bind(M,a.LINEAR,t,e),h.setUniform2fv(\"u_mosaicSize\",i),h.setUniform1i(\"u_texture\",e))}h.setUniformMatrix3fv(\"u_displayMat3\",p===t.VIEWPORT?E.displayMat3:E.displayViewMat3),h.setUniform2fv(\"u_fillTranslation\",d),h.setUniform1f(\"u_depth\",u.z+s);let w=-1;for(const t of c){if(!t.layerData.has(f))continue;t.key.level!==w&&(w=t.key.level,D.setDataUniforms(h,_,u,w,U));const i=t.layerData.get(f);if(!i.fillIndexCount)continue;i.prepareForRendering(M);const n=i.fillVAO;if(null!=n){if(M.bindVAO(n),h.setUniformMatrix3fv(\"u_dvsMat3\",t.transforms.displayViewScreenMat3),M.setStencilFunction(l.EQUAL,t.stencilRef,255),m){const e=Math.max(2**(Math.round(_)-t.key.level),1),i=t.rangeX/(S*t.width*e);h.setUniform1f(\"u_patternFactor\",i)}if(g){const t=i.patternMap;if(!t)continue;for(const[i,n]of t){const t=U.getPageSize(i);null!=t&&(U.bind(M,a.LINEAR,i,e),h.setUniform2fv(\"u_mosaicSize\",t),h.setUniform1i(\"u_texture\",e),M.drawElements(r.TRIANGLES,n[1],o.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*n[0]))}}else M.drawElements(r.TRIANGLES,i.fillIndexCount,o.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i.fillIndexStart);t.triangleCount+=i.fillIndexCount/3}}}_drawOutline(e,i,n,a,f,u){const{context:c,displayLevel:d,state:p,painter:m,pixelRatio:y,spriteMosaic:g,requestRender:M,allowDelayedRender:_}=e,E=n.outlineMaterial,v=m.vectorTilesMaterialManager,P=.75/y,U=this._outlineProgramOptions,I=v.getMaterialProgram(c,E,U);if(_&&null!=M&&!I.compiled)return void M();c.useProgram(I),I.setUniformMatrix3fv(\"u_displayMat3\",u===t.VIEWPORT?p.displayMat3:p.displayViewMat3),I.setUniform2fv(\"u_fillTranslation\",f),I.setUniform1f(\"u_depth\",n.z+s),I.setUniform1f(\"u_outline_width\",P);let x=-1;for(const t of a){if(!t.layerData.has(i))continue;t.key.level!==x&&(x=t.key.level,E.setDataUniforms(I,d,n,x,g));const e=t.layerData.get(i);if(e.prepareForRendering(c),!e.outlineIndexCount)continue;const a=e.outlineVAO;null!=a&&(c.bindVAO(a),I.setUniformMatrix3fv(\"u_dvsMat3\",t.transforms.displayViewScreenMat3),c.setStencilFunction(l.EQUAL,t.stencilRef,255),c.drawElements(r.TRIANGLES,e.outlineIndexCount,o.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*e.outlineIndexStart),t.triangleCount+=e.outlineIndexCount/3)}}}export{f as WGLBrushVTLFill};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{TranslateAnchor as e}from\"../../vectorTiles/style/StyleDefinition.js\";import{vtlTextureBindingUnitSprites as t}from\"../definitions.js\";import i from\"./WGLBrush.js\";import{TextureSamplingMode as n,CompareFunction as a,PrimitiveType as r,DataType as o}from\"../../../../webgl/enums.js\";class s extends i{constructor(){super(...arguments),this._programOptions={id:!1,pattern:!1,sdf:!1}}dispose(){}drawMany(i,s){const{context:l,displayLevel:f,state:u,painter:c,pixelRatio:d,spriteMosaic:m,styleLayerUID:p,requestRender:g,allowDelayedRender:y}=i;if(!s.some((e=>e.layerData.get(p)?.lineIndexCount??!1)))return;const M=i.styleLayer,E=M.lineMaterial,_=c.vectorTilesMaterialManager,v=M.getPaintValue(\"line-translate\",f),U=M.getPaintValue(\"line-translate-anchor\",f),I=M.getPaintProperty(\"line-pattern\"),P=void 0!==I,x=P&&I.isDataDriven;let D,S;if(P&&!x){const e=I.getValue(f);D=m.getMosaicItemPosition(e)}let L=!1;if(!P){const e=M.getPaintProperty(\"line-dasharray\");if(S=void 0!==e,L=S&&e.isDataDriven,S&&!L){const t=e.getValue(f),i=M.getDashKey(t,M.getLayoutValue(\"line-cap\",f));D=m.getMosaicItemPosition(i)}}const N=1/d,R=this._programOptions;R.pattern=P,R.sdf=S;const T=_.getMaterialProgram(l,E,R);if(y&&null!=g&&!T.compiled)return void g();if(l.useProgram(T),T.setUniformMatrix3fv(\"u_displayViewMat3\",u.displayViewMat3),T.setUniformMatrix3fv(\"u_displayMat3\",U===e.VIEWPORT?u.displayMat3:u.displayViewMat3),T.setUniform2fv(\"u_lineTranslation\",v),T.setUniform1f(\"u_depth\",M.z),T.setUniform1f(\"u_antialiasing\",N),D&&null!=D){const{page:e}=D,i=m.getPageSize(e);null!=i&&(m.bind(l,n.LINEAR,e,t),T.setUniform2fv(\"u_mosaicSize\",i),T.setUniform1i(\"u_texture\",t))}let V=-1;for(const e of s){if(!e.layerData.has(p))continue;e.key.level!==V&&(V=e.key.level,E.setDataUniforms(T,f,M,V,m));const i=2**(f-V)/d;T.setUniform1f(\"u_zoomFactor\",i);const s=e.layerData.get(p);if(!s.lineIndexCount)continue;s.prepareForRendering(l);const u=s.vao;if(null!=u){if(l.bindVAO(u),T.setUniformMatrix3fv(\"u_dvsMat3\",e.transforms.displayViewScreenMat3),l.setStencilFunction(a.EQUAL,e.stencilRef,255),x||L){const e=s.patternMap;if(!e)continue;for(const[i,a]of e){const e=m.getPageSize(i);null!=e&&(m.bind(l,n.LINEAR,i,t),T.setUniform2fv(\"u_mosaicSize\",e),T.setUniform1i(\"u_texture\",t),l.drawElements(r.TRIANGLES,a[1],o.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*a[0]))}}else l.drawElements(r.TRIANGLES,s.lineIndexCount,o.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*s.lineIndexStart);e.triangleCount+=s.lineIndexCount/3}}}}export{s as WGLBrushVTLLine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._readFile=e}resolveIncludes(e){return this._resolve(e)}_resolve(e,t=new Map){if(t.has(e))return t.get(e);const r=this._read(e);if(!r)throw new Error(`cannot find shader file ${e}`);const s=/^[^\\S\\n]*#include\\s+<(\\S+)>[^\\S\\n]?/gm;let n=s.exec(r);const l=[];for(;null!=n;)l.push({path:n[1],start:n.index,length:n[0].length}),n=s.exec(r);let a=0,h=\"\";return l.forEach((e=>{h+=r.slice(a,e.start),h+=t.has(e.path)?\"\":this._resolve(e.path,t),a=e.start+e.length})),h+=r.slice(a),t.set(e,h),h}_read(e){return this._readFile(e)}}export{e as ShaderCompiler};\n"],"names":["g","d","f","constructor","super","arguments","this","_iconProgramOptions","id","sdf","_sdfProgramOptions","_spritesTextureSize","e","dispose","drawMany","t","i","styleLayer","_drawIcons","_drawText","o","context","displayLevel","c","painter","u","spriteMosaic","p","state","m","styleLayerUID","requestRender","allowDelayedRender","y","_","iconMaterial","M","vectorTilesMaterialManager","h","P","layerData","has","get","iconPerPageElementsMap","size","U","getPaintValue","E","T","getLayoutValue","a","AUTO","r","POINT","VIEWPORT","MAP","x","S","v","isIconSDF","D","V","getMaterialProgram","compiled","useProgram","setUniformMatrix3fv","displayViewMat3","displayMat3","n","setUniform2fv","setUniform1f","z","l","rotation","setUniform1i","s","R","key","level","setDataUniforms","prepareForRendering","updateOpacityInfo","iconVAO","bindVAO","transforms","displayViewScreenMat3","performance","now","lastOpacityUpdate","_renderIconRange","getWidth","getHeight","bind","LINEAR","_setStencilState","drawElements","TRIANGLES","UNSIGNED_INT","Uint32Array","BYTES_PER_ELEMENT","triangleCount","glyphMosaic","pixelRatio","textMaterial","glyphPerPageElementsMap","getPaintProperty","isDataDriven","getValue","I","w","L","O","N","_glyphTextureSize","width","height","b","k","G","W","textVAO","forEach","_renderGlyphRange","is3D","stencilSymbols","setStencilTestEnabled","setStencilWriteMask","setStencilFunction","ALWAYS","stencilRef","EQUAL","GREATER","name","brushEffect","prepareState","draw","visible","_color","_patternMatrix","_programOptions","pattern","_vao","_loadWGLResources","backgroundMaterial","window","devicePixelRatio","j","A","getMosaicItemPosition","tl","br","page","getPageSize","setUniform4f","setUniform4fv","rangeX","Math","max","round","drawArrays","TRIANGLE_STRIP","Int8Array","createVertex","STATIC_DRAW","getAttributeLocations","getLayoutInfo","Map","PI","LN2","log","requiredLevel","some","_e$layerData$get$circ","_e$layerData$get","circleIndexCount","circleMaterial","vao","circleIndexStart","_fillProgramOptions","_outlineProgramOptions","renderPass","fillIndexCount","outlineIndexCount","_drawFill","hasDataDrivenOutlineColor","outlineUsesFillColor","_drawOutline","fillMaterial","fillVAO","patternMap","fillIndexStart","outlineMaterial","outlineVAO","outlineIndexStart","_e$layerData$get$line","lineIndexCount","lineMaterial","getDashKey","lineIndexStart","_readFile","resolveIncludes","_resolve","length","undefined","_read","Error","concat","exec","push","path","start","index","slice","set"],"sourceRoot":""}