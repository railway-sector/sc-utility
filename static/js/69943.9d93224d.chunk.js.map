{"version":3,"file":"static/js/69943.9d93224d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/analysis/AnalysisView.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/input/IViewEvents.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView as o}from\"../../analysis/AnalysisView.js\";let e=class extends o{};e=s([r(\"esri.views.3d.analysis.AnalysisView3D\")],e);export{e as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{watch as s,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(e){super(e)}initialize(){this.addHandles(s(()=>this.analysisViewData.visible,e=>this.visible=e,t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=e([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{removeMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as i,onAbort as a}from\"../../core/promiseUtils.js\";import{watch as r,syncAndInitial as s,on as l,whenOnce as c}from\"../../core/reactiveUtils.js\";function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=a(n,()=>{r.activeTool===i&&(r.activeTool=null)});return o(async o=>{await c(()=>!t.tool?.active,o),s=e(s)},n)}function m(o,t){return r(()=>o.interactive,()=>p(o,t),s)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=o(async o=>{if(r){const t=r.promise.catch(()=>{});r?.abort(),await t,n(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=t([l(()=>e.tool,\"cancel\",()=>{c()&&s.abort()})]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,n(o)}catch(v){if(o.aborted||!i(v)||c())throw v}finally{m?.remove()}},{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally(()=>{e.userOperation===s&&(e.userOperation=null)})}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}export{u as activateAnalysisViewTool,m as connectAnalysisViewToTool,f as removeAnalysisViewTool,y as startExclusiveInteractiveOperation,d as startPlaceOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{a as e,b as t,c as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{toGraphic as u,hasLod as i,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return s(e)===s(t)}function s(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const d={json:{write:{writer:b,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:f}}},clonable:\"reference\"};function b(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function f(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function I(l,i,a,c){const{sceneIntersectionHelper:d}=l,{observer:b,observerFeatureId:f,targetFeatureId:I,target:m}=a;if(null==f&&null==I)return;c||(c=e=>e),e(g,b,m);const p=t(g),S=1;r(g,b,g,S/p);const v=o(g,m,y);i.options.store=2,d.intersectToolIntersectorRay(v,i);let F=null,N=null,R=null,w=null;for(const e of i.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=s(t);null!=r&&(null!=f&&r===f&&(F??=c(j(e,l,p)),e.distanceInRenderSpace-S<F&&(R=e)),null!=I&&r===I&&(N??=c(j(e,l,p)),null==w&&e.distanceInRenderSpace-S<p&&p-e.distanceInRenderSpace+S<N&&(w=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,w?.getIntersectionPoint(h)?a.targetSurfaceNormal=w.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(i(e)){const n=a(e,t);if(null!=n)return Math.min(n*m,r)}return 1e-5*r}const m=.05,y=l(),g=n();export{c as featureReferenceEquals,d as featureReferenceProperty,s as getFeatureId,I as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{makeHandle as r}from\"../../core/handleUtils.js\";import{EsriPromiseMixin as o}from\"../../core/Promise.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let n=class extends(o(t)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return(this.parent?.visible&&!this.parent.suspended)??!0}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractive(){return this._interactiveViewModelCount++,r(()=>this._interactiveViewModelCount--)}};e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([s(\"esri.views.analysis.AnalysisView\")],n);export{n as AnalysisView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import{Clonable as t}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import c from\"../symbols/support/ElevationInfo.js\";let l=class extends(s(t)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:m,json:{write:!0,origins:{\"web-scene\":{write:{isRequired:!0}}}}}),n()],l.prototype,\"position\",void 0),o([p({type:c}),n()],l.prototype,\"elevationInfo\",void 0),o([p(e)],l.prototype,\"feature\",void 0),l=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],l);export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as e,intersectTriangleGeometry2d as t}from\"../lib/RayIntersections.js\";class i extends r{intersect(r,t,i,s,n,o){return e(r,i,s,n,void 0,o)}intersectDraped(r,e,i,s){return t(i[0],i[1],r,s)}}export{i as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst d={Left:0,Middle:1,Right:2,Back:3,Forward:4,Undefined:-1};export{d as MouseButton};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],i.prototype,\"target\",void 0),o([e()],i.prototype,\"intersectedGraphic\",void 0),o([e()],i.prototype,\"intersectedLocation\",void 0),o([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],i.prototype,\"visible\",void 0),i=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";let s=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:i(),observerSurfaceNormal:null,observerFeatureId:null,target:i(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:i(),targetAdjusted:i()},this.computationResult={start:i(),end:i(),intersection:i(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],s.prototype,\"target\",void 0),t([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],s.prototype,\"inputPoints\",void 0),t([e()],s.prototype,\"computationResult\",void 0),t([e()],s.prototype,\"result\",void 0),s=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],s);export{s as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import o from\"../../../../core/Accessor.js\";import{equals as r}from\"../../../../core/arrayUtils.js\";import{equalsMaybe as s}from\"../../../../core/maybe.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{G as c}from\"../../../../chunks/vec32.js\";import{equals as n}from\"../../../../geometry/support/ray.js\";let p=class extends o{constructor(t){super(t)}clone(){return this}equals(t){return this.context?.type===t.context?.type&&(!this.context||!t.context||this.context.equals(t.context))&&this.id===t.id&&s(this.mapPoint,t.mapPoint)&&c(this.renderPoint,t.renderPoint)&&r(this.normal,t.normal)&&n(this.ray,t.ray)}};t([e({constructOnly:!0})],p.prototype,\"context\",void 0),t([e({constructOnly:!0})],p.prototype,\"id\",void 0),t([e({constructOnly:!0})],p.prototype,\"mapPoint\",void 0),t([e({constructOnly:!0})],p.prototype,\"renderPoint\",void 0),t([e({constructOnly:!0})],p.prototype,\"normal\",void 0),t([e({constructOnly:!0})],p.prototype,\"ray\",void 0),p=t([i(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],p);class a{constructor(t){this.graphic=t,this.type=\"graphic\"}equals(t){return t.type===this.type&&this.graphic===t.graphic}}class y{constructor(){this.type=\"ground\"}equals(t){return t.type===this.type}}const u=new y;export{a as LineOfSightIntersectionContextGraphic,p as LineOfSightIntersectionResult,u as lineOfSightIntersectionContextGround};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{screenPointObjectToArray as r}from\"../../../../core/screenUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as i,n as s,h as a,g as c}from\"../../../../chunks/vec32.js\";import{create as l,clone as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import p from\"../../../../geometry/Point.js\";import{create as u,copy as d,fromPoints as f}from\"../../../../geometry/support/ray.js\";import{sv2d as g}from\"../../../../geometry/support/vectorStacks.js\";import{LineOfSightIntersectionResult as y,lineOfSightIntersectionContextGround as w,LineOfSightIntersectionContextGraphic as h}from\"./LineOfSightIntersectionResult.js\";import{fromScreen as j}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as v,isIntegratedMeshIntersectorResult as I}from\"../../terrain/Intersector.js\";import{Intersector as P}from\"../../webgl-engine/lib/Intersector.js\";import{toGraphic as b}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";let x=class extends t{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=new P(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=0}getScreenPointIntersection(e){const t=r(e,g.get()),o=j(this.view.state.camera,t,O);return this._getRayIntersection(o)}_getRayIntersection(e,t){const{view:r,intersector:o}=this;if(null==e||null==r.sceneIntersectionHelper)return null;o.options.store=0,r.sceneIntersectionHelper.intersectToolIntersectorRay(e,o,t);const n=o.results.min;if(null==n.target)return null;const i=l();if(!n.getIntersectionPoint(i))return null;if(null!=t?.maxDistance&&!n.withinDistance(t.maxDistance))return null;const s=r.renderCoordsHelper.fromRenderCoords(i,new p({spatialReference:r.spatialReference})),a=m(n.normal);if(v(n))return new y({context:w,id:n.target.lij.slice(),mapPoint:s,renderPoint:i,normal:a,ray:d(e)});if(I(r,n))return new y({context:w,id:`${n.target.layerViewUid}`,mapPoint:s,renderPoint:i,normal:a,ray:d(e)});const c=b(n,r);if(null!=c){const{layer:t}=c,r=c.getObjectId()??c.uid;return new y({context:new h(c),id:`${t?.uid}/${r}`,mapPoint:s,renderPoint:i,normal:a,ray:d(e)})}const u=\"layerViewUid\"in n.target?`${n.target.layerViewUid}`:\"\";return new y({context:null,id:u,mapPoint:s,renderPoint:i,normal:a,ray:d(e)})}updateFromGroundIntersection(e,t,r){const o=R,n=U,l=S,p=L;i(n,e),this.view.renderCoordsHelper.worldUpAtPosition(n,l),s(l,l);const u=this.view.basemapTerrain.visibleElevationBounds,d=(t>=0?1:-1)*((u?Math.abs(u.max-u.min):100)+Math.abs(t));a(p,l,d),c(o,n,p),f(o,n,O);const g=this._getRayIntersection(O,{include:this._terrainIntersectionOptionsLayerUids,maxDistance:d});if(null!=g){const e=L;return a(e,l,t),c(r,g.renderPoint,e),m(g.normal)}return i(r,e),null}};e([o()],x.prototype,\"view\",void 0),e([o()],x.prototype,\"intersector\",void 0),x=e([n(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],x);const R=l(),U=l(),S=l(),L=l(),O=u();export{x as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{updatePointsFromFeatureReference as t,getFeatureId as o}from\"../../../../analysis/featureReferenceUtils.js\";import{createTask as n}from\"../../../../core/asyncUtils.js\";import{EventedAccessor as i}from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as a}from\"../../../../core/handleUtils.js\";import l from\"../../../../core/Logger.js\";import{abortMaybe as u}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as c}from\"../../../../core/promiseUtils.js\";import{initial as d,on as p}from\"../../../../core/reactiveUtils.js\";import{property as g}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as m,e as v,n as f,h as _,g as b,F as y,a as C}from\"../../../../chunks/vec32.js\";import{create as T}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as O}from\"../../../../core/support/UpdatingHandles.js\";import P from\"../../../../geometry/Point.js\";import{projectOrLoad as I}from\"../../../../geometry/projectionUtils.js\";import{projectBoundingRect as S}from\"../../../../geometry/projection/projectBoundingRect.js\";import{intersectsSegment as j}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as w,containsPointObject as R,intersectsSegment as A}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as H,create as E}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as L}from\"../../../../support/elevationInfoUtils.js\";import V from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as F}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as x}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as D}from\"../support/projectionUtils.js\";import{toGraphic as G}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as U,TaskPriority as z}from\"../../../support/Scheduler.js\";let N=class extends i{constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new O,this._frameTask=U,this._computationHandles=new r,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(z.LINE_OF_SIGHT_TOOL):U,this._intersector=new x({view:this.view}),this.addHandles([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:o,computationResult:n}=t,{observerAdjusted:i,targetAdjusted:r}=o,{start:s,end:a}=n;m(s,i),m(a,r);this._canCompute(t)?this._computeIntersection(e):M(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_adjustStartEndPositions(e){const{view:o}=this,{inputPoints:n}=e,{observer:i,target:r,observerAdjusted:s,targetAdjusted:a}=n;m(s,i),m(a,r),t(o,this._intersector.intersector,n);const{observerSurfaceNormal:l,targetSurfaceNormal:u}=n,c=this._screenPixelSize,d=Z;null!=l?m(d,l):v(d,a,s);const p=c;f(d,d),_(d,d,Math.min(p,1)),b(s,s,d),null!=u?m(d,u):v(d,s,a);const g=o.state.camera.computeScreenPixelSizeAt(a);f(d,d),_(d,d,Math.min(g,1)),b(a,a,d)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:o}=this,{sceneIntersectionHelper:n,renderCoordsHelper:i}=o;if(null==n)return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:u}=a,{start:c,end:d}=s,p=H(c,d,q);r.options.store=0,n.intersectToolIntersectorRay(p,r);const g=r.results.min,h=s.intersection,v=Z;let f=!0;if(null!=g&&g.getIntersectionPoint(h)){m(t.originalIntersection,h),m(t.originalObserver,c),m(t.originalTarget,d),i.fromRenderCoords(h,v,o.spatialReference);const e=1-y(d,u)/y(c,u);f=y(l,h)>=e*y(l,u)}const _=new P(v,o.spatialReference);{const{result:t,target:n}=e;null!=t?(t.target=n,t.intersectedGraphic=f?null:G(g,o),t.intersectedLocation=f?null:_,t.visible=f):e.result=new V({target:n,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:f?null:G(g,o),intersectedLocation:f?null:_,visible:f})}s.isValid=a.isValid=!0,s.isTargetVisible=f}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,o=this.view.frustum;if(null==t||null==e.elevationAlignedTargetLocation||null==o)return!1;const{observerAdjusted:n,targetAdjusted:i}=e.inputPoints,r=o.intersectsPoint(n),s=o.intersectsPoint(i);return r&&s}_onObserverPositionChange(e,t,n,i,r){if(this._externalObserverUpdate=r,null==e)return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(null==t)return D(this.analysis,e.spatialReference,l.getLogger(this)),void(this.analysisViewData.elevationAlignedObserver=null);const s=k(t,n),{absoluteZ:a,elevation:u}=L(t.x,t.y,t.z,this.view.spatialReference,this.view,s),c=t.clone();c.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=c;const d=T();this.view.renderCoordsHelper.toRenderCoords(c,d),this._elevationAlignedObserverPositionRenderSpace=d,this._observerGroundOffsetRenderSpace=a-u,this._observerFeatureId=o(i),this.priority=z.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,o,n,i){const{inputPoints:r}=e;switch(m(r.observer,t),r.observerFeatureId=i,r.observerSurfaceNormal=null,n){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,o,r.observer);null==r.observerFeatureId&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=z.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,t,n,i,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),null==n)return null!=t&&D(this.analysis,t.spatialReference,l.getLogger(this)),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const u=k(n,i),{absoluteZ:c,elevation:d}=L(n.x,n.y,n.z,this.view.spatialReference,this.view,u),p=n.clone();switch(p.z=c,e.elevationAlignedTargetLocation=p,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=o(r),a.targetSurfaceNormal=null,u.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,c-d,a.target);null==a.targetFeatureId&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=z.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return s([this._updatingHandles.add(()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:I(e.target.position,this.view.spatialReference)}),({computation:e,targetPosition:t,targetElevationInfo:o,targetFeatureInfo:n,projectedTargetPosition:i})=>{null==i.pending?this._onTargetPositionChange(e,t,i.geometry,o,n):this._updatingHandles.addPromise(i.pending)},d)])}_connectComputationToObserver(e){return this._updatingHandles.add(()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver}),({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())},d)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add(()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId}),({computation:e,observer:t,observerGroundOffset:o,observerElevationMode:n,observerFeatureId:i})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,o,n,i)},d)}_connectComputationToCamera(e){return this._updatingHandles.add(()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty}),({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()})}_connectComputationToSlicePlane(e){return this._updatingHandles.add(()=>this.view.slice.plane,()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()})}_connectComputationToElevation(e){const t=(o,n)=>{const i=this.analysis.observer,r=e.target;let s=null,a=null,l=null,u=null,c=null,d=null;if(null!=i?.position){const e=I(i.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally(()=>t(o,n));s=e.geometry,a=i.elevationInfo,l=i.feature}if(null!=r.position){const e=I(r.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally(()=>t(o,n));u=e.geometry,c=r.elevationInfo,d=r.feature}null==s&&null==u||(S(o,n,J,this.view.spatialReference),null!=s&&R(J,s)&&this._onObserverPositionChange(null!=i?i.position:null,s,a,l,!1),null!=u&&R(J,u)&&this._onTargetPositionChange(e,r.position,u,c,d,!1),null!=s&&null!=u&&A(J,s,u)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",({extent:e,spatialReference:o})=>t(e,o))}_connectComputationToTask(e){let t=null;const o={computation:e,interpolationInfo:{originalIntersection:T(),originalObserver:T(),originalTarget:T()}};return s([this._updatingHandles.add(()=>e.inputPoints,()=>{t=u(t),t=n(async e=>{await c(this._frameTask.schedule(()=>this._computeResult(o),e))})},{initial:!0,equals:()=>!1}),a(()=>t=u(t))])}_connectComputationToContent(e){return p(()=>this.view.pointsOfInterest?.contentGeometryUpdates.events,\"request-update\",t=>{const o=t?.renderBounds,{observerAdjusted:n,targetAdjusted:i}=e.inputPoints;(null==o||j(o,n,i))&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())})}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e),this._connectComputationToContent(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const o of t)this._disconnectComputation(o);for(const o of e)this._connectComputation(o)}_onTargetCollectionChange({added:e,removed:t}){for(const o of t)this._removeTarget(o);for(const o of e)this._addTarget(o)}_onCursorTargetChange(e,t){null!=t&&this._removeTarget(t),null!=e&&this._addTarget(e)}_addTarget(e){this._computations.some(t=>t.target===e)||this._computations.add(new F({target:e}))}_removeTarget(e){const t=this._computations.findIndex(t=>t.target===e);this._computations.removeAt(t)}_connectObserver(){return s([this._updatingHandles.add(()=>({observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,projectedObserverPosition:I(null!=this.analysis.observer?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:null!=this.analysis.observer?this.analysis.observer.elevationInfo:null,observerFeatureInfo:null!=this.analysis.observer?this.analysis.observer.feature:null}),({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:o,observerFeatureInfo:n})=>{null==t.pending?this._onObserverPositionChange(e,t.geometry,o,n,!0):this._updatingHandles.addPromise(t.pending)},d)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange(()=>this._computations,e=>this._onComputationCollectionChange(e),{initial:!0,final:!0})}_connectTargets(){return s([this._updatingHandles.addOnCollectionChange(()=>this.analysis.targets,e=>this._onTargetCollectionChange(e),{initial:!0,final:!0}),this._updatingHandles.add(()=>this.analysisViewData.cursorTarget,(e,t)=>{this._onCursorTargetChange(e,t)})])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:o}=t;if(null==e||null==o)return!1;const n=Z;o.toRenderCoords(e,n);const i=t.state.camera.computeScreenPixelSizeAt(n);return Math.abs((i-this._screenPixelSize)/this._screenPixelSize)>B}};function k(e,t){return e.hasZ?t??{mode:\"absolute-height\",offset:0}:{mode:\"on-the-ground\",offset:0}}function M({computation:e,interpolationInfo:t}){const{computationResult:o,inputPoints:n}=e,{start:i,end:r,intersection:s}=o,{originalIntersection:a,originalObserver:l,originalTarget:u}=t;if(m(s,a),n.isValid){const e=Z,t=y(l,a)/y(l,u);C(e,i,l),_(e,e,1-t),b(s,s,e),C(e,r,u),_(e,e,t),b(s,s,e),o.isValid=!0}else e.result=null,o.isValid=!1,o.isTargetVisible=!1}e([g({constructOnly:!0})],N.prototype,\"analysis\",void 0),e([g({constructOnly:!0})],N.prototype,\"analysisViewData\",void 0),e([g({constructOnly:!0})],N.prototype,\"view\",void 0),e([g()],N.prototype,\"updating\",null),e([g()],N.prototype,\"priority\",null),e([g()],N.prototype,\"updateOnCameraChange\",void 0),e([g()],N.prototype,\"_computations\",null),e([g()],N.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([g()],N.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([g()],N.prototype,\"_effectiveObserverElevationMode\",void 0),e([g()],N.prototype,\"_observerFeatureId\",void 0),e([g()],N.prototype,\"_screenPixelSize\",null),e([g({readOnly:!0})],N.prototype,\"_updatingHandles\",void 0),e([g()],N.prototype,\"_frameTask\",void 0),e([g()],N.prototype,\"_isCameraDirty\",null),N=e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],N);const B=.1,Z=T(),q=E(),J=w();export{N as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{getContrast as n,multiplyOpacityToUnitRGBA as t}from\"../../../../core/colorUtils.js\";class e{constructor(){this.glowWidth=8,this.innerWidth=.75}}const r=new e;function s(o){const t=o.accentColor;return{glowColor:t,innerColor:n(t),globalAlpha:.75*t.a}}class i{constructor(){this.size=.5}}const c=new i;function l(o){return t(o.accentColor,.75)}class h{constructor(){this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}}const u=new h;class d{constructor(){this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}const w=new d;export{s as getLaserLineColors,l as getObserverRGBA,r as laserLineConfiguration,w as lineOfSightConfiguration,c as observerConfiguration,u as targetConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{watch as t}from\"../../../../core/reactiveUtils.js\";import{targetConfiguration as o,getObserverRGBA as r,observerConfiguration as i}from\"./LineOfSightConfiguration.js\";import{Manipulator3D as s}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as n}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as m}from\"../../interactive/RenderObject.js\";import{disableDisplayOnGrab as a}from\"../../interactive/editingTools/manipulatorUtils.js\";import{createSphereGeometry as l}from\"../../webgl-engine/lib/GeometryUtil.js\";class c extends s{constructor(e,o){const s=n(r(e.effectiveTheme)),c=l(s,i.size,32,32),f=new m(c);super({view:e,renderObjects:[f],metadata:o,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this),this.themeHandle=t(()=>({color:r(e.effectiveTheme)}),e=>{s.setParameters(e)})}destroy(){this.themeHandle.remove(),super.destroy()}}class f extends s{constructor(e,t){const{size:r,visibleColor:i,occludedColor:s,undefinedColor:n}=o;super({view:e,renderObjects:[d(r,i,16),d(r,s,32),d(r,n,64)],metadata:t,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this)}}function d(t,o,r){return new m(l(n(e.toUnitRGBA(o)),t,32,32),r)}export{c as LineOfSightObserverManipulator,f as LineOfSightTargetManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import a from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import n from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{when as o,syncAndInitial as l,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as d}from\"../../../../core/support/UpdatingHandles.js\";import{create as p,fromPoints as g}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as _,getConvertedElevation as m}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{getLaserLineColors as b,laserLineConfiguration as y}from\"./LineOfSightConfiguration.js\";import{LineOfSightTargetManipulator as f,LineOfSightObserverManipulator as T}from\"./LineOfSightManipulators.js\";import{LineOfSightRayIntersector as L}from\"./LineOfSightRayIntersector.js\";import{LaserlineVisualElement as M}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{MouseButton as w}from\"../../../input/IViewEvents.js\";import{AnalysisToolBase as C}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as k}from\"../../../interactive/dragEventPipeline.js\";import{createScreenPointFromEvent as H}from\"../../../support/screenUtils.js\";let V=class extends C{constructor(e){super(e),this._creationMode=!1,this.removeIncompleteOnCancel=!1,this.analysisViewData=null,this._latestPointerMovePointerType=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new n,this._updatingHandles=new d,this._manipulatorHandles=new n,this._targetTrackerManipulator=null}initialize(){this._intersector=new L({view:this.view}),this.addHandles(o(()=>\"created\"===this.state,()=>this.finishToolCreation(),l)),this._observerManipulator=this._createObserverManipulator(),this._createLaserLine(),this.addHandles([this._updatingHandles.add(()=>this.analysisViewData?.elevationAlignedObserver,e=>this._onObserverLocationChange(e),u),this._updatingHandles.add(()=>b(this.view.effectiveTheme),({glowColor:e,innerColor:t,globalAlpha:i})=>this._updateLaserLineStyle(e,t,i),u),this._updatingHandles.add(()=>this._laserLineRendererDependencies(),e=>this._updateLaserLineRenderer(e)),this._connectComputations(),this._updatingHandles.addWhen(()=>!this._shouldRenderTracker,()=>this._clearCursorTracker(),u),this._updatingHandles.add(()=>({active:this.active,hasGrabbedManipulators:this.hasGrabbedManipulators}),({active:e,hasGrabbedManipulators:t})=>{this._creationMode=!!e&&(this._creationMode||!t)},u)])}destroy(){this._updatingHandles=s(this._updatingHandles),this._manipulatorHandles=s(this._manipulatorHandles),this._analysisHandles=s(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeLaserLine(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?!this.hasGrabbedManipulators||this._creationMode?\"creating\":\"created\":null!=this.analysis.observer?.position?\"created\":\"ready\"}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return null!=this.analysisViewData&&this.analysisViewData.updating||this._updatingHandles.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&null!=this.analysis.observer?.position&&!this.hasGrabbedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return this._updatingHandles.addOnCollectionChange(()=>this.analysisViewData.computations,e=>this._onComputationsCollectionChange(e),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);null==this._targetTrackerManipulator&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([this._updatingHandles.add(()=>D(e),()=>O(i,e),u),this._updatingHandles.add(()=>e.elevationAlignedTargetLocation,e=>this._onTargetLocationChange(e,i),u)],e)}_disconnectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);null!=t&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),null!=this._targetTrackerManipulator&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=s(this.analysisViewData.cursorTarget)}_createTargetManipulator(e){const t={target:e,type:\"target\"},i=new f(this.view,t);return this._manipulatorHandles.add([this._createTargetManipulatorDragPipeline(i),i.events.on(\"grab-changed\",e=>this._manipulatorGrabChanged(i,e)),i.events.on(\"immediate-click\",e=>this._manipulatorClick(i,e))],i),this.manipulators.add(i),null!=e.position?i.elevationAlignedLocation=e.position:i.available=!1,i}_getTargetManipulator(e){let t=null;return this.manipulators.forEach(i=>{const a=i.manipulator;null==t&&\"target\"===a.metadata.type&&a.metadata.target===e&&(t=a)}),t}_createObserverManipulator(){const e=new T(this.view,{type:\"observer\",intersection:null});return this._manipulatorHandles.add([this._createObserverManipulatorDragPipeline(e),e.events.on(\"grab-changed\",t=>this._manipulatorGrabChanged(e,t)),e.events.on(\"immediate-click\",t=>this._manipulatorClick(e,t))],e),this.manipulators.add(e),e}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return null==t?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return k(e,(t,i,a)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next(()=>this._updateLaserLineRenderer()),a.next(P(e.metadata.target)).next(()=>this._updateLaserLineRenderer())})}_createObserverManipulatorDragPipeline(e){return k(e,(e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next(()=>this._updateLaserLineRenderer()),i.next(this._cancelObserverDragStep()).next(()=>this._updateLaserLineRenderer())})}_updateObserverDragStep(){return e=>(null!=e.intersection.mapPoint?(null==this.analysis.observer&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=null!=this.analysis.observer?.position?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.mapPoint;return null!=i&&(e.elevationAlignedLocation=i),t}}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:a,observerPosition:n,visible:r}=e;if(null==t)return;const s=null!=i?i:a&&null!=n?this._targetTrackerManipulator:null;null!=s&&r?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=g(this._observerManipulator.renderLocation,s.renderLocation,I):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createLaserLine(){this._removeLaserLine();const{glowWidth:e,innerWidth:t}=y;this._laserlineVisualElement=new M({view:this.view,attached:!0,visible:this.visible,style:{glowWidth:e,innerWidth:t},isDecoration:!0})}_removeLaserLine(){null!=this._laserlineVisualElement&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_updateLaserLineStyle(e,i,a){const n=this._laserlineVisualElement;if(null==n)return;const r=n.style;n.style={...r,glowColor:t.toUnitRGB(e),innerColor:t.toUnitRGB(i),globalAlpha:a}}_onObserverLocationChange(e){null!=e?(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e):this._observerManipulator.available=!1}_onTargetLocationChange(e,t){null!=e?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(null!=t?.mapPoint)if(null!=this.analysis.observer?.position){this._clearCursorTracker();const e=new a;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==w.Right&&(this._addPointFromClickEvent(H(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==w.Right&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasGrabbedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||null==this.analysis.observer?.position)return;const t=H(e),i=this._intersector.getScreenPointIntersection(t);null!=i?.mapPoint&&(null==this.analysisViewData.cursorTarget&&(this.analysisViewData.cursorTarget=new a),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(null==t.mapPoint)return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.context?.type){case\"graphic\":{const i=t.context.graphic,a=_(i);\"on-the-ground\"===a.mode&&(a.mode=\"relative-to-ground\",a.offset=0),e.elevationInfo=new v(a),e.feature=i}break;case\"ground\":e.elevationInfo=new v({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.mapPoint.clone();i.z=m(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==w.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){}};function P(e){const t=e.position?.clone();return i=>(e.position=t,i)}function O(e,t){const{isValid:i,isTargetVisible:a}=t.computationResult;e.state=i?a?16:32:64}function D(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}e([c({constructOnly:!0})],V.prototype,\"view\",void 0),e([c({constructOnly:!0})],V.prototype,\"analysis\",void 0),e([c()],V.prototype,\"_creationMode\",void 0),e([c({readOnly:!0})],V.prototype,\"state\",null),e([c({readOnly:!0})],V.prototype,\"cursor\",null),e([c()],V.prototype,\"removeIncompleteOnCancel\",void 0),e([c({readOnly:!0})],V.prototype,\"updating\",null),e([c({constructOnly:!0})],V.prototype,\"analysisViewData\",void 0),e([c({readOnly:!0})],V.prototype,\"_showTracker\",null),e([c()],V.prototype,\"_latestPointerMovePointerType\",void 0),e([c()],V.prototype,\"_shouldRenderTracker\",null),e([c()],V.prototype,\"_laserlineVisualElement\",void 0),e([c()],V.prototype,\"_grabbedManipulator\",void 0),V=e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightTool\")],V);const I=p();export{V as LineOfSightTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s){this.visibleLineVisualElement=e,this.occludedLineVisualElement=i,this.undefinedLineVisualElement=t,this.targetVisualElement=s}destroy(){this.visibleLineVisualElement.destroy(),this.occludedLineVisualElement.destroy(),this.undefinedLineVisualElement.destroy(),this.targetVisualElement.destroy()}}export{e as LineOfSightVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import t from\"../../../../Color.js\";import e from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{initial as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{e as d}from\"../../../../chunks/vec32.js\";import{create as u,fromArray as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as p}from\"../../../../core/support/UpdatingHandles.js\";import{lineOfSightConfiguration as h}from\"./LineOfSightConfiguration.js\";import{LineOfSightVisualElement as v}from\"./LineOfSightVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as f}from\"../../interactive/visualElements/PointVisualElement.js\";let b=class extends e{constructor(i){super(i),this._lineOfSightVisualElements=new Array,this._computationHandles=new o,this._updatingHandles=new p}initialize(){this.addHandles(this._connectComputations()),this._createObserverVisualization()}destroy(){this._updatingHandles=s(this._updatingHandles),this._computationHandles=s(this._computationHandles),this._observerVisualElement=s(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get updating(){return this._updatingHandles.updating}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get test(){}_createLineOfSightVisualization(){const i=h,e=this.view,o=this.isDecoration,n={view:e,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth,isDecoration:o},s=t.toUnitRGBA(i.visibleOuterColor),r=t.toUnitRGBA(i.visibleInnerColor),a=t.toUnitRGBA(i.occludedOuterColor),l=t.toUnitRGBA(i.occludedInnerColor),c=t.toUnitRGBA(i.undefinedOuterColor),d=t.toUnitRGBA(i.undefinedInnerColor),u=new g({...n,color:s,innerColor:r}),m=new g({...n,color:a,innerColor:l}),p=new g({...n,color:c,innerColor:d}),b=new f({view:e,attached:!0,...y,size:8,isDecoration:o}),_=new v(u,m,p,b);return this._lineOfSightVisualElements.push(_),_}_destroyLineOfSightVisualization(i){i.destroy(),this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(i),1)}_updateLineOfSightVisualization(i,e,o){const n=h,{computationResult:s,inputPoints:r}=i,{start:a,end:l,intersection:c,isValid:u,isTargetVisible:p}=s,{observer:v}=r,g=V;g[12]=v[0],g[13]=v[1],g[14]=v[2];const f=d(_,a,v),b=d(C,l,v),y=d(O,c,v),{visibleLineVisualElement:A,occludedLineVisualElement:E,undefinedLineVisualElement:w,targetVisualElement:L}=e,S=null==this.analysisViewData.elevationAlignedObserver||null==i.elevationAlignedTargetLocation,j=this.visible&&!S;A.visible=j,E.visible=j,w.visible=j,L.visible=j,L.attached=!o.interactiveAndEditable,j&&(A.geometry=null,E.geometry=null,w.geometry=null,L.geometry=i.elevationAlignedTargetLocation,u?p?(A.geometry=[[m(f),m(b)]],A.transform=g,A.color=t.toUnitRGBA(n.visibleOuterColor),L.color=t.toUnitRGBA(n.visibleInnerColor)):(A.geometry=[[m(f),m(y)]],A.transform=g,A.color=t.toUnitRGBA(n.occludedOuterColor),E.geometry=[[m(y),m(b)]],E.transform=g,L.color=t.toUnitRGBA(n.occludedInnerColor)):(w.geometry=[[m(f),m(b)]],w.transform=g,L.color=t.toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(i){const{computationResult:t}=i,{occludedOuterColor:e,visibleOuterColor:o}=h;return{computationResult:t,occludedOuterColor:e,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(i){const t=this._computationHandles;if(t.has(i))return;const e=this._createLineOfSightVisualization();t.add([this._updatingHandles.add(()=>this._getLineOfSightVisualizationDependencies(i),t=>this._updateLineOfSightVisualization(i,e,t),{initial:!0,equals:()=>!1}),n(()=>this._destroyLineOfSightVisualization(e))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectComputations(){return this._updatingHandles.addOnCollectionChange(()=>this.analysisViewData.computations,i=>this._onComputationsCollectionChange(i),{initial:!0,final:!0})}_onComputationsCollectionChange({added:i,removed:t}){for(const e of t)this._disconnectComputation(e);for(const e of i)this._connectComputation(e)}_createObserverVisualization(){const i=t.toUnitRGBA(h.visibleInnerColor),e=new f({view:this.view,color:i,...y,isDecoration:this.isDecoration});this._observerVisualElement=e,this.addHandles(this._updatingHandles.add(()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible}),({observer:i,interactiveAndEditable:t,visible:o})=>{null!=i&&!t&&o?(e.geometry=i,this._observerVisualElement.attached=!0):e.attached=!1},r))}};i([a({constructOnly:!0})],b.prototype,\"analysis\",void 0),i([a({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),i([a({constructOnly:!0})],b.prototype,\"view\",void 0),i([a({readOnly:!0})],b.prototype,\"visible\",null),i([a({constructOnly:!0})],b.prototype,\"isDecoration\",void 0),i([a()],b.prototype,\"updating\",null),i([a()],b.prototype,\"interactiveAndEditable\",null),i([a()],b.prototype,\"test\",null),b=i([l(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],b);const y={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},_=u(),C=u(),O=u(),V=c();export{b as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import i from\"../../../core/Collection.js\";import\"../../../core/has.js\";import{abortMaybe as s,destroyMaybe as o}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{LineOfSightController as l}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as p}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as u}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as y,removeAnalysisViewTool as h,startPlaceOperation as c}from\"../../analysis/analysisViewUtils.js\";let d=class extends n{constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new i,this.cursorTarget=null,this.editable=!0,this.elevationAlignedObserver=null,this.observerEngineLocation=a(),this.userOperation=null}initialize(){const t=this.view,i=this.analysis;this._analysisController=new l({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new u({analysis:i,analysisViewData:this,view:t,isDecoration:!this.parent}),this.addHandles([this._analysisController.on(\"result-changed\",t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)}),y(this,p)])}destroy(){h(this),this.userOperation=s(this.userOperation),this._analysisController=o(this._analysisController),this._analysisVisualization=o(this._analysisVisualization)}get visible(){return super.visible}set visible(t){super.visible=t}get interactive(){return super.interactive}set interactive(t){super.interactive=t}get results(){return this.computations.map(t=>t.result)}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return null!=this._analysisController&&this._analysisController.updating||null!=this._analysisVisualization&&this._analysisVisualization.updating}place(t){return c(this,{placementOptions:t})}getResultForTarget(t){return this.computations.find(i=>i.target===t)?.result}get testInfo(){}};t([e({readOnly:!0})],d.prototype,\"type\",void 0),t([e({constructOnly:!0,nonNullable:!0})],d.prototype,\"analysis\",void 0),t([e()],d.prototype,\"tool\",void 0),t([e({readOnly:!0})],d.prototype,\"results\",null),t([e()],d.prototype,\"priority\",null),t([e()],d.prototype,\"computations\",void 0),t([e()],d.prototype,\"cursorTarget\",void 0),t([e()],d.prototype,\"editable\",void 0),t([e()],d.prototype,\"elevationAlignedObserver\",void 0),t([e()],d.prototype,\"observerEngineLocation\",void 0),t([e()],d.prototype,\"updating\",null),t([e()],d.prototype,\"userOperation\",void 0),t([e()],d.prototype,\"_analysisController\",void 0),t([e()],d.prototype,\"_analysisVisualization\",void 0),d=t([r(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],d);const m=d;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,scaleAndAdd as r,add as e,length as s,dot as o,squaredLength as c,scale as u,distance as i,copy as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,clone as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,n,r){const e=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/i(n,r)}function l(t,n,r){const e=o(r,n)/c(r);return u(t,r,e)}function y(t,r,s,o,c=s){return n(q,o,s),n(k,r,c),l(w,k,q),e(t,c,w)}function b(t,e,s,u){n(q,u,s),n(k,e,s);const i=o(q,k)/c(q);return i>0?r(t,s,q,i):f(t,s)}function d(t,e,o,c){n(q,e,o);const u=c/s(q);return r(t,o,q,u)}function j(n,r){return y(k,r,n.start,n.end),t(k[0],r[0])&&t(k[1],r[1])?[p(r)]:[]}function x(n,r,e){return d(k,e,n,r),t(k[0],e[0])&&t(k[1],e[1])?[p(e)]:[]}function M(t,e){const s=t.start,o=t.end,c=e.start,u=e.end,i=n(q,o,s),f=n(U,u,c),a=m(i,f);if(Math.abs(a)<=v)return[];const p=n(k,s,c),h=m(f,p)/a,l=m(i,p)/a;if(h>=0){if(l>=0||1===e.type)return[r(w,s,i,h)]}else if(1===t.type&&(l>=0||1===e.type))return[r(w,s,i,h)];return[]}function g(t,e,s){const u=[],i=n(q,t.end,t.start),f=n(U,t.start,e),a=c(i),p=2*o(i,f),m=p*p-4*a*(c(f)-s*s);if(0===m){const n=-p/(2*a);(1===t.type||n>=0)&&u.push(r(w,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),e=(-p+n)/(2*a);(1===t.type||e>=0)&&u.push(r(w,t.start,i,e));const s=(-p-n)/(2*a);(1===t.type||s>=0)&&u.push(r(k,t.start,i,s))}return u}const v=1e-6,q=a(),U=a(),k=a(),w=a();export{m as cross,x as intersectCircleAndPoint,j as intersectLineAndPoint,M as intersectLineAndRay,g as intersectLineLikeAndCircle,h as pointToLineDistance,l as projectPoint,d as projectPointToCircle,y as projectPointToLine,b as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Accessor.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import f from\"../symbols/support/ElevationInfo.js\";let l=class extends(i(s(t))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:c,json:{write:{isRequired:!0}}})],l.prototype,\"position\",void 0),o([a({type:f}),n()],l.prototype,\"elevationInfo\",void 0),o([a(e)],l.prototype,\"feature\",void 0),l=o([m(\"esri.analysis.LineOfSightAnalysisObserver\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{j as t}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,d as s}from\"../../../../chunks/vec42.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectVectorToVector as n}from\"../../../../geometry/projection/projectVectorToVector.js\";import{expandWithBuffer as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{evaluateElevationAlignmentAtPoint as h}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as p}from\"../../layers/graphics/ElevationContext.js\";import{defaultBoundingBox as m,requiresHalfTexelOffset as c,defaultSymbolSizeRatio as _,createTexture as g}from\"../../support/engineContent/sdfPrimitives.js\";import{createPointGeometry as d}from\"../../webgl-engine/lib/GeometryUtil.js\";import{HUDMaterial as f}from\"../../webgl-engine/materials/HUDMaterial.js\";class x extends u{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=o(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=o(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){r(e,this._color)||(s(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(s(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material?.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(\"size\").data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],\"size\")}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:c(this._primitive),distanceFieldBoundingBox:m,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawAsLabel:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/_}createExternalResources(){this._texture=g(this._primitive,this._preferredTextureSize),this._material=new f(this._materialParameters,1===this.view.state.viewingMode);const e=this.view.stage;this._texture.load(e.renderView.renderingContext),e.addTexture(this._texture)}destroyExternalResources(){if(this._texture){this.view.stage.removeTexture(this._texture),this._texture.dispose(),this._texture=null}this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachMaterial(e){e(this._material)}get _preferredTextureSize(){return e(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(\"position\").data;return n(i,this.view.renderCoordsHelper.spatialReference,v,this.view.spatialReference),a(e,v),!0}_createRenderGeometry(){const{geometry:e,_material:i}=this;if(null==e||null==i)return null;const{renderCoordsHelper:r,elevationProvider:s}=this.view,o=h(e,s,p.fromElevationInfo(this.elevationInfo),r),a=t(l.get(),e.x,e.y,o),u=l.get();n(a,e.spatialReference,u,r.spatialReference);const m=this._geometrySize;return d(i,{position:u,size:[m,m],centerOffsetAndDistance:[0,0,0,1]})}}const v=i();export{x as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{hasFeatureExpressionInfo as n}from\"../../../../support/elevationInfoUtils.js\";function o(e,n){return t(e?.data.coordinateHelper.hasZ(),n)}function t(e,o){return!!e&&\"on-the-ground\"!==o.mode&&!n(o)}function r(n,o){let t=null;const r=n.events.on(\"grab-changed\",e=>{null!=t&&(t.remove(),t=null),\"start\"===e.action?(t=n.disableDisplay(),o&&o(e)):o&&o(e)});return e(()=>{t?.remove(),r.remove()})}export{o as canMoveZOperations,r as disableDisplayOnGrab};\n"],"names":["e","o","s","r","i","constructor","super","initialize","this","addHandles","analysisViewData","visible","t","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","m","interactive","f","view","n","tool","tools","add","v","p","remove","y","a","_a$abortOptions","userOperation","async","_a$shouldRejectOnCanc","promise","catch","abort","activeTool","c","_t$tool","active","u","signal","shouldRejectOnCancel","l","_a$onToolActivated","onToolActivated","call","aborted","abortOptions","finally","d","clone","placementOptions","valid","equals","layer","id","objectId","objectIdField","attributes","uid","concat","json","write","writer","_e$layer","feature","layerId","target","type","Number","String","isRequired","origins","read","ObjectId","clonable","I","_R","_w","sceneIntersectionHelper","observer","b","observerFeatureId","targetFeatureId","g","options","store","intersectToolIntersectorRay","F","N","R","w","results","all","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","h","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","min","arguments","parent","_userInteractive","_interactiveViewModelCount","updating","_ref","_this$parent","suspended","_overrideIfSome","forceInteractive","constructOnly","prototype","Boolean","readOnly","position","elevationInfo","intersect","intersectDraped","Left","Middle","Right","Back","Forward","Undefined","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","inputPoints","isValid","computationResult","start","end","intersection","isTargetVisible","result","notifyResultChanged","notifyChange","notifyInputPointsChanged","_this$context","_t$context","context","mapPoint","renderPoint","normal","ray","graphic","x","_terrainIntersectionOptionsLayerUids","Set","intersector","P","state","viewingMode","hud","getScreenPointIntersection","get","camera","O","_getRayIntersection","maxDistance","withinDistance","renderCoordsHelper","fromRenderCoords","spatialReference","lij","slice","layerViewUid","_c$getObjectId","getObjectId","updateFromGroundIntersection","U","S","L","worldUpAtPosition","basemapTerrain","visibleElevationBounds","abs","max","include","updateOnCameraChange","_observerGroundOffsetRenderSpace","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","_frameTask","_computationHandles","_externalObserverUpdate","_this$view$resourceCo","resourceController","scheduler","registerTask","z","LINE_OF_SIGHT_TOOL","_intersector","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","priority","computations","_elevationAlignedObserverPositionRenderSpace","observerEngineLocation","_screenPixelSize","computeScreenPixelSizeAt","_computeResult","computation","_canCompute","_computeIntersection","_ref0","interpolationInfo","originalIntersection","originalObserver","originalTarget","Z","C","_","M","emit","_adjustStartEndPositions","H","q","G","V","elevationAlignedObserver","frustum","intersectsPoint","_onObserverPositionChange","D","getLogger","k","absoluteZ","elevation","mode","toRenderCoords","LINE_OF_SIGHT_TOOL_INTERACTIVE","_onObserverRenderSpacePositionChangeForComputation","_onTargetPositionChange","length","undefined","_connectComputationToTarget","targetPosition","targetElevationInfo","targetFeatureInfo","projectedTargetPosition","_ref2","pending","geometry","addPromise","_connectComputationToObserver","_ref3","_connectComputationToRenderSpaceObserver","observerGroundOffset","observerElevationMode","_ref4","_connectComputationToCamera","isDirty","_isCameraDirty","_ref5","_connectComputationToSlicePlane","plane","_connectComputationToElevation","J","A","elevationProvider","on","_ref6","extent","_connectComputationToTask","schedule","initial","_connectComputationToContent","_this$view$pointsOfIn","pointsOfInterest","contentGeometryUpdates","events","renderBounds","_connectComputation","has","_disconnectComputation","_onComputationCollectionChange","_ref7","added","removed","_onTargetCollectionChange","_ref8","_removeTarget","_addTarget","_onCursorTargetChange","some","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","_ref9","addOnCollectionChange","final","targets","cursorTarget","B","hasZ","offset","E","glowWidth","innerWidth","size","accentColor","visibleColor","occludedColor","undefinedColor","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","effectiveTheme","renderObjects","metadata","themeHandle","color","setParameters","toUnitRGBA","_creationMode","removeIncompleteOnCancel","_latestPointerMovePointerType","_laserlineVisualElement","_grabbedManipulator","_analysisHandles","_manipulatorHandles","_targetTrackerManipulator","finishToolCreation","_observerManipulator","_createObserverManipulator","_createLaserLine","_this$analysisViewDat","_onObserverLocationChange","glowColor","innerColor","globalAlpha","_updateLaserLineStyle","_laserLineRendererDependencies","_updateLaserLineRenderer","addWhen","_shouldRenderTracker","_clearCursorTracker","hasGrabbedManipulators","_removeLaserLine","_this$analysis$observ","cursor","_showTracker","_this$analysis$observ2","continue","stop","onEditableChange","editable","internallyEditable","onInputEvent","_doubleClickHandler","_pointerMoveHandler","onInputEventAfter","_clickHandler","onShow","onHide","_onComputationsCollectionChange","destroyed","warn","_createTargetManipulator","available","_onTargetLocationChange","_getTargetManipulator","manipulators","_createTargetManipulatorDragPipeline","_manipulatorGrabChanged","_manipulatorClick","elevationAlignedLocation","forEach","manipulator","_createObserverManipulatorDragPipeline","_screenToIntersection","screenEnd","_objectSpread","next","_updateTargetDragStep","_e$position","_updateObserverDragStep","_cancelObserverDragStep","_updateFromIntersection","_this$analysis$observ3","action","laserlineVisualElement","grabbedManipulator","shouldRenderTracker","heightManifoldTarget","renderLocation","lineVerticalPlaneSegment","attached","style","isDecoration","toUnitRGB","_addPointFromClickEvent","_this$analysis$observ4","button","stopPropagation","_this$analysis$observ5","pointerType","grabbing","dragging","testInfo","visibleLineVisualElement","occludedLineVisualElement","undefinedLineVisualElement","targetVisualElement","_lineOfSightVisualElements","Array","_createObserverVisualization","_observerVisualElement","interactiveAndEditable","test","_createLineOfSightVisualization","width","push","_destroyLineOfSightVisualization","splice","indexOf","_updateLineOfSightVisualization","transform","_getLineOfSightVisualizationDependencies","pixelSnappingEnabled","primitive","outlineSize","_analysisController","_analysisVisualization","map","place","getResultForTarget","_this$computations$fi","find","nonNullable","sqrt","_material","_texture","_geometry","_size","_color","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","applyProperties","recreateGeometry","_preferredTextureSize","recreate","_updateSizeAttribute","_updateMaterial","outlineColor","_this$_material","_materialParameters","object","geometries","getMutableAttribute","data","_geometrySize","geometryVertexAttributeUpdated","_this$_texture","textureIsSignedDistanceField","sampleSignedDistanceFieldTexelCenter","distanceFieldBoundingBox","occlusionTest","textureId","polygonOffset","shaderPolygonOffset","drawAsLabel","depthEnabled","createExternalResources","stage","load","renderView","renderingContext","addTexture","destroyExternalResources","removeTexture","dispose","createGeometries","_createRenderGeometry","addGeometry","forEachMaterial","calculateMapBounds","_this$object","fromElevationInfo","centerOffsetAndDistance","coordinateHelper","disableDisplay","_t"],"sourceRoot":""}