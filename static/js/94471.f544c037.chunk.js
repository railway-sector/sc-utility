"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[94471],{37159:(t,e,n)=>{n.d(e,{w:()=>r});var i=n(6326),o=n(91967),l=n(46053),s=(n(81806),n(76460),n(47249),n(87990));let r=class extends o.A{constructor(t){super(t),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter(t=>t.visible&&!t.readOnly)}clearInputValues(){this.allFields.forEach(t=>t.clearInputValue())}};(0,i.Cg)([(0,l.MZ)()],r.prototype,"sketchOptions",void 0),(0,i.Cg)([(0,l.MZ)()],r.prototype,"visibleElements",null),(0,i.Cg)([(0,l.MZ)()],r.prototype,"helpMessage",void 0),(0,i.Cg)([(0,l.MZ)()],r.prototype,"viewType",void 0),(0,i.Cg)([(0,l.MZ)()],r.prototype,"allFields",null),(0,i.Cg)([(0,l.MZ)()],r.prototype,"editableFields",null),r=(0,i.Cg)([(0,s.$)("esri.views.interactive.tooltip.infos.SketchTooltipInfo")],r)},58905:(t,e,n)=>{n.d(e,{Hh:()=>c,mT:()=>u,o6:()=>d,s1:()=>a,ts:()=>v});var i=n(50076),o=n(7724),l=n(19247),s=n(13312),r=n(50265);function a(){return(0,o.i)()}function c(){return(0,o.l)()}function d(t,e){const n=p(e),i=t.replaceAll(/[\u00B0\u00BA]/g,"^").replaceAll("\u2032","'").replaceAll("\u2033",'"'),r=[];return o.b.dmsToGeog(n,1,[i],r)?new l.A(r[0][0],r[0][1],e||s.A.WGS84):null}function u(t){var e,n,i,o,l;return t&&a()&&null!==(e=null!==(n=null!==(i=(0,r.$J)(t))&&void 0!==i?i:null===(o=d("0\xb0 0' 0\" N | ".concat(t)))||void 0===o?void 0:o.longitude)&&void 0!==n?n:null===(l=d("0 N | ".concat(t)))||void 0===l?void 0:l.longitude)&&void 0!==e?e:null}function v(t){var e,n,i,o,l;return t&&a()&&null!==(e=null!==(n=null!==(i=(0,r.$J)(t))&&void 0!==i?i:null===(o=d("".concat(t," | 0\xb0 0' 0\" E")))||void 0===o?void 0:o.latitude)&&void 0!==n?n:null===(l=d("".concat(t," | 0 E")))||void 0===l?void 0:l.latitude)&&void 0!==e?e:null}function p(t){var e;if(null!==t&&void 0!==t||(t=s.A.WGS84),t.wkid){const e=o.P.geogcs(t.wkid);if(!e)throw new i.A("coordinate-formatter:invalid-spatial-reference","wkid is not valid");return e}const n=null!==(e=t.wkt2)&&void 0!==e?e:t.wkt;if(n){const t=o.P.fromString(o.a.PE_TYPE_GEOGCS,n);if(!t)throw new i.A("coordinate-formatter:invalid-spatial-reference","wkt is not valid");return t}throw new i.A("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing")}},69077:(t,e,n)=>{n.d(e,{A3:()=>S,D5:()=>I,GC:()=>v,L5:()=>O,Nr:()=>A,X3:()=>D,hw:()=>T,m6:()=>L,oZ:()=>C,zX:()=>y});var i=n(89379),o=n(73582),l=n(11113),s=n(24648),r=n(58905),a=n(50265),c=n(89646);const d=1,u=6;function v(t,e){return{angleRelative:p,direction:h,directionRelative:f,directionRelativeBilateral:g,latitudeDecimalDegrees:_,longitudeDecimalDegrees:m,area:(n,i)=>(0,l.Jd)(t,n,null!==i&&void 0!==i?i:e.area),length:(n,i,o)=>(0,l.ix)(t,n,null!==i&&void 0!==i?i:e.length,o),lengthRelative:(n,i)=>(0,l.yh)(t,n,null!==i&&void 0!==i?i:e.length),totalLength:(n,i)=>(0,l.ix)(t,n,null!==i&&void 0!==i?i:e.length),verticalLength:(n,i)=>(0,l.Oo)(t,n,null!==i&&void 0!==i?i:e.verticalLength),verticalLengthRelative:(n,i)=>(0,l.OM)(t,n,null!==i&&void 0!==i?i:e.verticalLength),percentage:x,scalar:M,scale:k}}function p(t){return(0,a.ZV)(t,(0,i.A)({signDisplay:"exceptZero"},K(d)))}function h(t){return(0,l.Nk)(t,t.rotationType,d)}function f(t){const e=(0,c.hF)(t);return(0,a.ZV)(e,(0,i.A)({style:"unit",unitDisplay:"narrow",unit:"degree",signDisplay:e>0?"never":"exceptZero"},K(d)))}function g(t){return(0,l.Nk)(t,t.rotationType,d)}function m(t){return w(t,V)}function _(t){return w(t,F)}function y(t){return b(t,V)}function C(t){return b(t,F)}function w(t,e){return(0,l.Nk)((0,s.kM)(t,"degrees"),"geographic",u,e,!1)}function b(t,e){const n=e.normalize((0,s.kM)(t,"degrees").value,void 0,!1);return M((0,s.LF)(n),u)}function x(t){return(0,a.ZV)(t.value,{style:"percent"})}function k(t){return(0,a.ZV)(t,{style:"percent",maximumFractionDigits:0})}function M(t,e){return(0,a.ZV)(t.value,K(e))}function K(t){return{minimumFractionDigits:t,maximumFractionDigits:t}}function T(t){let{createQuantity:e,sanitize:n}=t;return(t,i)=>{if(null==t)return null;n&&(t=n(t));const o=(0,a.$J)(t);return null==o?null:e(o,i)}}function I(t){return t.replaceAll(/[*^~\xb0\xba]/g,"")}const Z=t=>{let e="[-+]?[0-9".concat(t.thousands,"]+");return""!==t.decimal&&(e+="".concat(t.decimal,"[0-9]+")),new RegExp("^(".concat(e,"\\s*)").concat(t.separator,"(\\s*").concat(e,")$"),"i")},E=[];for(const R of[",","\\|","\\s+"])for(const t of["\\.",",",""])for(const e of["",",","\\.","\u202f","\\s+"])R!==t&&R!==e&&t!==e&&E.push({separator:R,decimal:t,thousands:e,pattern:Z({decimal:t,thousands:e,separator:R})});function A(t){for(const{decimal:e,thousands:n,pattern:i}of E){i.lastIndex=0;const o=t.match(i);if(!o)continue;const l=(0,a.$J)(P(o[1],e,n)),r=(0,a.$J)(P(o[2],e,n));if(null!=l&&null!=r)return{x:(0,s.LF)(l),y:(0,s.LF)(r)}}return null}function P(t,e,n){let i=t.replaceAll(/[\s+]/g,"");return""!==n&&(i=i.replaceAll(n,"")),""!==e&&(i=i.replaceAll(e,".")),i}function D(t){if(!t||null!=(0,a.$J)(t)||!(0,r.s1)())return null;const e=(0,r.o6)(t),n=L(null===e||void 0===e?void 0:e.latitude),i=L(null===e||void 0===e?void 0:e.longitude);return null!=i&&null!=n?{latitude:n,longitude:i}:null}function O(t){return L((0,r.mT)(t))}function S(t){return L((0,r.ts)(t))}function L(t){return null!=t?(0,s.Wq)(t,"degrees","geographic"):null}const V=new o.hr(-180,180),F=new o.hr(-90,90)},81773:(t,e,n)=>{n.d(e,{sZ:()=>qt,wG:()=>Yt,mu:()=>zt,A:()=>Rt,HA:()=>Wt,IA:()=>Ht,Ue:()=>$t});var i=n(98773),o=n(54901),l=n(15941),s=n(24648),r=n(68134),a=n(31633),c=n(20664),d=n(9392),u=n(58905),v=n(32186),p=n(99773),h=n(80963),f=n(45417),g=n(82307),m=n(6326),_=n(54099),y=n(79053),C=n(30726),w=n(76931),b=n(46053),x=(n(81806),n(76460),n(47249),n(87990)),k=n(19451),M=n(12440);const K="esri-tooltip",T="".concat(K,"-content"),I="".concat(K,"-content--input"),Z="".concat(K,"-content__header"),E="".concat(K,"-content__header__spacer"),A="".concat(K,"-content__header__actions"),P="".concat(K,"-draw-header-actions"),D="".concat(K,"-table"),O="".concat(K,"-help-message"),S="".concat(K,"-help-message__text"),L="".concat(K,"-help-message__icon");n(50076);var V=n(25329),F=n(15187),R=n(54761);const $="".concat(K,"-field"),H={base:$,inputMode:"".concat($,"--input"),title:"".concat($,"__title"),value:"".concat($,"__value")};let z=class extends V.A{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return(0,R.K)("div",{class:this.classes({[H.base]:!0,[H.inputMode]:"input"===this.mode})},(0,R.K)("div",{class:H.title,key:"title"},this.title),(0,R.K)("div",{class:H.value,key:"value"},this.value))}};(0,m.Cg)([(0,b.MZ)()],z.prototype,"hidden",void 0),(0,m.Cg)([(0,b.MZ)()],z.prototype,"mode",void 0),(0,m.Cg)([(0,b.MZ)()],z.prototype,"title",void 0),(0,m.Cg)([(0,b.MZ)()],z.prototype,"value",void 0),z=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.components.TooltipField")],z);const X={base:"".concat(K,"-value-by-value")};let B=class extends V.A{constructor(){super(...arguments),this.divider="\xd7"}render(){return(0,R.K)("div",{class:X.base},(0,R.K)("span",null,this.left),(0,R.K)("span",null,this.divider),(0,R.K)("span",null,this.right))}};(0,m.Cg)([(0,b.MZ)()],B.prototype,"left",void 0),(0,m.Cg)([(0,b.MZ)()],B.prototype,"divider",void 0),(0,m.Cg)([(0,b.MZ)()],B.prototype,"right",void 0),B=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.components.ValueByValue")],B);var U=n(17555),N=n(56002),Y=n(50346),q=n(52394),W=n(96820),G=n(19747),j=n(69077),J=n(94126),Q=n(63582);const tt=Symbol("dragHandles");let et=class extends V.A{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transitionInfo=null,this._mode="feedback",this._getFormatters=(0,N.B)(j.GC),this._onHeaderPointerDown=t=>{var e;const n=t.target;n instanceof HTMLElement&&"calcite-button"!==(null===n||void 0===n||null===(e=n.tagName)||void 0===e?void 0:e.toLowerCase())&&(this.removeHandles(tt),t.preventDefault(),t.stopPropagation(),n.setPointerCapture(t.pointerId),this.tooltip.onDragStart(t.clientX,t.clientY),this.addHandles([(0,y.on)(n,"pointermove",t=>{let{clientX:e,clientY:n}=t;this.tooltip.onDrag(e,n)}),(0,y.on)(n,["pointerup","pointercancel"],e=>{this.removeHandles(tt),n.releasePointerCapture(t.pointerId),this.tooltip.onDragEnd()}),(0,y.on)(n,"touchstart",t=>t.preventDefault())],tt))},this._onDiscard=()=>{this.destroyed||(this.tooltip.emit("discard"),this.info.clearInputValues(),this.exitInputMode())},this._onCommit=(t,e)=>{if(this.destroyed)return;if(this.tooltip.emit("commit",{type:e}),"commit-and-exit"===e)return void this.exitInputMode();if("commit-on-blur"===e)return;const n=this._getFocusableElements(),i=n.length,o=n.indexOf(t);if(-1===o)return void this.exitInputMode();const l=((o+("commit-and-next"===e?1:-1))%i+i)%i;nt(n.at(l))},this._onKeyDown=t=>{switch(t.code){case g.ac.next:return this._onNextKey(t);case g.ac.discard:return t.stopPropagation(),this._onDiscard()}}}get mode(){return this._mode}get _displayUnits(){var t,e,n;const{displayUnits:i}=this.info.sketchOptions.values,o=(0,G.c)(this.tooltip.view);return{length:null!==(t=i.length)&&void 0!==t?t:o,verticalLength:null!==(e=i.verticalLength)&&void 0!==e?e:o,area:null!==(n=i.area)&&void 0!==n?n:o}}get _inputUnitInfos(){var t,e,n;const i=this._messagesUnits,o=t=>({unit:t,abbreviation:(0,W.Cq)(i,t,"abbr")}),{inputUnits:l}=this.info.sketchOptions.values,s=(0,G.c)(this.tooltip.view),r=null!==(t=l.length)&&void 0!==t?t:s,c=null!==(e=l.verticalLength)&&void 0!==e?e:s,d=null!==(n=l.area)&&void 0!==n?n:s;return{length:o((0,a.wL)(r)),verticalLength:o((0,a.m5)(c)),area:o((0,a.tW)(d)),angle:o("degrees")}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){const{visibleElements:t}=this.info.sketchOptions.tooltips,e=this._renderedContent,n=this._renderedActions,i=this._renderedHelpMessage,o=e.length>0,l=o||!!i,s="input"===this.mode;return(0,R.K)("div",{class:(0,F.Ly)(T,s&&I),onkeydown:this._onKeyDown,tabIndex:-1},s&&l&&t.header?(0,R.K)("div",{class:Z,"data-testid":"tooltip-header",key:"header",onpointerdown:this._onHeaderPointerDown},(0,R.K)("calcite-button",{appearance:"transparent","data-testid":"tooltip-back-button",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),n.length>0?(0,R.K)(R.w,null,(0,R.K)("div",{class:E,key:"spacer"}),(0,R.K)("div",{class:A,key:"actions"},n)):null):null,o?(0,R.K)("div",{class:D,key:"content"},...e):null,i)}destroy(){var t;this._focusAbortController.abort(),null===(t=this._transitionInfo)||void 0===t||t.transition.skipTransition()}_renderActions(){return null}loadDependencies(){return(0,J.W)({button:()=>Promise.resolve().then(n.bind(n,43285)),icon:()=>Promise.resolve().then(n.bind(n,16702)),input:()=>Promise.resolve().then(n.bind(n,29247))})}async enterInputMode(t,e){try{await this._transitionTo("input",e),await this._focusField(t)}catch(n){(0,Y.jH)(n)}}async exitInputMode(){let{focusOnView:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var e;const{container:n,info:i}=this;i.clearInputValues();const o=t?null===n||void 0===n||null===(e=n.closest(".esri-view"))||void 0===e?void 0:e.querySelector(".esri-view-surface"):null;await this._transitionTo("feedback"),o instanceof HTMLElement&&o.focus()}catch(K){(0,Y.jH)(K)}}_onNextKey(t){const e=this._getFocusableElements(),n=e.at(0),i=e.at(-1);n&&i&&(t.shiftKey?document.activeElement===n&&(t.preventDefault(),t.stopPropagation(),nt(i)):document.activeElement===i&&(t.preventDefault(),t.stopPropagation(),nt(n)))}get _renderedContent(){return it(this._renderContent())}get _renderedActions(){return it(this._renderActions())}get _renderedHelpMessage(){var t,e;const{sketchOptions:n,visibleElements:i}=this.info;if(!i.helpMessage)return null;const o=null!==(t=n.tooltips.helpMessage)&&void 0!==t?t:this._defaultHelpMessage;if(!o)return null;const l=null!==(e=n.tooltips.helpMessageIcon)&&void 0!==e?e:"information";return(0,R.K)("div",{class:O,key:"help-message"},l?(0,R.K)("calcite-icon",{class:L,icon:l,scale:"s"}):null,(0,R.K)("div",{class:S},o))}get _defaultHelpMessage(){var t;const{helpMessage:e,viewType:n}=this.info;if(null==e)return null;const i="3d"===n?"helpMessages3d":"helpMessages2d";return null===(t=this._messagesTooltip)||void 0===t||null===(t=t.sketch)||void 0===t||null===(t=t[i])||void 0===t?void 0:t[e]}async _focusField(t){var e;null!==(e=this._focusAbortController)&&void 0!==e&&e.abort(),this._focusAbortController=new AbortController;const{signal:n}=this._focusAbortController;await this._waitForInputs(),(0,Y.Te)(n);const i=this._getFocusableInputs(),o=t?i.find(e=>e.getAttribute("data-field-name")===t):i.at(0);await nt(o)}async _transitionTo(t,e){var n,i,o;if(this._mode===t&&!this._transitionInfo)return;if((null===(n=this._transitionInfo)||void 0===n?void 0:n.mode)===t)return this._transitionInfo.transition.finished;null===(i=this._transitionInfo)||void 0===i||i.transition.skipTransition();const l=async()=>{this.destroyed||(this._mode=t,await(0,q.NO)(),this.destroyed||(this.renderNow(),await(0,q.NO)(),this.destroyed||null===e||void 0===e||e()))};if(null===(o=this.domNode)||void 0===o||!o.firstChild||!document.startViewTransition||(0,U.O)())return void await l();this.autoRenderingEnabled=!1;const s=this._transitionInfo={transition:document.startViewTransition(async()=>{this.destroyed||s!==this._transitionInfo||(this.autoRenderingEnabled=!0,await l())}),mode:t};try{await s.transition.finished}finally{s===this._transitionInfo&&(this._transitionInfo=null)}}async _waitForInputs(){const t=()=>{var t,e;return Array.from(null!==(t=null===(e=this.domNode)||void 0===e?void 0:e.querySelectorAll("calcite-input"))&&void 0!==t?t:[])};for(;0===t().length;)await(0,Y.Pl)(ot);await(0,q.$m)()}_getFocusableInputs(){var t,e;return Array.from(null!==(t=null===(e=this.domNode)||void 0===e?void 0:e.querySelectorAll("calcite-input:not([read-only]):not([disabled])"))&&void 0!==t?t:[])}_getFocusableElements(){var t,e;const n=null===(t=this.domNode)||void 0===t?void 0:t.querySelector(".".concat(P));return[...Array.from(null!==(e=null===n||void 0===n?void 0:n.querySelectorAll(".".concat(A," calcite-button:not([disabled])")))&&void 0!==e?e:[]),...this._getFocusableInputs()]}};async function nt(t){await(null===t||void 0===t?void 0:t.setFocus())}function it(t){return(Array.isArray(t)?t:[t]).flat(10).filter(t=>!!t)}(0,m.Cg)([(0,Q.G)("esri/core/t9n/Units"),(0,b.MZ)()],et.prototype,"_messagesUnits",void 0),(0,m.Cg)([(0,Q.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,b.MZ)()],et.prototype,"_messagesTooltip",void 0),(0,m.Cg)([(0,b.MZ)()],et.prototype,"info",void 0),(0,m.Cg)([(0,b.MZ)()],et.prototype,"tooltip",void 0),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_mode",void 0),(0,m.Cg)([(0,b.MZ)()],et.prototype,"mode",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_displayUnits",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_inputUnitInfos",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_formatters",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"fieldContext",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_renderedContent",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_renderedActions",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_renderedHelpMessage",null),(0,m.Cg)([(0,b.MZ)()],et.prototype,"_defaultHelpMessage",null),et=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContent")],et);const ot=20;let lt=class extends et{_renderContent(){const{area:t,radius:e,xSize:n,ySize:i,visibleElements:o}=this.info,l=this._messagesTooltip.sketch,s=this._formatters;return(0,R.K)(R.w,null,o.radius&&null!=e?(0,R.K)(z,{title:l.radius,value:s.length(e)}):null,o.size&&null!=n&&null!=i?(0,R.K)(z,{title:l.size,value:(0,R.K)(B,{left:s.length(n),right:s.length(i)})}):null,o.area?(0,R.K)(z,{title:l.area,value:s.area(t)}):null)}};lt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],lt);const st="".concat(K,"-editable-field"),rt={base:st,inputMode:"".concat(st,"--input"),feedbackMode:"".concat(st,"--feedback"),readOnly:"".concat(st,"--read-only"),locked:"".concat(st,"--locked"),title:"".concat(st,"__title"),value:"".concat(st,"__value"),valueContent:"".concat(st,"__value__content"),valueContentReadOnly:"".concat(st,"__value__content--read-only"),lockIcon:"".concat(st,"__lock-icon"),input:"".concat(st,"__input"),inputWrapper:"".concat(st,"__input-wrapper"),inputMessage:"".concat(st,"__input-message"),inputSuffix:"".concat(st,"__input-suffix"),button:"".concat(st,"__button")},at="lock",ct="unlock";let dt=class extends V.A{constructor(){super(...arguments),this._input=null,this._lock=null,this._onLockClick=()=>{this.field.toggleLock(this.context)},this._onLockAfterCreate=t=>{this._lock=t},this._onLockAfterRemoved=()=>{this._lock=null},this._onKeyDown=t=>{t.key===g.ac.discard&&"input"===this.mode&&this._input&&this.context.onDiscard(this._input)},this._onInputKeyDown=t=>{const e=this._input;if(e)switch(t.key){case g.ac.commit:return this.field.onCommit("commit-and-exit",e,this.context);case g.ac.next:{t.preventDefault(),t.stopPropagation();const n=t.shiftKey?"commit-and-previous":"commit-and-next";return this.field.onCommit(n,e,this.context)}}},this._onInput=t=>{this.field.onInput(t.currentTarget.value)},this._onInputBlur=t=>{const e=this._input;e&&t.relatedTarget!==this._lock&&this.field.onCommit("commit-on-blur",e,this.context)},this._selectText=()=>{const t=()=>{var t;this._input===document.activeElement&&(null===(t=this._input)||void 0===t||t.selectText())};t(),(0,q.$m)().then(t)},this._onAfterCreate=t=>{this._input=t,t.addEventListener("paste",this._onPaste),t.addEventListener("beforeinput",this._onBeforeInput)},this._onAfterRemoved=t=>{t.removeEventListener("paste",this._onPaste),t.removeEventListener("beforeinput",this._onBeforeInput)},this._onPaste=t=>{var e;const n=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text");n&&null!=this.field.parse(n,this.context)&&(t.stopPropagation(),this.field.onInput(n))},this._onBeforeInput=t=>{("historyUndo"===t.inputType||"historyRedo"===t.inputType)&&!this.field.dirty&&t.preventDefault()}}initialize(){this.addHandles((0,r.wB)(()=>this._rawDisplayValue,()=>{const{committed:t,inputValue:e}=this.field;t||e||this._input!==document.activeElement||this._selectText()}))}loadDependencies(){return(0,J.W)({button:()=>Promise.resolve().then(n.bind(n,43285)),icon:()=>Promise.resolve().then(n.bind(n,16702)),input:()=>Promise.resolve().then(n.bind(n,29247)),"input-message":()=>Promise.resolve().then(n.bind(n,92903))})}render(){const{field:t,mode:e}=this,n="input"===e,{locked:i,readOnly:o}=t;return(0,R.K)("div",{class:this.classes({[rt.base]:!0,[rt.feedbackMode]:"feedback"===e,[rt.inputMode]:"input"===e,[rt.locked]:i,[rt.readOnly]:o})},(0,R.K)("div",{class:rt.title,key:"title"},this._title),(0,R.K)("div",{class:rt.value,key:"value",onkeydown:this._onKeyDown},n?this._renderValueInputMode():this._renderValueFeedbackMode()))}get _formattedValue(){return this.field.getFormattedValue(this.context)||ut}get _rawDisplayValue(){return this.field.getRawDisplayValue(this.context)}get _suffix(){return this.field.getSuffix(this.context)}get _title(){const{title:t}=this.field;return"string"==typeof t?t:t(this.context)}get _messages(){var t,e;return null!==(t=null===(e=this.context)||void 0===e?void 0:e.messages.sketch)&&void 0!==t?t:{}}_renderValueFeedbackMode(){return(0,R.K)(R.w,null,(0,R.K)("div",{class:rt.valueContent,key:"value-feedback"},this._formattedValue),this.field.locked&&"input"!==this.mode?(0,R.K)("calcite-icon",{class:rt.lockIcon,icon:at,key:"icon",scale:"s"}):null)}_renderValueInputMode(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return(0,R.K)("div",{class:this.classes(rt.valueContent,rt.valueContentReadOnly),key:"value-read-only"},this._formattedValue)}_renderValueWritable(){var t;const{field:e}=this,n=this._messages,{name:i,invalid:o}=e;return(0,R.K)(R.w,null,(0,R.K)("div",{class:rt.inputWrapper,key:"value-input"},(0,R.K)("calcite-input",{afterCreate:this._onAfterCreate,afterRemoved:this._onAfterRemoved,class:rt.input,"data-field-name":i,"data-testid":"tooltip-field-".concat(i),key:"input",onblur:this._onInputBlur,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",status:o?"invalid":"idle",type:"text",value:null!==(t=this._rawDisplayValue)&&void 0!==t?t:ut,onCalciteInputInput:this._onInput}),o?(0,R.K)("calcite-input-message",{class:rt.inputMessage,scale:"s",status:"invalid"},n.invalidValue):null),(0,R.K)("div",{class:rt.inputSuffix,key:"suffix"},this._suffix),this._renderedLockButton)}get _renderedLockButton(){const{name:t,locked:e,lockable:n}=this.field;if(!n)return(0,R.K)("div",{key:"no-lock-button"});const i=this._messages,o=e?i.unlockConstraint:i.lockConstraint;return(0,R.K)("calcite-button",{afterCreate:this._onLockAfterCreate,afterRemoved:this._onLockAfterRemoved,alignment:"center",appearance:"transparent",class:rt.button,"data-testid":"tooltip-field-".concat(t,"-lock"),iconStart:e?at:ct,key:"lock-button",kind:"neutral",label:o,onclick:this._onLockClick,scale:"s",tabIndex:-1,title:o})}};(0,m.Cg)([(0,b.MZ)()],dt.prototype,"field",void 0),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"context",void 0),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"mode",void 0),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_input",void 0),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_lock",void 0),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_formattedValue",null),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_rawDisplayValue",null),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_suffix",null),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_title",null),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_messages",null),(0,m.Cg)([(0,b.MZ)()],dt.prototype,"_renderedLockButton",null),dt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.components.TooltipEditableField")],dt);const ut="\u2014";function vt(t){const e=t.fields.filter(t=>!0===(null===t||void 0===t?void 0:t.visible));return 0===e.length?null:(0,R.K)(R.w,null,e.map(e=>(0,R.K)(dt,{context:t.context,field:e,key:e.id,mode:t.mode})))}let pt=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{visibleElements:i}=e;return(0,R.K)(vt,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.orientation?e.orientation:void 0,i.scale?e.scale:void 0],mode:n})}};pt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],pt);let ht=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{elevation:i,visibleElements:o}=e;return(0,R.K)(vt,{context:t,fields:[o.coordinates?e.effectiveX:void 0,o.coordinates?e.effectiveY:void 0,o.elevation?i:void 0],mode:n})}};ht=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],ht);const ft={absolute:"absolute-direction",relative:"relative-direction"};let gt=class extends V.A{constructor(t){super(t),this.visibleElements={}}render(){return(0,R.K)("div",{class:P},this._isElementVisible("direction")?(0,R.K)(mt,{messages:this.messages,sketchOptions:this.sketchOptions}):null)}loadDependencies(){return(0,J.W)({button:()=>Promise.resolve().then(n.bind(n,43285)),dropdown:()=>Promise.resolve().then(n.bind(n,24482)),"dropdown-item":()=>Promise.resolve().then(n.bind(n,84660)),"dropdown-group":()=>Promise.resolve().then(n.bind(n,5368))})}_isElementVisible(t){var e,n;return null!==(e=null===(n=this.visibleElements)||void 0===n?void 0:n[t])&&void 0!==e?e:this.sketchOptions.tooltips.visibleElements[t]}};function mt(t){var e,n,i,o;const{directionMode:l}=t.sketchOptions.values,s=null===(e=t.messages)||void 0===e?void 0:e.sketch,r=null===s||void 0===s||null===(n=s.directionModeSelect)||void 0===n?void 0:n.title,a="absolute",c="relative";return(0,R.K)("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:e=>{var n;const i=null===(n=e.currentTarget.selectedItems)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.getAttribute("data-mode");t.sketchOptions.values.directionMode=null!==i&&void 0!==i?i:"absolute"}},(0,R.K)("calcite-button",{alignment:"end",appearance:"transparent",iconStart:ft[l],kind:"neutral",label:r,scale:"s",slot:"trigger",title:r}),(0,R.K)("calcite-dropdown-group",{selectionMode:"single"},(0,R.K)("calcite-dropdown-item",{"data-mode":c,"data-testid":"tooltip-direction-mode-relative",iconStart:ft.relative,key:"relative",selected:l===c},null===s||void 0===s||null===(i=s.directionModeSelect)||void 0===i?void 0:i.relative),(0,R.K)("calcite-dropdown-item",{"data-mode":a,"data-testid":"tooltip-direction-mode-absolute",iconStart:ft.absolute,key:"absolute",selected:l===a},null===s||void 0===s||null===(o=s.directionModeSelect)||void 0===o?void 0:o.absolute)))}(0,m.Cg)([(0,Q.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,b.MZ)()],gt.prototype,"messages",void 0),(0,m.Cg)([(0,b.MZ)()],gt.prototype,"sketchOptions",void 0),(0,m.Cg)([(0,b.MZ)()],gt.prototype,"visibleElements",void 0),gt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.components.DrawHeaderActions")],gt);let _t=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{xyMode:i,visibleElements:o}=e;return(0,R.K)(vt,{context:t,fields:[..."direction-distance"===i?[o.direction?e.direction:void 0,o.distance?e.distance:void 0]:[o.coordinates?e.effectiveX:void 0,o.coordinates?e.effectiveY:void 0],o.elevation?e.elevation:void 0,o.area?e.area:void 0],mode:n})}_renderActions(){const{xyMode:t,sketchOptions:e}=this.info;return(0,R.K)(gt,{sketchOptions:e,visibleElements:{direction:"direction-distance"===t}})}};_t=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],_t);let yt=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{xyMode:i,visibleElements:o}=e;return(0,R.K)(vt,{context:t,fields:[..."direction-distance"===i?[o.direction?e.direction:void 0,o.distance?e.distance:void 0]:[o.coordinates?e.effectiveX:void 0,o.coordinates?e.effectiveY:void 0],o.elevation?e.elevation:void 0,o.totalLength?e.totalLength:void 0],mode:n})}_renderActions(){const{xyMode:t,sketchOptions:e}=this.info;return(0,R.K)(gt,{sketchOptions:e,visibleElements:{direction:"direction-distance"===t}})}};yt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],yt);let Ct=class extends et{_renderContent(){const{area:t,xSize:e,ySize:n,visibleElements:i}=this.info,o=this._messagesTooltip.sketch,l=this._formatters;return(0,R.K)(R.w,null,i.size&&null!=e&&null!=n?(0,R.K)(z,{title:o.size,value:(0,R.K)(B,{left:l.length(e),right:l.length(n)})}):null,i.area?(0,R.K)(z,{title:o.area,value:l.area(t)}):null)}};Ct=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],Ct);let wt=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{visibleElements:i}=e;return(0,R.K)(vt,{context:t,fields:[i.elevation?e.elevation:void 0],mode:n})}};wt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentElevation")],wt);let bt=class extends et{_renderContent(){const{angle:t,visibleElements:e}=this.info,n=this._messagesTooltip.sketch;return(0,R.K)(R.w,null,e.rotation?(0,R.K)(z,{title:n.rotation,value:this._formatters.angleRelative(t)}):null)}};bt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],bt);let xt=class extends et{_renderContent(){const t=this.info,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,R.K)(R.w,null,e.size?(0,R.K)(z,{title:n.size,value:(0,R.K)(B,{left:i.length(t.xSize),right:i.length(t.ySize)})}):null,e.scale?(0,R.K)(z,{title:n.scale,value:(0,R.K)(B,{left:i.scale(t.xScale),right:i.scale(t.yScale)})}):null)}};xt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],xt);let kt=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{visibleElements:i}=e;return(0,R.K)(vt,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0],mode:n})}};kt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentMovePoint")],kt);let Mt=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{visibleElements:i}=e;return(0,R.K)(vt,{context:t,fields:[i.distance?e.distance:void 0,i.area?e.area:void 0,i.totalLength?e.totalLength:void 0],mode:n})}};Mt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],Mt);let Kt=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{visibleElements:i}=e;return(0,R.K)(vt,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.area&&"polygon"===e.geometryType?e.area:null,i.totalLength&&"polyline"===e.geometryType?e.totalLength:null],mode:n})}};Kt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentSelectedVertex")],Kt);let Tt=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{visibleElements:i}=e;return(0,R.K)(vt,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.orientation?e.orientation:void 0,i.scale?e.scale:void 0],mode:n})}};Tt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTransformMesh")],Tt);let It=class extends et{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{visibleElements:i}=e;return(0,R.K)(vt,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.orientation?e.orientation:void 0,i.size?e.size:void 0],mode:n})}};It=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTransformPoint")],It);let Zt=class extends et{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,R.K)(R.w,null,e.distance?(0,R.K)(z,{title:n.distance,value:i.length(t.distance)}):null)}};Zt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslate")],Zt);let Et=class extends et{_renderContent(){const{distance:t,elevation:e,area:n,totalLength:i,visibleElements:o}=this.info,l=this._messagesTooltip.sketch,s=this._formatters;return(0,R.K)(R.w,null,o.distance?(0,R.K)(z,{title:l.distance,value:s.length(t)}):null,o.elevation&&null!=(null===e||void 0===e?void 0:e.actual)?(0,R.K)(z,{title:l.elevation,value:s.verticalLength(e.actual)}):null,o.area&&null!=n?(0,R.K)(z,{title:l.area,value:s.area(n)}):null,o.totalLength&&null!=i?(0,R.K)(z,{title:l.totalLength,value:s.length(i)}):null)}};Et=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],Et);let At=class extends et{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,R.K)(R.w,null,e.distance?(0,R.K)(z,{title:n.distance,value:i.length(t.distance)}):null)}};At=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateXY")],At);let Pt=class extends et{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch;return(0,R.K)(R.w,null,e.distance?(0,R.K)(z,{title:n.distance,value:this._formatters.verticalLengthRelative(t.distance)}):null)}};Pt=(0,m.Cg)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],Pt);const Dt={base:"".concat(K),ltr:"".concat(K,"--ltr"),rtl:"".concat(K,"--rtl"),debug:"".concat(K,"--debug")};let Ot=class extends _.nJ{constructor(t){super(t),this.info=null,this.options=null,this.position=null,this.content=null,this._focused=!1,this.outerContainer=document.createElement("div"),this.debug=!1,this._updatingHandles=new k.U,this._lastPosition=null,this._rtl=!1,this._prevXY=[0,0]}initialize(){const{outerContainer:t}=this;this.addHandles([(0,r.wB)(()=>{var t;return null===(t=this.view.overlay)||void 0===t?void 0:t.surface},e=>{t.remove(),null!==e&&void 0!==e&&e.appendChild(t),this._rtl=(0,F.V8)(e)},r.pc),(0,r.wB)(()=>this.info,(e,n)=>{if(null!=this.content&&null!=e&&null!=n&&e.type===n.type)this.content.info=e;else{(0,C.pR)(this.content);const n=function(t,e){if(null==e)return null;const n=document.createElement("div");switch(e.type){case"draw-point":case"draw-multipoint":return new ht({tooltip:t,info:e,container:n});case"draw-polygon":return new _t({tooltip:t,info:e,container:n});case"draw-polyline":return new yt({tooltip:t,info:e,container:n});case"draw-mesh":return new pt({tooltip:t,info:e,container:n});case"draw-rectangle":return new Ct({tooltip:t,info:e,container:n});case"draw-circle":return new lt({tooltip:t,info:e,container:n});case"elevation":return new wt({tooltip:t,info:e,container:n});case"extent-rotate":return new bt({tooltip:t,info:e,container:n});case"extent-scale":return new xt({tooltip:t,info:e,container:n});case"move-point":return new kt({tooltip:t,info:e,container:n});case"selected-vertex":return new Kt({tooltip:t,info:e,container:n});case"transform-point":return new It({tooltip:t,info:e,container:n});case"transform-mesh":return new Tt({tooltip:t,info:e,container:n});case"translate":return new Zt({tooltip:t,info:e,container:n});case"translate-vertex":return new Et({tooltip:t,info:e,container:n});case"translate-z":return new Pt({tooltip:t,info:e,container:n});case"translate-xy":return new At({tooltip:t,info:e,container:n});case"reshape-edge-offset":return new Mt({tooltip:t,info:e,container:n})}}(this,e);n?(this.content=n,n.container&&t.appendChild(n.container),this.exitInputMode()):this.content=null}},r.pc),(0,r.wB)(()=>({container:this.outerContainer,style:this._outerContainerStyle}),t=>{let{container:e,style:n}=t;Object.assign(e.style,n)},r.Vh),(0,r.wB)(()=>({outerContainer:this.outerContainer,placement:this.effectivePlacement,effectiveOffset:this._effectiveOffset,rtl:this._rtl,debug:this.debug}),t=>{let{outerContainer:e,placement:n,effectiveOffset:i,rtl:o,debug:l}=t;const{classList:s}=e;s.add(Dt.base),s.toggle(Dt.rtl,o),s.toggle(Dt.ltr,!o),s.toggle(Dt.debug,l),this.outerContainer.style.setProperty("--offset","".concat(i,"px")),(0,M.Tu)(e),function(t,e){let{classList:n}=t;St.forEach(t=>n.remove(t)),n.add(Lt(e))}(e,n)},r.Vh),(0,r.z7)(()=>"feedback"===this.mode,()=>{this.position=null,this._clearOverride("effectivePlacement")},r.OH),(0,y.on)(this.outerContainer,"paste",t=>{this.emit("paste",t)}),(0,y.on)(this.outerContainer,["focusin","focusout"],()=>{var t,e;this._focused=null!==(t=null===(e=this.content)||void 0===e||null===(e=e.container)||void 0===e?void 0:e.contains(document.activeElement))&&void 0!==t&&t})])}destroy(){this.info=null,this.content=(0,C.pR)(this.content),this.outerContainer.remove(),this._updatingHandles.destroy()}get mode(){var t,e;return null!==(t=null===(e=this.content)||void 0===e?void 0:e.mode)&&void 0!==t?t:"feedback"}get focused(){return this._focused}get visible(){return"none"!==this._outerContainerStyle.display}get contentContainer(){var t;return null===(t=this.content)||void 0===t?void 0:t.container}get effectivePlacement(){var t;const e=null===(t=this.options)||void 0===t?void 0:t.placement;return"auto"===e?"bottom-end":null!==e&&void 0!==e?e:"bottom-end"}get updating(){return this._updatingHandles.updating}get _screenPoint(){var t;const{inputManager:e}=this.view;return null!==e&&void 0!==e&&e.multiTouchActive?null:null===e||void 0===e||null===(t=e.latestPointerInfo)||void 0===t?void 0:t.location}get _effectiveOffset(){var t,e;return null!==(t=null===(e=this.options)||void 0===e?void 0:e.offset)&&void 0!==t?t:20}get _outerContainerStyle(){var t;const e=null!==(t=this.position)&&void 0!==t?t:this._screenPoint;return this._lastPosition=(0,w.y8)(e),null!=e&&null!=this.content?{display:"block",transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}:{display:"none",transform:"none"}}clear(){this.info=null}async enterInputMode(t){var e,n,i;const o=null!==(e=null!==(n=this.position)&&void 0!==n?n:this._lastPosition)&&void 0!==e?e:this._screenPoint,l=this.position=(0,w.y8)(o),{effectivePlacement:s}=this;this._override("effectivePlacement",s);await this._updatingHandles.addPromise(null===(i=this.content)||void 0===i?void 0:i.enterInputMode(t,()=>{l&&(this.position=function(t,e,n,i){if(!t||!i.container)return e;const o=t.getBoundingClientRect(),{left:l,top:s}=i.container.getBoundingClientRect();let{x:r,y:a}=e;const c=o.left-l-n;c<0&&(r-=c);const d=o.right-l+n-i.width;d>0&&(r-=d);const u=o.top-s-n;u<0&&(a-=u);const v=o.bottom-s+n-i.height;return v>0&&(a-=v),(0,w.tc)(r,a)}(this.contentContainer,l,this._effectiveOffset,this.view),Object.assign(this.outerContainer.style,this._outerContainerStyle))}))}async exitInputMode(t){var e;await this._updatingHandles.addPromise(null===(e=this.content)||void 0===e?void 0:e.exitInputMode(t))}onDragStart(t,e){this._prevXY=[t,e]}onDrag(t,e){const n=t-this._prevXY[0],i=e-this._prevXY[1];this._prevXY=[t,e];const{position:o}=this;if(o){const{view:l}=this,s=t-l.position[0],r=e-l.position[1];if(s<0||s>l.width||r<0||r>l.height-16)return;this.position=(0,w.tc)(o.x+n,o.y+i)}}onDragEnd(){this._prevXY=[0,0]}};(0,m.Cg)([(0,b.MZ)({nonNullable:!0})],Ot.prototype,"view",void 0),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"info",void 0),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"options",void 0),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"position",void 0),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"content",void 0),(0,m.Cg)([(0,b.MZ)({readOnly:!0})],Ot.prototype,"mode",null),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"_focused",void 0),(0,m.Cg)([(0,b.MZ)({readOnly:!0})],Ot.prototype,"focused",null),(0,m.Cg)([(0,b.MZ)({readOnly:!0})],Ot.prototype,"outerContainer",void 0),(0,m.Cg)([(0,b.MZ)({readOnly:!0})],Ot.prototype,"contentContainer",null),(0,m.Cg)([(0,b.MZ)({readOnly:!0})],Ot.prototype,"effectivePlacement",null),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"debug",void 0),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"updating",null),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"_lastPosition",void 0),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"_screenPoint",null),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"_rtl",void 0),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"_effectiveOffset",null),(0,m.Cg)([(0,b.MZ)()],Ot.prototype,"_outerContainerStyle",null),Ot=(0,m.Cg)([(0,x.$)("esri.views.interactive.Tooltip")],Ot);const St=["top","bottom","leading","trailing"].flatMap(t=>[Lt("".concat(t,"-start")),Lt(t),Lt("".concat(t,"-end"))]);function Lt(t){return"".concat(Dt.base,"--").concat(t)}const Vt=Ot;var Ft=n(89646);function Rt(t){const e=new Vt(t());return e.addHandles((0,r.wB)(()=>t(),t=>{let{view:n,options:i,info:o}=t;e.view=n,void 0!==i&&(e.options=i),void 0!==o&&(e.info=o)})),e}function $t(t,e){const n=(0,p.Hq)(e.vertexSpace),{scale:i,orientation:o}=t,{transform:l}=e,r=function(t){var e;const n=90;if(!t)return n;const i=null!==(e=Bt(t.rotationAxis))&&void 0!==e?e:1;return null!=i?n+i*t.rotationAngle:null}(l);n&&null!=r?(o.actual=(0,s.Wq)(r,"degrees","arithmetic"),o.visible=!0):(o.actual=null,o.visible=!1),n?(i.actual=(0,s.LF)(Nt(l)),i.visible=!0):(i.actual=null,i.visible=!1)}function Ht(t,e,n){var i;if(!e||!(0,p.Hq)(e.vertexSpace))return;const o=null!==(i=e.transform)&&void 0!==i?i:e.transform=new v.A;(function(t,e,n){const i=(0,Ft.Ef)(t.orientation.actual),o=Bt(e.rotationAxis);if(null==i||null==o)return;const s=i-90,r=e.rotationAngle,a=s*o,c=a-r;(0,l.Io)(r,a)||(null!==n&&void 0!==n&&n.onRotateStart(0),e.rotationAngle=a,null!==n&&void 0!==n&&n.onRotate(c),null===n||void 0===n||n.onRotateStop(c))})(t,o,n),function(t,e,n){var i;const o=null===(i=t.scale.actual)||void 0===i?void 0:i.value,l=Nt(e);if(null==o||o===l)return;const{scale:s}=e;let r;if(0===l)r=(0,d.o8)(d.Un);else{const t=o/l;r=(0,c.h)((0,d.vt)(),s,t)}null!==n&&void 0!==n&&n.onScaleStart(s[0],s[1],s[2]),e.scale=r,null!==n&&void 0!==n&&n.onScale(r[0],r[1],r[2]),null===n||void 0===n||n.onScaleStop(r[0],r[1],r[2])}(t,o,n)}function zt(t,e){const{x:n,y:i,z:o}=e,{x:r,y:c,z:d}=function(t,e){var n,i;let o,l;t.geographic?(o=(0,Ft.hF)(t.longitude.actual),l=(0,Ft.hF)(t.latitude.actual),(0,h.K8)(e)&&(null!=o&&null!=l?[o,l]=(0,f.je)(o,l,Xt):null!=o?o=(0,f.je)(o,0,Xt)[0]:null!=l&&(l=(0,f.je)(0,l,Xt)[1]))):(o=null===(n=t.x.actual)||void 0===n?void 0:n.value,l=null===(i=t.y.actual)||void 0===i?void 0:i.value);const r=t.elevation.actual,c=(0,a.mq)(e);return{x:o,y:l,z:null!=c&&null!=r?(0,s.l3)(r,c):void 0}}(t,e.spatialReference);return{dx:null==r||(0,l.Io)(r,n)?0:r-n,dy:null==c||(0,l.Io)(c,i)?0:c-i,dz:null==d||null==o||(0,l.Io)(d,o)?0:d-o}}const Xt=[0,0];function Bt(t){return(0,c.G)(t,d.Cb)?1:(0,c.G)(t,Ut)?-1:null}const Ut=(0,c.u)((0,d.vt)(),d.Cb);function Nt(t){return t?Math.max(...t.scale):1}function Yt(t,e){return!("key-down"!==t.type||t.key!==g.ac.enterInputMode||!e||!function(t){const e=null===t||void 0===t?void 0:t.sketchOptions;if(!e)return!1;const{inputEnabled:n,visibleElements:i}=e.tooltips;return n&&!0===t.editableFields.some(t=>{let{name:e}=t;return"x"===e||"y"===e?i.coordinates:i[e]})}(e.info))&&(e.enterInputMode(),t.preventDefault(),t.stopPropagation(),!0)}function qt(t,e){let n=null;return(0,o.vE)([t.on("paste",o=>{var l;null!==(l=n)&&void 0!==l&&l.abort(),n=(0,i.UT)(async()=>{(0,u.s1)()||await(0,u.Hh)(),Wt(o,t.info,e)})}),(0,i.UT)(()=>(0,u.Hh)()),(0,o.hA)(()=>{var t;return null===(t=n)||void 0===t?void 0:t.abort()})])}function Wt(t,e,n){var i;if(!e||!("geographic"in e))return;const o=null===(i=t.clipboardData)||void 0===i?void 0:i.getData("text");if(!o)return;const l=e=>{t.stopPropagation(),t.preventDefault(),null!==n&&void 0!==n&&n.onBeforePaste(),e(),null===n||void 0===n||n.onAfterPaste()};if(e.geographic){const t=(0,j.X3)(o);t&&l(()=>{e.longitude.applyValue(t.longitude),e.latitude.applyValue(t.latitude)})}else{const t=(0,j.Nr)(o);t&&l(()=>{e.x.applyValue(t.x),e.y.applyValue(t.y)})}}},89646:(t,e,n)=>{n.d(e,{$h:()=>p,Ef:()=>b,IP:()=>f,P1:()=>y,hF:()=>w,jQ:()=>_,rT:()=>C,uR:()=>g});var i=n(73582),o=n(24648),l=n(31633),s=n(19555),r=n(72745),a=n(20664),c=n(9392),d=n(14487),u=n(7137),v=n(80963);function p(t,e){if(null==t||null==e)return;const n=h(t,e);return null!=n?(0,o.Wq)(n,"radians","geographic"):void 0}const h=(()=>{const t=(0,c.vt)(),e=(0,c.vt)();return(n,i)=>{var o,l;return(0,a.j)(t,n.x,n.y,null!==(o=n.z)&&void 0!==o?o:0),(0,a.j)(e,i.x,i.y,null!==(l=i.z)&&void 0!==l?l:0),f(t,e,n.spatialReference,i.spatialReference)}})(),f=(()=>{const t=(0,r.vt)(),e=(0,c.vt)(),n=(0,c.vt)();return(i,o,c,p)=>{if((0,a.q)(i,o))return;const h=(0,u.Xn)(c),f=(0,u.Xn)(p);if(h&&f&&(0,v.aI)(h,f)&&(0,d.F)(i,c,e,h)&&(0,d.F)(o,p,n,f)){const{azimuth:t}=(0,u._3)(k,e,n,h);return null!=t?(0,l.oU)(t,"degrees","radians"):void 0}t[0]=o[0]-i[0],t[1]=o[1]-i[1];let g=(0,s.g7)(r.JP,t);return t[0]<0&&(g=M-g),g}})();function g(t,e,n){if(e&&n)switch(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"absolute"){case"absolute":return p(e,n);case"relative":return _(m(t,e,n),"relative");case"relative-bilateral":return _(m(t,e,n),"relative-bilateral")}}function m(t,e,n){if(!t||!e||!n)return;const i=h(t,e),l=h(e,n);return null!=i&&null!=l?(0,o.Wq)(l-i,"radians","geographic"):void 0}function _(t,e){if(null!=t)switch(e){case"absolute":return y(t);case"relative":{const e=w(t);let n=T.normalize(e,0,!0);return-180===n&&(n=180),(0,o.Wq)(n,"degrees","geographic")}case"relative-bilateral":{const e=w(t),n=Math.abs(T.normalize(e,0,!0));return(0,o.Wq)(n,"degrees","geographic")}}}function y(t){const e=w(t),n=K.normalize(e,0,!0);return(0,o.Wq)(n,"degrees","geographic")}const C=(()=>{const t=(0,c.vt)();return function(e,n,i,s,r){let c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"geodesic";(0,a.d)(t,n);const v=w(r);if("geodesic"===c){const o=(0,u.Xn)(i);if(o&&(0,d.F)(t,i,t,o))return(0,u.vN)(e,t,v,s,o),e[2]=n[2],!!(0,d.F)(e,o,e,i)}const p=(0,o.g2)(v,"geographic","arithmetic"),h=(0,l.oU)(p,"degrees","radians"),f=n[0]+s*Math.cos(h),g=n[1]+s*Math.sin(h),m=n[2];return(0,a.j)(e,f,g,m),!0}})();function w(t){if(null!=t)return(0,o.g2)(x(t),t.rotationType,"geographic")}function b(t){if(null!=t)return(0,o.g2)(x(t),t.rotationType,"arithmetic")}function x(t){return(0,l.oU)(t.value,t.unit,"degrees")}const k=new u.Zj,M=2*Math.PI,K=i.ie,T=new i.hr(-180,180)}}]);
//# sourceMappingURL=94471.f544c037.chunk.js.map