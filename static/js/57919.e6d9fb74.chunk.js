"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[57919],{10600:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(27106);function o(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function o(t,n){try{var l=e[t](n),s=l.value,a=s instanceof r.A;Promise.resolve(a?s.v:s).then(function(n){if(a){var r="return"===t?"return":"next";if(!s.k||n.done)return o(r,n);n=e[r](n).value}i(l.done?"return":"normal",n)},function(e){o("throw",e)})}catch(e){i("throw",e)}}function i(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?o(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,l){var s={key:e,arg:r,resolve:i,reject:l,next:null};n?n=n.next=s:(t=n=s,o(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)}},27106:(e,t,n)=>{function r(e,t){this.v=e,this.k=t}n.d(t,{A:()=>r})},27631:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(50076);class o extends r.A{constructor(e,t,n){super(e,t,n),this.name="unknown",this.name=e}}},45564:(e,t,n)=>{n.d(t,{Fc:()=>l,WG:()=>i,zj:()=>o});n(54901);let r={noDataValue:-5e5,defaultQueryOptions:()=>({noDataValue:r.noDataValue,demResolution:"auto",maximumAutoTileRequests:150,ignoreInvisibleLayers:!0,signal:null}),updateThrottleMillis:100,delayAfterPreviewMillis:500,defaultDemResolution:(0,n(31633).oU)(10,"centimeters","meters"),densificationMaxSamples:3e3,largeChartSamples:1e4,maxTotalSamples:1e5,maxChartRatio:300,minSlopeSampleDistance:10,formatPrecision:1,profileLinesUpdateThrottleMillis:100,hoveredPointsStyle:{size:14,borderStyle:"solid",borderWidth:3,borderColor:"#ffffff",boxShadow:"0px 0px 0px 5px rgba(255,255,255,0.2)"}};function o(){return r}const i={progress:1,hasZ:!1,samples:[],statistics:null,spatialReference:null},l=" \u2015 "},47453:(e,t,n)=>{n.d(t,{Bk:()=>s,ON:()=>i,Zz:()=>o,oU:()=>l});var r=n(27631);class o extends r.A{constructor(){super("too-complex","The input geometry has too many points.")}}class i extends r.A{constructor(){super("invalid-geometry","The input geometry is invalid.")}}class l extends r.A{constructor(){super("elevation-query-error","Error querying elevation from provider.")}}class s extends r.A{constructor(){super("unknown","Unknown error.")}}},55964:(e,t,n)=>{n.d(t,{Ai:()=>h,Rg:()=>A,VJ:()=>T,_W:()=>S,lM:()=>x,yK:()=>w});var r=n(15941),o=n(50346),i=n(31633),l=n(19555),s=n(20664),a=n(23701),u=n(56611),c=n(13312),f=n(7137),p=n(12482),d=n(47453);async function h(e,t,r,l,s,a,p){let h,g,y;const w=e.spatialReference,x=w.isGeographic||w.isWebMercator;let A=0;if(!x){const{execute:t}=await Promise.all([n.e(26871),n.e(16364),n.e(56175),n.e(48045),n.e(65661)]).then(n.bind(n,89227));(0,o.Te)(p),A=t(e,{unit:"meters"}),(0,o.Te)(p)}const R=1/(0,i.GA)(l);if(x){await(0,u.initializeProjection)([{source:w,dest:l},{source:w,dest:c.A.WGS84}],p);const n=function(e){return(0,f.TT)(e.spatialReference)?e:(0,u.project)(e,c.A.WGS84)}(e);h=(0,f.l1)([n],"meters")[0];const o=m(h,s);if(D(e,h,o)>a)throw new d.Zz;const i=v(n,t,r);({densifiedPath:g,distances:y}=function(e,t,n){const{hasZ:r}=e;return P(e,t,n,Z,r?b:_)}(i,o,R)),g=(0,u.project)(g,l)}else{await(0,u.initializeProjection)([{source:w,dest:l}],p),h=A;const n=m(h,s);if(D(e,h,n)>a)throw new d.Zz;const i=v(e,t,r);({densifiedPath:g,distances:y}=function(e,t,n){const{hasZ:r}=e;return P(e,t,n,E,r?M:k)}(i,n,R)),(0,o.Te)(p),g=(0,u.project)(g,l)}return{densifiedPath:g,pathLength:h*R,distances:y}}function m(e,t){const n=e/t.densificationMaxSamples;return Math.max(t.samplingDistance,n)}function v(e,t,n){if(null==t)return g(e);const r=e.spatialReference,o=t.mode,i=(0,p.Ze)(t,r);let l=null;switch(n.type){case"2d":l=function(e,t,n){let{hasZ:r}=e;return"absolute-height"===t?r?e=>{let[t,r,o]=e;return[t,r,o+n]}:e=>{let[t,r]=e;return[t,r,n]}:null}(e,o,i);break;case"3d":l=function(e,t,n,r){let{spatialReference:o,hasZ:i}=e,{elevationProvider:l}=r;const s=(e,t,n,r)=>{var i;return null!==(i=null===l||void 0===l?void 0:l.getElevation(e,t,n,o,r))&&void 0!==i?i:0};switch(t){case"on-the-ground":return e=>{let[t,n]=e;return[t,n,s(t,n,0,"ground")]};case"absolute-height":return i?e=>{let[t,r,o]=e;return[t,r,o+n]}:e=>{let[t,r]=e;return[t,r,n]};case"relative-to-ground":return i?e=>{let[t,r,o]=e;return[t,r,o+s(t,r,o,"ground")+n]}:e=>{let[t,r]=e;return[t,r,s(t,r,0,"ground")+n]};case"relative-to-scene":return i?e=>{let[t,r,o]=e;return[t,r,o+s(t,r,o,"scene")+n]}:e=>{let[t,r]=e;return[t,r,s(t,r,0,"scene")+n]};default:return null}}(e,o,i,n)}return null==l?g(e):new a.A({hasZ:!0,hasM:!1,spatialReference:r,paths:y(e.paths,l)})}function g(e){return e.hasZ?new a.A({hasZ:!1,hasM:!1,spatialReference:e.spatialReference,paths:y(e.paths,e=>{let[t,n]=e;return[t,n]})}):e}function y(e,t){const n=e.length,r=new Array(n);for(let o=0;o<n;++o){const n=e[o],i=n.length,l=new Array(n.length);r[o]=l;for(let e=0;e<i;++e)l[e]=t(n[e])}return r}function w(e){return A(e)&&e.paths.some(e=>e.length>1)}function x(e){return function(e){return R(e)&&A(null===e||void 0===e?void 0:e.geometry)}(e)&&w(e.geometry)}function A(e){return!R(e)&&null!=e&&"polyline"===e.type}function R(e){return null!=e&&"geometry"in e}function S(e){const t=null===e||void 0===e?void 0:e.layer;return null!=t&&"graphics"===t.type&&t.internal}function P(e,t,n,o,l){const{spatialReference:s,hasZ:u}=e,c={from:null,to:null,distance:0,azimuth:0,reverseAzimuth:0,spatialReference:s,metersPerSR:(0,i.GA)(s)},f=[],p=[];let d=0;for(let i=0;i<e.paths.length;++i){const s=e.paths[i],a=new Array,u=new Array;let h=0;for(let e=1;e<s.length;++e){const i=s[e-1],f=s[e],p=o(c,i,f);let m;for(m=h;m<p.distance&&!(0,r.Io)(m,p.distance);m+=t)a.push(l(p,m)),u.push((d+m)*n);h=m-p.distance,d+=p.distance,a.push(f),u.push(d*n)}f[i]=a,p[i]=u}return{densifiedPath:new a.A({spatialReference:s,hasZ:u,paths:f}),distances:p}}function Z(e,t,n){return e.distance=0,(0,f._3)(e,t,n,e.spatialReference),e.from=t,e.to=n,e}function E(e,t,n){return e.from=t,e.to=n,e.distance=(0,l.Io)(n,t)*e.metersPerSR,e}function _(e,t){let{from:n,azimuth:r,spatialReference:o}=e;return(0,f.vN)([0,0],n,r,t,o)}function b(e,t){let{from:n,to:o,azimuth:i,distance:l,spatialReference:s}=e;const a=t/l,u=[0,0,(0,r.Cc)(n[2],o[2],a)];return(0,f.vN)(u,n,i,t,s),u}function k(e,t){let{from:n,to:r,distance:o}=e;return(0,l.Cc)([0,0],n,r,t/o)}function M(e,t){let{from:n,to:r,distance:o}=e;return(0,s.l)([0,0,0],n,r,t/o)}function T(e){return e.paths.reduce((e,t)=>e+t.length,0)}function D(e,t,n){return T(e)+Math.floor(t/n)+Math.max(0,e.paths.reduce(e=>1+e,0)-1)}},56218:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(27106);function o(e){return new r.A(e,0)}},57919:(e,t,n)=>{n.d(t,{qX:()=>M,LD:()=>P,uK:()=>x,xi:()=>T});var r=n(89379),o=n(56218),i=n(10600),l=n(18690),s=n(15941),a=n(50346),u=n(66388),c=n(5262),f=n(80963),p=n(45564),d=n(47453),h=n(55964),m=n(80397);function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e>=t)return n;if(n.push(e),t-e<2)return n;const r=t-1;n.push(r);const o=g(e+1,r);for(;;){const e=o.next();if(e.done)break;n.push(e.value)}return n}function*g(e,t){if(e>=t)return;const n=e+Math.floor((t-e)/2);yield n;const r=g(e,n),o=g(n+1,t);for(;;){const e=r.next(),t=o.next();if(e.done&&t.done)break;e.done||(yield e.value),t.done||(yield t.value)}}var y=n(27243),w=n(59752);function x(e,t){return A.apply(this,arguments)}function A(){return A=(0,i.A)(function*(e,t){var n;const{view:i,geometry:l,elevationInfo:s,providers:u,options:c}=e,f=i.spatialReference;if(!f||null==l||!(0,h.yK)(l))throw new d.ON;const m=u.length;if(0===m)return null;const v=Math.round(c.maxTotalSamples/m);if((0,h.VJ)(l)>v)throw new d.Zz;const g=yield(0,o.A)((0,h.Ai)(l,s,i,f,c,v,t));(0,a.Te)(t);let y=0;const w=new Array(m),x=new Array(m);for(let o=0;o<m;o++){const n=E(g);w[o]=n,y+=n.samples.length;const i=(0,r.A)((0,r.A)({},e),{},{provider:u[o],result:n,densificationResult:g});x[o]=R(i,t)[Symbol.iterator]()}if(y>c.maxTotalSamples)throw new d.Zz;const A=yield(0,o.A)(Promise.all(x.map(e=>{const t=e.next();return!0===t.done?Promise.resolve(null):t.value})));(0,a.Te)(t);for(let r=0;r<m;r++)w[r]=A[r];yield w,yield(0,o.A)((0,a.Pl)(null!==(n=e.delayAfterPreview)&&void 0!==n?n:(0,p.zj)().delayAfterPreviewMillis,null,t.signal)),(0,a.Te)(t);const S=[];try{let e;do{e=!1;for(let t=0;t<m;t++){const n=x[t].next();!1===n.done&&(S.push({resultPromise:n.value,index:t}),e=!0)}}while(e)}finally{x.forEach(e=>{var t;return null===(t=e.return)||void 0===t?void 0:t.call(e)})}for(const{resultPromise:r,index:p}of S)w[p]=yield(0,o.A)(r),(0,a.Te)(t),yield w;for(const r of w)null!=r&&(r.progress=1);yield w}),A.apply(this,arguments)}function*R(e,t){const{densificationResult:n}=e,o=(0,r.A)((0,r.A)({},e),{},{abortOptions:t,densificationResult:n}),i=v(0,o.result.samples.length),s=i.slice(0,o.provider.numSamplesForPreview);yield S(o,s,!0);const a=(0,l.Ho)(i,o.provider.numSamplesPerChunk);for(const r of a)yield S(o,r,!1)}async function S(e,t,n){let{densificationResult:o,result:i,provider:l,queue:s,abortOptions:c,cache:f}=e;const{densifiedPath:d,pathLength:h}=o,m=i.spatialReference,{samples:v}=i,g=[];for(let r=0;r<t.length;r++){const e=v[t[r]];g[r]=[...e.coordinate]}try{return await s.push({geometry:new u.A({spatialReference:m,points:g,hasZ:d.hasZ}),provider:l,indices:t,preview:n,result:i,parameters:(0,r.A)((0,r.A)({},(0,p.zj)().defaultQueryOptions()),{},{minDemResolution:n?Math.round(h/l.numSamplesForPreview):Math.round(h/v.length),cache:f})},c),(0,r.A)({},i)}catch(y){return(0,a.zf)(y)?null:p.WG}}function P(e){return new y.F({priority:w.W6.ELEVATION_PROFILE,concurrency:1,scheduler:e,process:async e=>{(0,a.Te)(e.parameters);try{await async function(e){let{geometry:t,provider:n,indices:r,preview:o,result:i,parameters:l}=e;if(0===r.length)return;const s=(await async function(e,t,n){try{return await e.queryElevation(t,n)}catch(o){throw new d.oU}}(n,t,l)).geometry,{hasZ:a,points:u}=s,c=l.noDataValue,{samples:f}=i;for(let p=0;p<r.length;p++){const e=f[r[p]];if(e.isHole)continue;const t=a?u[p][2]:null;null===t||t===c?e.sampledZ=null:(i.hasZ=!0,e.sampledZ=t),e.sampled=!0}(function(e){const t=e.length-1;let n=0;for(let r=1;r<=t;r++)(e[r].sampled||r===t)&&(Z(e,n,r),n=r)})(f),i.progress=o?0:i.progress+r.length/f.length,i.statistics=(0,m.mW)(i.samples,i.spatialReference)}(e)}catch(t){(0,a.jH)(t)}}})}function Z(e,t,n){if(n-t===1)return;const r=e[t],o=r.sampledZ,i=e[n],l=i.sampledZ;if(null==o||null==l){for(let r=t+1;r<n;r++)e[r].sampledZ=null;return}const a=r.distance,u=i.distance-a;for(let c=t+1;c<n;c++){const t=e[c],n=(t.distance-a)/u;t.sampledZ=(0,s.Cc)(o,l,n)}}function E(e){let{densifiedPath:t,distances:n}=e;const r=t.spatialReference,o=(0,f.Vp)(r),i=t.paths,l=i.length,s=[];let a=null,u=0;for(let f=0;f<l;f++){const e=i[f],t=e.length,r=n[f];for(let n=0;n<t;n++){const t=e[n],i=r[n];o&&(t[0]=(0,c.N6)(t[0],o.valid[0],o.valid[1])),a&&0===n&&_(s,a,t,u,i),s.push(b(t,i)),a=t,u=i}}return{progress:0,samples:s,hasZ:!1,statistics:null,spatialReference:r}}function _(e,t,n,r,o){e.push(k(t,r)),e.push(k(n,o))}function b(e,t){return{coordinate:e,distance:t,sampledZ:null,sampled:!1,isHole:!1}}function k(e,t){return{coordinate:e,distance:t,sampledZ:null,sampled:!0,isHole:!0}}function M(e,t,n){if(!e||0===e.length)return;const r=e.length-1,o=e[0];if(t<=n(o))return o;const i=e[r];if(t>=n(i))return i;let l=0,s=0,a=r;for(;l<a;){s=l+Math.floor((a-l)/2);const o=e[s],i=n(o);if(i===t)return o;if(t<i){if(s>0){const r=e[s-1],l=n(r);if(t>l)return t-l>=i-t?o:r}a=s}else{if(s<r){const r=e[s+1],l=n(r);if(t<l)return t-i>=l-t?r:o}l=s+1}}return e[s]}function T(e){return e>.999999?1:e}},80397:(e,t,n)=>{n.d(t,{DM:()=>a,ch:()=>s,mW:()=>l});var r=n(18690),o=n(31633),i=n(45564);function l(e,t){const n=e.length;if(0===n)return null;const r=e[0],l=r.sampledZ;let s=l,a=l,f=0,d=0,h=null,m=null,v=null!=l?l:0,g=0,y=0,w=null!=l?1:0,x=0,A=0;const R=(0,o.GA)(t),S=(0,o.G9)(t),P=(0,i.zj)().minSlopeSampleDistance/R,Z=2*P,E=new p,_=new p,b=()=>{M(),E.copy(_),_.reset()},k=(e,t)=>{b(),e>0&&e-E.start<=Z&&(e=E.start+P),_.restart(e,t)},M=()=>{if(E.isHole||_.isHole)return;const e=_.avgElevation-E.avgElevation,t=_.start-E.start,n=e*S,r=t*R,i=(0,o.oU)(Math.atan2(n,r),"radians","degrees");i>0?(g+=i,h=c(h,i),x++):i<0&&(y-=i,m=c(m,-i),A++)};null!=r.sampledZ&&k(r.distance,r.sampledZ);for(let o=1;o<n;++o){const t=e[o-1],n=e[o],r=n.sampledZ;if(null==r){_.isHole||b();continue}w++,v+=r,s=u(s,r),a=c(a,r),_.isHole||n.distance-_.start>=P?k(n.distance,r):_.insert(r);const i=t.sampledZ;if(null!=i){const e=r-i;e>0?f+=e:e<0&&(d-=e)}}return b(),0===w?null:{maxDistance:e[n-1].distance,minElevation:s,maxElevation:a,avgElevation:0===w?null:v/w,elevationGain:f,elevationLoss:d,maxPositiveSlope:h,maxNegativeSlope:m,avgPositiveSlope:0===x?null:g/x,avgNegativeSlope:0===A?null:y/A}}function s(e){const t=e.filter(r.Ru),n=t.length;if(0===n)return null;const o=t[0];if(1===n)return o;let i=o.maxDistance,l=o.minElevation,s=o.maxElevation,a=o.maxPositiveSlope,f=o.maxNegativeSlope;for(let r=1;r<t.length;++r){const e=t[r];i=c(i,e.maxDistance),l=u(l,e.minElevation),s=c(s,e.maxElevation),a=c(a,e.maxPositiveSlope),f=c(f,e.maxNegativeSlope)}return{maxDistance:i,minElevation:l,maxElevation:s,avgElevation:null,elevationGain:null,elevationLoss:null,maxPositiveSlope:a,maxNegativeSlope:f,avgPositiveSlope:null,avgNegativeSlope:null}}function a(e){let t=null,n=null,r=null;for(const i of e){if(null==i)continue;const{statistics:e,spatialReference:l}=i;if(null==e)continue;const s=(0,o.GA)(l);t=c(t,f(e.maxDistance,s));const a=(0,o.G9)(l);r=u(r,f(e.minElevation,a)),n=c(n,f(e.maxElevation,a))}return{minDistance:0,maxDistance:null!==t&&void 0!==t?t:0,minElevation:null!==r&&void 0!==r?r:0,maxElevation:null!==n&&void 0!==n?n:0}}function u(e,t){return null==t?e:null!=e?Math.min(e,t):t}function c(e,t){return null==t?e:null!=e?Math.max(e,t):t}function f(e,t){return null!=e&&null!=t?e*t:null}class p{constructor(){this._start=0,this._totalElevation=0,this._sampleCount=0}get avgElevation(){return this._totalElevation/this._sampleCount}get isHole(){return 0===this._sampleCount}get start(){return this._start}copy(e){this._start=e._start,this._sampleCount=e._sampleCount,this._totalElevation=e._totalElevation}reset(){this._start=0,this._sampleCount=0,this._totalElevation=0}restart(e,t){this._start=e,this._sampleCount=1,this._totalElevation=t}insert(e){++this._sampleCount,this._totalElevation+=e}}}}]);
//# sourceMappingURL=57919.e6d9fb74.chunk.js.map