"use strict";(self.webpackChunksc_utility=self.webpackChunksc_utility||[]).push([[88577],{10760:(e,t,i)=>{i.d(t,{h:()=>n});let r=e=>({vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}),o=(e,t,i)=>{for(let n=0,s=t.length;n<s;n++){let s=t[n];Array.isArray(s)?o(e,s,i):null!=s&&!1!==s&&("string"==typeof s&&(s=r(s)),i.push(s))}};function n(e,t,i){if(Array.isArray(t))i=t,t=void 0;else if(t&&("string"==typeof t||t.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let r,n;return i&&1===i.length&&"string"==typeof i[0]?r=i[0]:i&&(n=[],o(e,i,n),0===n.length&&(n=void 0)),{vnodeSelector:e,properties:t,children:n,text:""===r?void 0:r,domNode:null}}},13284:(e,t,i)=>{i.d(t,{e:()=>r});class r{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},14727:(e,t,i)=>{i.d(t,{b:()=>c});var r=i(54901),o=i(30484),n=i(23543),s=i(20578),a=i(23241),l=i(56572);class c{draw(e,t){const i=function(e){const t=[];for(const i of e){let e=!0;for(const r of t)if(i.equals(r)){e=!1;break}e&&t.push(i)}return t}(e),c=this.sortUniqueHints(i),d=[];for(const r of c)r instanceof o.v&&d.push(this.visualizeIntersectionPoint(r,t)),r instanceof n.c&&d.push(this.visualizeLine(r,t)),r instanceof s.r&&d.push(this.visualizeParallelSign(r,t)),r instanceof l.l&&d.push(this.visualizeRightAngleQuad(r,t)),r instanceof a._&&d.push(this.visualizePoint(r,t));return(0,r.vE)(d)}sortUniqueHints(e){return e}}},23241:(e,t,i)=>{i.d(t,{_:()=>n});var r=i(20664),o=i(64753);class n extends o.m{constructor(e,t,i){super(t,i),this.point=e}equals(e){return e instanceof n&&(0,r.q)(this.point,e.point)}}},28048:(e,t,i)=>{i.d(t,{A:()=>d});var r=i(6326),o=i(69539),n=i(91967),s=i(46053),a=(i(81806),i(76460),i(47249),i(87990)),l=(i(27347),i(10760));i(48396);const c={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let d=class extends n.A{get position(){return[this.x,this.y]}set position(e){this._set("x",e[0]),this._set("y",e[1])}get _textShadowColor(){const{textColor:e,backgroundColor:t}=this,i=t.clone();return i.a*=e.a,i}get _textShadow(){const e=this._textShadowColor.toCss(!0);return"0 0 ".concat(this._textShadowSize,"px ").concat(e)}get padding(){return.5*this.fontSize}get borderRadius(){return this.padding}set borderRadius(e){this._overrideIfSome("borderRadius",e)}constructor(e){super(e),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new o.A([0,0,0,.6]),this.textColor=new o.A([255,255,255]),this._textShadowSize=1}render(){return(0,l.h)("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this.padding+"px",borderRadius:this.borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(e){if(!this.visible)return;const t=e.font.replace(/^(.*?)px/,"");e.font="".concat(this.fontSize,"px ").concat(t);const{padding:i,borderRadius:r}=this,o=e.measureText(this.text).width,n=""!==this.text?this.fontSize:0,s=u[this.anchor];e.textAlign="center",e.textBaseline="middle";const a=o+2*i,l=n+2*i,c=this.x+s.x*a,d=this.y+s.y*l;this._roundedRect(e,c,d,a,l,r),e.fillStyle=this.backgroundColor.toCss(!0),e.fill();const h=this.x+(s.x+.5)*a,p=this.y+(s.y+.5)*l;this._renderTextShadow(e,this.text,h,p),e.fillStyle=this.textColor.toCss(!0),e.fillText(this.text,h,p)}_renderTextShadow(e,t,i,r){e.lineJoin="miter",e.fillStyle="rgba(".concat(this._textShadowColor.r,", ").concat(this._textShadowColor.g,", ").concat(this._textShadowColor.b,", ").concat(1/h.length,")");const o=this._textShadowSize;for(const[n,s]of h)e.fillText(t,i+o*n,r+o*s)}_roundedRect(e,t,i,r,o,n){n=Math.min(n,o/2,r/2),e.beginPath(),e.moveTo(t,i+n),e.arcTo(t,i,t+n,i,n),e.lineTo(t+r-n,i),e.arcTo(t+r,i,t+r,i+n,n),e.lineTo(t+r,i+o-n),e.arcTo(t+r,i+o,t+r-n,i+o,n),e.lineTo(t+n,i+o),e.arcTo(t,i+o,t,i+o-n,n),e.closePath()}_cssClasses(){const e={"esri-text-overlay-item":!0};let t;for(t in c)e[c[t]]=this.anchor===t;return e}};(0,r.Cg)([(0,s.MZ)()],d.prototype,"x",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"y",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"position",null),(0,r.Cg)([(0,s.MZ)()],d.prototype,"text",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"fontSize",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"anchor",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"visible",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"isDecoration",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"backgroundColor",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"textColor",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"_textShadowSize",void 0),(0,r.Cg)([(0,s.MZ)()],d.prototype,"_textShadowColor",null),(0,r.Cg)([(0,s.MZ)()],d.prototype,"_textShadow",null),(0,r.Cg)([(0,s.MZ)()],d.prototype,"padding",null),(0,r.Cg)([(0,s.MZ)()],d.prototype,"borderRadius",null),d=(0,r.Cg)([(0,a.$)("esri.views.overlay.TextOverlayItem")],d);const u={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},h=[];{const e=16;for(let t=0;t<360;t+=360/e)h.push([Math.cos(Math.PI*t/180),Math.sin(Math.PI*t/180)])}},47996:(e,t,i)=>{i.d(t,{n:()=>y});var r=i(68134),o=i(34761),n=i(13191),s=i(20664),a=i(9392),l=i(43047),c=i(55855),d=i(75762),u=i(18117),h=i(85746),p=i(1599),g=i(50468),f=i(17345),_=i(72017),v=i(442),m=i(76956),x=i(52479);class y extends h.X{constructor(e){super(e),this._maxSize=0,this._position=(0,a.vt)(),this._up=(0,a.vt)(),this._right=(0,a.vt)(),this._renderOccluded=4,this._color=(0,c.fA)(1,0,0,1),this._outlineColor=(0,c.fA)(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D(),forEachMaterial:(e,t)=>{t(e.outlineMaterial),t(e.quadMaterial)}}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:w,forEachMaterial:(e,t)=>{t(e.outlineMaterial),t(e.quadMaterial)}}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this._updateOutlineMaterial(),this._updateQuadMaterial()}get color(){return this._color}set color(e){(0,l.d)(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,l.d)(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry(e){let{previous:t,center:i,next:r}=e;this._maxSize=Math.min((0,s.k)(i,t),(0,s.k)(i,r))/3,(0,s.n)(this._up,(0,s.e)(this._up,t,i)),(0,s.n)(this._right,(0,s.e)(this._right,r,i)),(0,s.d)(this._position,i),this.recreateGeometry()}_createObject3DResources(e){const t=new m.v(this._quadMaterialParameters),i=0===this._outlineSize?void 0:new x.W(this._outlineMaterialParameters,this.view.state.isGlobal);return this._createObject3DGeometries(e,t,i),{quadMaterial:t,outlineMaterial:i}}_createObject3DGeometries(e,t,i){if((0,s.q)(this._up,a.uY)&&(0,s.q)(this._right,a.uY))return;const r=this._createGeometries(t,i);for(const o of r)e.addGeometry(o);this._updateTransformObject3D(e)}_createDrapedResources(){const e=new m.v(this._quadMaterialParameters),t=0===this._outlineSize?void 0:new x.W(this._outlineMaterialParameters,this.view.state.isGlobal),i=this._createGeometries(e,t).map(e=>new v.$(e));return this._setTransformDraped(i),{quadMaterial:e,outlineMaterial:t,geometries:i,pixelRatioHandle:(0,r.wB)(()=>this.view.state.contentPixelRatio,()=>this.drapedResources.recreateGeometry())}}_createGeometries(e,t){const{up:i,right:r,corner:o}=this._getVertices(),n=function(e,t,i,r){return new f.V(r,[["position",new g.n([0,0,0,...t,...e,...i],[0,1,2,1,2,3],3,!0)]])}(i,r,o,e);return t?[n,(0,_.Z8)(t,[i,o,r])]:[n]}_getVertices(){let e=this._up,t=this._right;const i=(0,s.g)(d.rq.get(),e,t);return this.isDraped&&(e=(0,s.d)(d.rq.get(),e),t=(0,s.d)(d.rq.get(),t),e[2]=0,t[2]=0,i[2]=0),{up:e,right:t,corner:i}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.object3dResources.object;if(!e)return;const t=this.view.state.camera,i=this._size*t.computeScreenPixelSizeAt(this._position),r=Math.min(this._maxSize,i);(0,o.kN)(b,this._position),(0,o.hs)(b,b,[r,r,r]),e.transformation=b}_setTransformDraped(e){if(0===e.length)return;const{view:{overlayManager:t,state:{contentPixelRatio:i}}}=this,{_position:r,_size:n}=this,a=(0,s.d)(d.rq.get(),r);a[2]=p.bi;const l=S;l.spatialReference=t.spatialReference,l.x=a[0],l.y=a[1];const c=n*(this.view.overlayPixelSizeInMapUnits(l)*i),u=Math.min(this._maxSize,c);(0,o.kN)(b,a),(0,o.hs)(b,b,[u,u,1]);for(const o of e)o.transformation=b}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){var e,t;null!==(e=this.object3dResources.resources)&&void 0!==e&&e.quadMaterial.setParameters(this._quadMaterialParameters),null===(t=this.drapedResources.resources)||void 0===t||t.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){var e,t;null!==(e=this.object3dResources.resources)&&void 0!==e&&null!==(e=e.outlineMaterial)&&void 0!==e&&e.setParameters(this._outlineMaterialParameters),null===(t=this.drapedResources.resources)||void 0===t||null===(t=t.outlineMaterial)||void 0===t||t.setParameters(this._outlineMaterialParameters)}}function w(e){e.pixelRatioHandle.remove(),e.geometries=[]}const b=(0,n.vt)(),S=(0,u.TH)(0,0,void 0,null)},61237:(e,t,i)=>{i.d(t,{L:()=>p});var r=i(89379),o=i(30726),n=i(50346),s=i(68134),a=i(74e3),l=i(32535),c=i(12482),d=i(17046),u=i(13284),h=i(59752);function p(e){let{predicate:t=()=>!0,snappingManager:i,snappingContext:l,updatingHandles:p,useZ:m=!0}=e;const x=new d.rh;if(null==i)return{snappingStep:[v,x],cancelSnapping:v};let y,w=null,b=null,S=null;const D=()=>{var e;w=(0,o.DC)(w),i.doneSnapping(),null!==(e=b)&&void 0!==e&&e.frameTask.remove(),b=null,y=(0,o.xt)(y),S=null},C=(R=i,M=m,O=x,(0,n.sg)(async(e,t)=>{let{frameTask:i,point:r,scenePoint:o,context:n,event:s,delta:l,getLastState:c}=e;const d=await i.schedule(()=>R.snap({point:r,scenePoint:o,context:n,signal:t}),t);if(d.valid){let e=await i.schedule(()=>d.apply(),t);const o=c();null!=o.point&&r!==o.point&&(e=R.update({point:o.point,scenePoint:o.scenePoint,context:n})),null!=o.updatePoint&&(0,a.CI)(e,o.updatePoint)||(_(s.mapEnd,e,l,M),O.execute(s))}}));var R,M,O;let P=null,z=null,A=null;return{snappingStep:[e=>{if(!t(e))return e;const{action:o}=e;if("start"===o){const{info:t}=e,r=function(e){return"3d"===e.type?e.resourceController.scheduler.registerTask(h.W6.SNAPPING):h.nu}(i.view);if(b=function(e,t,i){return{context:new u.e({editGeometryOperations:e.editGeometryOperations,elevationInfo:e.elevationInfo,pointer:e.pointer,vertexHandle:null!=t.info?t.info.handle:null,excludeFeature:e.excludeFeature,feature:e.feature,visualizer:e.visualizer}),originalPos:null!=t.snapOrigin?e.coordinateHelper.vectorToDehydratedPoint(t.snapOrigin):t.mapStart,originalScenePos:null!=t.scenePoints?t.scenePoints.sceneStart:null,frameTask:i}}(l,e,r),b.context.selfSnappingZ=null,!m&&null!=t){var a;const e=function(e,t){if(!e.hasZ())return null;const i=t.vertices;let r=null;for(const o of i){const t=e.getZ(o.pos);if(null!=r&&null!=t&&Math.abs(t-r)>1e-6)return null;null==r&&(r=t)}return r}(l.coordinateHelper,t.handle.part);null!=e&&(b.context.selfSnappingZ={value:e,elevationInfo:null!==(a=l.elevationInfo)&&void 0!==a?a:c.qt})}}if(null!=b){const{context:t,originalScenePos:a,originalPos:l}=b,{mapEnd:c,mapStart:d,scenePoints:u}=e,h=g(l,f(c,d)),v=f(d,l),x=(0,r.A)((0,r.A)({},e),{},{action:"update"}),D=b.context,R=function(e,t){return null==e||null==t?null:g(e,f(t.sceneEnd,t.sceneStart))}(a,u),M=i.update({point:h,scenePoint:R,context:t});if(A=M,_(c,M,v,m),P=h,z=R,"end"!==o){const{frameTask:e}=b;null==w&&(w=new AbortController),S=t=>{p.addPromise((0,n.QZ)(C({frameTask:e,event:x,context:D,point:h,scenePoint:R,delta:v,getLastState:()=>({point:P,scenePoint:z,updatePoint:t.forceUpdate?null:A})},w.signal)))},S({forceUpdate:!1}),null==y&&(y=(0,s.wB)(()=>i.options.effectiveEnabled,()=>{var e;return null===(e=S)||void 0===e?void 0:e({forceUpdate:!0})}))}}return"end"===o&&D(),e},x],cancelSnapping:e=>(D(),e)}}function g(e,t){let[i,r,o]=t;const n=(0,l.EL)(e);return n.x+=i,n.y+=r,n.hasZ&&(n.z+=o),n}function f(e,t){const i=e.hasZ&&t.hasZ?e.z-t.z:0;return[e.x-t.x,e.y-t.y,i]}function _(e,t,i,r){let[o,n,s]=i;e.x=t.x+o,e.y=t.y+n,r&&e.hasZ&&t.hasZ&&(e.z=t.z+s)}function v(e){return e}},70836:(e,t,i)=>{i.d(t,{s:()=>V});var r=i(69539),o=i(59784),n=(i(81806),i(54901)),s=i(20664),a=i(9392),l=i(14487),c=i(12482),d=i(4244),u=i(75655),h=i(68134),p=i(76931),g=i(19555),f=i(72745),_=i(43047),v=i(55855),m=i(18117),x=i(85746),y=i(1599),w=i(72017),b=i(442),S=i(52479);class D extends x.X{constructor(e){super(e),this._location=(0,a.vt)(),this._direction=(0,a.fA)(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=(0,v.fA)(1,0,1,1),this._renderOccluded=4,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:M,recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry(),forEachMaterial:(e,t)=>t(e.material)}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:O,recreateGeometry:e=>this._recreateDrapedGeometry(e),forEachMaterial:(e,t)=>t(e.material)}}get location(){return this._location}set location(e){(0,s.q)(this._location,e)||((0,s.d)(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){(0,s.q)(this._direction,e)||((0,s.d)(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){(0,s.n)(this._direction,(0,s.e)(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){(0,_.a)(e,this._color)||((0,_.d)(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e,this._updateMaterial()}_createObject3DResources(e){const t=new S.W(this.materialParameters,this.view.state.isGlobal),i=new Array;return this._createObject3DGeometry(t,e,i),{material:t,geometries:i}}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,i){const[r,o]=C(e);t.addGeometry(r),t.addGeometry(o),i.push(r),i.push(o),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new S.W(this.materialParameters,this.view.state.isGlobal),t=(0,h.wB)(()=>this.view.state.contentPixelRatio,()=>this.drapedResources.recreateGeometry());return{material:e,geometries:this._createDrapedGeometry(e),pixelRatioHandle:t}}_recreateDrapedGeometry(e){e.geometries=this._createDrapedGeometry(e.material)}_createDrapedGeometry(e){const t=C(e);return this._updateVerticesDraped(t),t.map(e=>new b.$(e))}_updateMaterial(){var e,t;const{materialParameters:i}=this;null!==(e=this.object3dResources.resources)&&void 0!==e&&e.material.setParameters(i),null===(t=this.drapedResources.resources)||void 0===t||t.material.setParameters(i)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this.view.state.camera;t.projectToScreen(this.location,T),(0,s.g)(P,this.location,this.direction),t.projectToScreen(P,j),(0,g.S8)(j,(0,g.Re)(j,j,T)),this._updateVertexAttributesObject3D(t,e,0,T,j,1),this._updateVertexAttributesObject3D(t,e,1,T,j,-1)}_updateVertexAttributesObject3D(e,t,i,r,o,n){var s;const a=t.geometries[i],l=null===(s=a.getMutableAttribute("position"))||void 0===s?void 0:s.data;if(!l)return;const{start:c,end:d}=R(o,r,n,this.offset,this.width,this.length);e.unprojectFromScreen((0,p.PR)(c),P),l[0]=P[0],l[1]=P[1],l[2]=P[2],e.unprojectFromScreen((0,p.PR)(d),P),l[3]=P[0],l[4]=P[1],l[5]=P[2],t.geometryVertexAttributeUpdated(a,"position")}_updateVerticesDraped(e){const{view:{overlayManager:t,state:{contentPixelRatio:i}}}=this,{location:r,width:o,length:n,offset:s}=this,a=Z;a.spatialReference=t.spatialReference,a.x=r[0],a.y=r[1];const l=this.view.overlayPixelSizeInMapUnits(a)*i,c=o*l,d=n*l,u=s*l;this._updateVertexAttributesDraped(e[0],c,d,u,-1),this._updateVertexAttributesDraped(e[1],c,d,u,1)}_updateVertexAttributesDraped(e,t,i,r,o){var n;const s=null===(n=e.getMutableAttribute("position"))||void 0===n?void 0:n.data;if(!s)return;const{location:a,direction:l}=this,{start:c,end:d}=R(l,a,o,r,t,i);s[0]=c[0],s[1]=c[1],s[2]=y.bi,s[3]=d[0],s[4]=d[1],s[5]=y.bi,e.invalidateBoundingInfo()}}function C(e){return[(0,w.Z8)(e,[(0,a.vt)(),(0,a.vt)()]),(0,w.Z8)(e,[(0,a.vt)(),(0,a.vt)()])]}function R(e,t,i,r,o,n){const s=(0,g.hs)(z,(0,g.hZ)(z,e[1]*i,e[0]*-i),r+o/2),a=(0,g.WQ)(A,(0,g.WQ)(A,(0,g.WQ)(A,t,(0,g.hs)(A,e,n/2)),s),s);return{start:a,end:(0,g.WQ)(G,a,(0,g.hs)(G,e,-n))}}function M(e){e.geometries.length=0}function O(e){e.pixelRatioHandle.remove(),e.geometries=[]}const P=(0,a.vt)(),z=(0,f.vt)(),A=(0,f.vt)(),G=(0,f.vt)(),T=(0,p.gs)(),j=(0,p.gs)(),Z=(0,m.TH)(0,0,void 0,null);var H=i(83574),q=i(47996),k=i(23862),E=i(63078),I=i(14727),F=i(23543);class V extends I.b{sortUniqueHints(e){return e.sort((e,t)=>(t instanceof F.c?t.length:0)-(e instanceof F.c?e.length:0))}visualizeIntersectionPoint(e,t){const{spatialReference:i,view:r}=t,o=N(t);return(0,n.DQ)(new H.l({view:r,primitive:"circle",geometry:(0,k.io)(e.intersectionPoint,i),elevationInfo:e.isDraped?c.Tq:c.qt,size:20,outlineSize:2,color:o.intersectionPointColor,outlineColor:o.intersectionPointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizePoint(e,t){const{view:i,spatialReference:r}=t,o=N(t),s=B(e.point,e.domain,t);return(0,n.DQ)(new H.l({view:i,primitive:"circle",geometry:(0,k.io)(s,r),elevationInfo:Q(e),size:20,outlineSize:2,color:o.pointColor,outlineColor:o.pointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizeLine(e,t){const{view:i,spatialReference:r}=t,o=N(t),s=B(e.lineStart,e.domain,t),a=B(e.lineEnd,e.domain,t);return(0,n.DQ)(function(e,t,i,r,o,n,s){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],c=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];const d=W(t,r,o,n,a),h=W(i,r,o,n,a),p=new u.U({view:n,extensionType:3,start:d,end:h,isDraped:a,color:s.lineColor,renderOccluded:a?4:16,renderGroup:3,isDecoration:!0});switch(e){case 0:p.width=E.N.lineHintWidthTarget,p.fadedExtensions={start:0,end:E.N.lineHintFadedExtensions};break;case 2:p.width=E.N.lineHintWidthReference,p.fadedExtensions={start:0,end:0};break;case 1:p.width=E.N.lineHintWidthReference,p.fadedExtensions={start:l?E.N.lineHintFadedExtensions:0,end:c?E.N.lineHintFadedExtensions:0}}return p.attached=!0,p}(e.type,s,a,r,Q(e),i,o,e.isDraped,e.fadeLeft,e.fadeRight))}visualizeParallelSign(e,t){const{view:i,spatialReference:r}=t,o=N(t),{isDraped:a}=e,l=Q(e),c=B(e.lineStart,e.domain,t),d=B(e.lineEnd,e.domain,t),u=W(c,r,l,i,a),h=W(d,r,l,i,a),p=(0,s.l)(h,u,h,.5),g=new D({view:i,attached:!1,offset:E.N.parallelLineHintOffset,length:E.N.parallelLineHintLength,width:E.N.parallelLineHintWidth,color:o.parallelSignColor,location:p,renderOccluded:a?4:16,isDraped:a,renderGroup:3,isDecoration:!0});return g.setDirectionFromPoints(u,p),g.attached=!0,(0,n.DQ)(g)}visualizeRightAngleQuad(e,t){const{view:i,spatialReference:r}=t,o=N(t),s=Q(e),{isDraped:a}=e,l=B(e.previousVertex,e.domain,t),c=B(e.centerVertex,e.domain,t),d=B(e.nextVertex,e.domain,t),u=W(l,r,s,i,a),h=W(c,r,s,i,a),p=W(d,r,s,i,a);return(0,n.DQ)(new q.n({view:i,attached:!0,color:a?o.rightAngleColorDraped:o.rightAngleColor,renderOccluded:a?4:2,outlineRenderOccluded:a?4:16,outlineColor:o.rightAngleOutlineColor,outlineSize:E.N.rightAngleHintOutlineSize,size:E.N.rightAngleHintSize,isDraped:a,geometry:{previous:u,center:h,next:p},renderGroup:3,isDecoration:!0}))}}function N(e){const{effectiveTheme:t}=e.view,i=r.A.toUnitRGBA(t.accentColor),n=[0,0,0,0];return{intersectionPointColor:n,intersectionPointOutlineColor:i,pointColor:n,pointOutlineColor:i,lineColor:i,lineOutlineColor:void 0,parallelSignColor:i,rightAngleColor:i,rightAngleColorDraped:r.A.toUnitRGBA((0,o._L)(t.accentColor,.5)),rightAngleOutlineColor:i}}function B(e,t,i){let{selfSnappingZ:r,view:o,spatialReference:n}=i;return 2&t&&(0,k.Ex)(e)&&null!=r?(0,k.FH)(e,r,o,n):e}function Q(e){return e.isDraped?c.Tq:c.qt}function W(e,t,i,r,o){const n=(0,a.vt)();if(o){const i=r.overlayManager.spatialReference;(0,l.F)(e,t,n,i)}else(0,d.X)(e,t,i,r,n);return n}}}]);
//# sourceMappingURL=88577.1bcc5c6e.chunk.js.map