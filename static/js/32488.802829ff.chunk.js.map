{"version":3,"file":"static/js/32488.802829ff.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,screenPointObjectToArray as n,castScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as o,d as l,l as s,c,e as i,g as a,f as u}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import m from\"../../../../geometry/Point.js\";import{projectPoint as f}from\"../../../../geometry/projectionUtils.js\";import{intersectRay as d,create as g,getNormal as E,fromPositionAndNormal as y}from\"../../../../geometry/support/plane.js\";import{create as S,closestPoints as j}from\"../../../../geometry/support/ray.js\";import{projectPoint as v}from\"../../../../geometry/support/vector.js\";import{sv2d as R}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{Intersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as I}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{IntersectorType as U}from\"../../webgl-engine/lib/IntersectorType.js\";import{terrainId as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function T(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(e,t){const o=p(),l=p();let s=!1;return c=>{const i=t(c);if(\"start\"===c.action){const t=n(c.screenStart,r(R.get())),l=w(e.state.camera,t,Q);null!=l&&(s=d(i,l,o))}if(!s)return null;const a=n(c.screenEnd,r(R.get())),u=w(e.state.camera,a,Q);return null==u?null:d(i,u,l)?{...c,renderStart:o,renderEnd:l,plane:i,ray:u}:null}}function D(n,r,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=n.sceneIntersectionHelper.intersectElevationFromScreen(e(c.screenStart.x,c.screenStart.y),r,t,l),null!=s&&null!=o&&!f(s,s,o)))return null;if(null==s)return null;const i=n.sceneIntersectionHelper.intersectElevationFromScreen(e(c.screenEnd.x,c.screenEnd.y),r,t,l);return null!=i&&(null==o||f(i,i,o))?{...c,mapStart:s,mapEnd:i}:null}}function M(e,n,r,t=null,o=null){return D(e,r,b(n,e,r),t,o)}function N(e,n,r,t){const o=r.toMap(e.screenStart);return null!=o?M(n,o,r.elevationInfo,t):null}function h(e,n){const r=K,t=L,s=g();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=o(E(s),r,l(t,n,e.state.camera.eye));return o(c,c,r),y(n,c,s)}function G(e,n,r){let t=null;const o=new O;return o.next(T(e,h(e,n))).next(k(e,n)).next(F(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function k(e,n){const r=p(),t=s(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const o=p(),m=p(),f=o=>{if(l(o,o,n),v(r,o,o),\"global\"===e.viewingMode){s(o)*Math.sign(i(r,o))<.001-t&&l(o,a(o,r,.001),n)}return u(o,o,n),o};return e=>(e.renderStart=f(c(o,e.renderStart)),e.renderEnd=f(c(m,e.renderEnd)),e)}function A(e,t){const o=o=>{const l=n(o,r(J)),s=w(e.state.camera,l,Q);if(null==s)return null;const c=j(t,s,K,L);return c?.[0]};return e=>{const n=o(e.screenStart);if(null==n)return null;const r=o(e.screenEnd);return null==r?null:{...e,renderStart:n,renderEnd:r}}}function F(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new m({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new m({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var q;function z(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function B(r,t=null){const o=new x(r.state.viewingMode);o.options.selectionMode=!0,o.options.store=I.MIN,o.options.hud=!1;const l=e(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=p(),i=t??r.spatialReference,a=e=>{r.map.ground&&r.map.ground.opacity<1?s.exclude.add(H):s.exclude.delete(H),r.sceneIntersectionHelper.intersectIntersectorScreen(n(e,l),o,s);const t=o.results.min;let a;if(t.getIntersectionPoint(c))a=t.intersector===U.TERRAIN?q.GROUND:q.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;a=q.GROUND}return{location:r.renderCoordsHelper.fromRenderCoords(c,new m({spatialReference:i})),surfaceType:a}};let u;return e=>{if(\"start\"===e.action){const n=a(e.screenStart);u=null!=n?n.location:null}if(null==u)return null;const n=a(e.screenEnd);return null!=n?.location?{...e,mapStart:u,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=t(),K=p(),L=p(),Q=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,k as projectToWorldUp,B as screenToMap3D,M as screenToMapXYAtLocation,N as screenToMapXYForManipulatedObject,T as screenToRenderPlane,C as screenToRenderPlaneFromEvent,A as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e,d as t,q as r,u as i}from\"../../../../chunks/vec32.js\";import{create as s,fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a,c as o}from\"../../../../chunks/vec42.js\";import{fromValues as l,clone as h}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{fromRay as d,create as _,getStart as c,getEnd as p}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as u}from\"../../../../geometry/support/frustum.js\";import{create as m,fromPoints as f,pointAt as y}from\"../../../../geometry/support/lineSegment.js\";import{create as g,fromPoints as b}from\"../../../../geometry/support/ray.js\";import{EngineVisualElement as D}from\"./EngineVisualElement.js\";import{LaserlineVisualElement as O}from\"./LaserlineVisualElement.js\";import{drapedZ as w}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as E}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as A}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as j}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as R}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as C}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class G extends D{constructor(e){super(e),this._ray=g(),this._isWorldDown=!1,this._start=s(),this._end=n(1,0,0),this._width=1,this._color=l(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=l(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=A.OccludeAndTransparent,this._fadedExtensions=L,this._laserline=new O({view:this.view,isDecoration:e.isDecoration}),this.applyProperties(e)}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:P,recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry(),forEachMaterial:(e,t)=>t(e.material)}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:P,recreateGeometry:e=>this._recreateDrapedGeometry(e),forEachMaterial:(e,t)=>t(e.material)}}updateVisibility(e){super.updateVisibility(e),this._laserline.visible=e}onAttachedChange(){this._laserline.attached=this._laserlineAttached}setStartEndFromWorldDownAtLocation(r){this._isWorldDown=!0,e(this._start,r),this.view.renderCoordsHelper.worldUpAtPosition(r,this._end),t(this._end,r,this._end),b(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(t){this._isWorldDown=!1,r(this._start,t)||(e(this._start,t),b(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(t){this._isWorldDown=!1,r(this._end,t)||(e(this._end,t),b(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){a(e,this._color)||(o(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){a(e,this._innerColor)||(o(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){null!=e&&null!=this._stippleOffColor&&a(e,this._stippleOffColor)||(this._stippleOffColor=null!=e?h(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&null!=this._laserlineStyle&&this.attached&&!this.isDraped}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===A.OccludeAndTransparentStencil?A.OccludeAndTransparent:this._renderOccluded}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=e??L,this.recreateGeometry()}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration,writeDepth:this._writeDepthEnabled}}_createObject3DResources(e){const t=new C(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r}}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const i=this._createGeometry(e);r.push(i),t.addGeometry(i),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new C(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}_recreateDrapedGeometry(e){e.geometries=[this._createDrapedGeometry(e.material)]}_createDrapedGeometry(e){const t=this._createGeometry(e);return this._updateVerticesDraped(t),new j(t)}_createGeometry(e){const t=this.extensionType===V.FADED,r=t?[s(),s(),s(),s()]:[s(),s()];return E(e,r,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}_updateVerticesDraped(e){this._updateVertexAttributesDraped(e,this._lineSegment)}get _lineSegment(){return this._extensionType===V.FADED?this._updateLineSegmentFinite(S):this._updateLineSegmentInfinite(this._extensionType,S)}_updateLineSegmentFinite(e){return f(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const r=this.view.state.camera;switch(d(this._ray,x),e){case V.LINE:x.c0=-Number.MAX_VALUE;break;case V.RAY:case V.GROUND_RAY:{const e=this._ray.origin,t=this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\")??0,r=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&r<t&&i(x.ray.direction,x.ray.direction),this._extensionType===V.GROUND_RAY&&null!=t&&(x.c1=Math.abs(r-t));break}}if(!u(r.frustum,x))return this._updateLineSegmentFinite(t);const s=c(x,v),n=p(x,M);return f(s,n,t)}_updateVertexAttributesObject3D(e,t){const r=e.geometries[0].getMutableAttribute(R.POSITION)?.data;if(!r)return;let i=0;for(const s of this._lineVertices(t))r[i++]=s[0],r[i++]=s[1],r[i++]=s[2];e.geometryVertexAttributeUpdated(e.geometries[0],R.POSITION)}_updateVertexAttributesDraped(e,t){const r=e.getMutableAttribute(R.POSITION)?.data;if(!r)return;let i=0;for(const s of this._lineVertices(t))r[i++]=s[0],r[i++]=s[1],r[i++]=w;e.invalidateBoundingInfo()}*_lineVertices(e){this.extensionType===V.FADED?(yield y(e,-this.fadedExtensions.start,v),yield y(e,0,v),yield y(e,1,v),yield y(e,1+this.fadedExtensions.end,v)):(yield y(e,0,v),yield y(e,1,v))}}function P(e){e.geometries=[]}const x=_(),v=s(),M=s(),S=m();var V;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(V||(V={}));const T=1/3,L={start:T,end:T};export{G as ExtendedLineVisualElement,V as ExtensionType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{i as t}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,c as s}from\"../../../../chunks/vec42.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectVectorToVector as n}from\"../../../../geometry/projection/projectVectorToVector.js\";import{expandWithBuffer as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{ViewingMode as u}from\"../../../ViewingMode.js\";import{Object3DVisualElement as h}from\"./Object3DVisualElement.js\";import{evaluateElevationAlignmentAtPoint as m}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as p}from\"../../layers/graphics/ElevationContext.js\";import{defaultBoundingBox as c,requiresHalfTexelOffset as _,defaultSymbolSizeRatio as g,createTexture as d}from\"../../support/engineContent/sdfPrimitives.js\";import{createPointGeometry as f}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as x}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as v}from\"../../webgl-engine/materials/HUDMaterial.js\";class S extends h{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=o(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=o(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){r(e,this._color)||(s(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(s(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material?.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(x.SIZE).data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],x.SIZE)}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:_(this._primitive),distanceFieldBoundingBox:c,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawAsLabel:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/g}createExternalResources(){this._texture=d(this._primitive,this._preferredTextureSize),this._material=new v(this._materialParameters,this.view.state.viewingMode===u.Global);const e=this.view.stage;this._texture.load(e.renderView.renderingContext),e.addTexture(this._texture)}destroyExternalResources(){if(this._texture){this.view.stage.removeTexture(this._texture),this._texture.dispose(),this._texture=null}this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachMaterial(e){e(this._material)}get _preferredTextureSize(){return e(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(x.POSITION).data;return n(i,this.view.renderCoordsHelper.spatialReference,b,this.view.spatialReference),a(e,b),!0}_createRenderGeometry(){const{geometry:e,_material:i}=this;if(null==e||null==i)return null;const{renderCoordsHelper:r,elevationProvider:s}=this.view,o=m(e,s,p.fromElevationInfo(this.elevationInfo),r),a=t(l.get(),e.x,e.y,o),u=l.get();n(a,e.spatialReference,u,r.spatialReference);const h=this._geometrySize;return f(i,{position:u,size:[h,h],centerOffsetAndDistance:[0,0,0,1]})}}const b=i();export{S as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import s from\"../../../../core/Identifiable.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapedRenderGroup as i,DrapeSourceType as c}from\"../../layers/interfaces.js\";import{DirtyOperation as u}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{UpdatePolicy as a}from\"../../webgl-engine/lib/UpdatePolicy.js\";class d{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=i.Outline}destroy(){this._destroyResources()}get resources(){return this._resources?.external}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}forEachMaterial(e){this._resources&&this._resourceFactory.forEachMaterial(this._resources.external,e)}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new n({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:r,external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,u.UPDATE),this._resources.geometriesAdded=!0}}let n=class extends(s.IdentifiableMixin(r)){constructor(e){super(e),this.drapeSourceType=c.Features,this.updatePolicy=a.SYNC,this.renderGroup=i.Outline}};e([t({constructOnly:!0})],n.prototype,\"view\",void 0),e([t({readOnly:!0})],n.prototype,\"drapeSourceType\",void 0),e([t()],n.prototype,\"renderGroup\",void 0),n=e([o(\"esri.views.3d.interactive.visualElements.DrapedVisualElementResources\")],n);export{d as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{watch as e,initial as s}from\"../../../../core/reactiveUtils.js\";import{Object3D as r}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as t}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class i{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view.stage;if(null==this._resources||!e)return;const s=this._resources.object;s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer)}forEachMaterial(e){this._resources&&this._resourceFactory.forEachMaterial(this._resources.external,e)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const i=this._resourceFactory,o=i.view,a=o.stage;if(!a)return;const h=new c(a,{pickable:!1,updatePolicy:t.SYNC}),u=new r({castShadow:!1}),l=i.createResources(u,h);h.add(u);const _=i.cameraChanged,n=_?e((()=>o.state.camera),(e=>_(e)),s):null;this._resources={layer:h,object:u,external:l,cameraHandle:n},this._syncVisible()}_destroyResources(){null!=this._resources&&(this._resources.layer.destroy(),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null)}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}export{i as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{DrapedVisualElementResources as e}from\"./DrapedVisualElementResources.js\";import{VisualElement as s}from\"./VisualElement.js\";import{VisualElementResources as r}from\"./VisualElementResources.js\";class t extends s{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new r(this.createObject3DResourceFactory(s.view)),this.drapedResources=new e(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}forEachMaterial(e){this.object3dResources?.forEachMaterial(e),this.drapedResources?.forEachMaterial(e)}}export{t as EngineVisualElement};\n"],"names":["q","e","T","n","P","C","plane","t","o","p","l","s","c","i","action","screenStart","r","R","get","w","state","camera","Q","d","a","screenEnd","u","_objectSpread","renderStart","renderEnd","ray","M","arguments","length","undefined","sceneIntersectionHelper","intersectElevationFromScreen","x","y","f","mapStart","mapEnd","D","b","N","toMap","elevationInfo","G","O","next","K","L","g","renderCoordsHelper","worldUpAtPosition","E","eye","h","m","v","viewingMode","Math","sign","k","F","execute","A","J","j","fromRenderCoords","spatialReference","z","disableDisplay","remove","B","options","selectionMode","store","I","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","map","ground","opacity","add","H","delete","intersectIntersectorScreen","results","min","getIntersectionPoint","intersector","U","TERRAIN","GROUND","OTHER","location","surfaceType","S","dash","dot","none","solid","pattern","pixelRatio","type","slice","style","constructor","super","this","_ray","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","V","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","OccludeAndTransparent","_fadedExtensions","_laserline","view","isDecoration","applyProperties","destroy","createObject3DResourceFactory","createResources","_createObject3DResources","destroyResources","recreateGeometry","_recreateObject3DGeometry","cameraChanged","_updateGeometry","forEachMaterial","material","createDrapedResourceFactory","_createDrapedResources","_recreateDrapedGeometry","updateVisibility","visible","onAttachedChange","attached","_laserlineAttached","setStartEndFromWorldDownAtLocation","start","end","width","_updateMaterial","color","polygonOffset","writeDepthEnabled","innerWidth","innerColor","stipplePattern","recreate","stippleOffColor","stipplePreferContinuous","falloff","extensionType","isDraped","laserlineStyle","laserlineEnabled","renderOccluded","_normalizedRenderOccluded","OccludeAndTransparentStencil","fadedExtensions","_this$object3dResourc","_this$drapedResources","materialParameters","object3dResources","resources","setParameters","drapedResources","hasPolygonOffset","writeDepth","Array","_createObject3DGeometry","geometries","_createGeometry","push","addGeometry","_updateVerticesObject3D","_createDrapedGeometry","_updateVerticesDraped","FADED","object","_lineSegment","_updateVertexAttributesObject3D","intersectsLine","_updateVertexAttributesDraped","_updateLineSegmentFinite","_updateLineSegmentInfinite","c0","Number","MAX_VALUE","RAY","GROUND_RAY","_this$view$elevationP","origin","elevationProvider","getElevation","getAltitude","direction","c1","abs","frustum","_e$geometries$0$getMu","getMutableAttribute","POSITION","data","_lineVertices","geometryVertexAttributeUpdated","_e$getMutableAttribut","invalidateBoundingInfo","_","_material","_texture","_geometry","_size","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","geometry","size","_preferredTextureSize","_updateSizeAttribute","pixelSnappingEnabled","primitive","outlineSize","outlineColor","_this$_material","_materialParameters","SIZE","_geometrySize","_this$_texture","textureIsSignedDistanceField","sampleSignedDistanceFieldTexelCenter","distanceFieldBoundingBox","occlusionTest","textureId","id","shaderPolygonOffset","drawAsLabel","depthEnabled","createExternalResources","Global","stage","load","renderView","renderingContext","addTexture","destroyExternalResources","removeTexture","dispose","createGeometries","_createRenderGeometry","calculateMapBounds","_this$object","attributes","fromElevationInfo","position","centerOffsetAndDistance","_resourceFactory","_resources","_visible","_attached","_renderGroup","Outline","_destroyResources","_this$_resources","external","_syncGeometriesToRenderer","_createOrDestroyResources","renderGroup","_this$_resources2","layerView","_createResources","_ensureRenderGeometriesRemoved","_this$_resourceFactor","basemapTerrain","overlayManager","geometriesAdded","drapeSourceRenderer","registerGeometryDrapeSource","_this$_resourceFactor2","unregisterDrapeSource","_ensureRenderGeometriesAdded","_this$_resources3","removeGeometries","UPDATE","_this$_resources4","addGeometries","IdentifiableMixin","drapeSourceType","Features","updatePolicy","SYNC","constructOnly","prototype","readOnly","_syncVisible","removeAllGeometries","layer","pickable","castShadow","cameraHandle","_this$_resources$came","_s$isDraped","_isDraped"],"sourceRoot":""}